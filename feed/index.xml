<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	>

<channel>
	<title>MasaruのIT＆マーケティングBLOG  |  Info Tech &amp; Marketing BLOG by Masaru</title>
	<atom:link href="https://masaru-kmt.github.io/feed/" rel="self" type="application/rss+xml" />
	<link>https://masaru-kmt.github.io/</link>
	<description>Cross the cliffs of the times</description>
	<lastBuildDate>Sun, 11 Apr 2021 04:33:55 +0000</lastBuildDate>
	<language>ja</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.7</generator>
<site xmlns="com-wordpress:feed-additions:1">191177362</site>	<item>
		<title>WordPressサイトを静的に出力してGitHub Pagesを作る</title>
		<link>https://masaru-kmt.github.io/2021/04/11/wordpress%e3%82%b5%e3%82%a4%e3%83%88%e3%82%92%e9%9d%99%e7%9a%84%e3%81%ab%e5%87%ba%e5%8a%9b%e3%81%97%e3%81%a6github-pages%e3%82%92%e4%bd%9c%e3%82%8b/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=wordpress%25e3%2582%25b5%25e3%2582%25a4%25e3%2583%2588%25e3%2582%2592%25e9%259d%2599%25e7%259a%2584%25e3%2581%25ab%25e5%2587%25ba%25e5%258a%259b%25e3%2581%2597%25e3%2581%25a6github-pages%25e3%2582%2592%25e4%25bd%259c%25e3%2582%258b</link>
					<comments>https://masaru-kmt.github.io/2021/04/11/wordpress%e3%82%b5%e3%82%a4%e3%83%88%e3%82%92%e9%9d%99%e7%9a%84%e3%81%ab%e5%87%ba%e5%8a%9b%e3%81%97%e3%81%a6github-pages%e3%82%92%e4%bd%9c%e3%82%8b/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Sun, 11 Apr 2021 04:33:52 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[Webデザイン]]></category>
		<category><![CDATA[Webマーケティング]]></category>
		<category><![CDATA[GitHub Desktop]]></category>
		<category><![CDATA[GitHub Pages]]></category>
		<category><![CDATA[WordPress]]></category>
		<category><![CDATA[静的CMS]]></category>
		<guid isPermaLink="false">https://masaru-kmt.github.io/?p=357</guid>

					<description><![CDATA[<p>セキュリティが心配されるWordPress 　前にいた会社でキャラクター商品宣伝用のスペシャルサイトを作ることになりました。独自CMSを使っておりセキュリティ上の理由で制作会社さんからのCMS接続が難しかったため、系列会&#8230; <a class="more-link" href="https://masaru-kmt.github.io/2021/04/11/wordpress%e3%82%b5%e3%82%a4%e3%83%88%e3%82%92%e9%9d%99%e7%9a%84%e3%81%ab%e5%87%ba%e5%8a%9b%e3%81%97%e3%81%a6github-pages%e3%82%92%e4%bd%9c%e3%82%8b/">続きを読む <span class="screen-reader-text">WordPressサイトを静的に出力してGitHub Pagesを作る</span></a></p>
<p>The post <a href="https://masaru-kmt.github.io/2021/04/11/wordpress%e3%82%b5%e3%82%a4%e3%83%88%e3%82%92%e9%9d%99%e7%9a%84%e3%81%ab%e5%87%ba%e5%8a%9b%e3%81%97%e3%81%a6github-pages%e3%82%92%e4%bd%9c%e3%82%8b/">WordPressサイトを静的に出力してGitHub Pagesを作る</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>セキュリティが心配されるWordPress</h2>



<p>　前にいた会社でキャラクター商品宣伝用のスペシャルサイトを作ることになりました。独自CMSを使っておりセキュリティ上の理由で制作会社さんからのCMS接続が難しかったため、系列会社のホスティングでサブドメインを作ることにしました。</p>



<p>　運営もコンテンツ修正が出来るようにしたかった(ベタHTMLで作ると都度制作会社さんに修正料金を払う必要がある)のでWordPressの導入を検討。しかし情シス担当者に「WordPressはセキュリティが弱いから止めてくれ」と言われ、制作会社さんにも「ベタHTMLにしてくれ(ないと面倒だし儲からない)」と言われ泣く泣くベタHTMLにしました。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>WordPressのセキュリティが弱いのは動的CMSだから</h2>



<p>　　WordPressのセキュリティが多方面から懸念されてしまうのは、PHPという動的なサイト生成基盤を使っていることと単に「<strong>有名だから狙われやすい</strong>」のが理由です。「<strong>狙われたくないから情シスが勧めるマイナーなCMSを選ぶ</strong>」のは消極的であって根本的な問題解決になっていません。</p>



<p>　WordPressで作成した動的サイトを静的サイト(HTML+CSS+JavaScript)に変換して公開すれば、サイトが動的に生成されることによるセキュリティの問題を回避出来ます。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>無料のGitHub Pagesで試してみる</h2>



<p>　当サイトを無料の<a href="https://docs.github.com/ja/pages/getting-started-with-github-pages/about-github-pages" target="_blank" rel="noreferrer noopener">GitHub Pages</a>に静的サイトとしてミラーしてみましたので、やり方をメモとして残します。</p>



<p><a href="https://masaru-kmt.github.io/">https://masaru-kmt.github.io/</a></p>



<p>　もちろん、WordPressで静的サイトを作成したからといって大元のWordPressが安全になったわけではありません。セキュリティ上の観点からは、先にご紹介した<a href="https://masaru-kmt.github.io/2021/04/07/wordpress%e3%82%92%e3%83%ad%e3%83%bc%e3%82%ab%e3%83%ab%e9%96%8b%e7%99%ba%e7%92%b0%e5%a2%83%e3%81%a8%e5%90%8c%e6%9c%9f%e3%81%99%e3%82%8b/" target="_blank" rel="noreferrer noopener">Local</a>など<strong>非公開</strong>のWordPressでサイトを作成し、GitHub Pagesなど公開環境に静的サイトをコミットするのが適切です。</p>



<p>　まず、GitHubでサイト名のレポジトリを作成します。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="361" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/GitHubPagesRepo.png?resize=750%2C361&#038;ssl=1" alt="" class="wp-image-362" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/GitHubPagesRepo.png?resize=1024%2C493&amp;ssl=1 1024w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/GitHubPagesRepo.png?resize=300%2C144&amp;ssl=1 300w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/GitHubPagesRepo.png?resize=768%2C370&amp;ssl=1 768w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/GitHubPagesRepo.png?w=1417&amp;ssl=1 1417w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /><figcaption>GitHubでGitHub Pages用のレポジトリを作成する</figcaption></figure>



<p>　次に、GitHubをまだ本格的に使っていない人は<a href="https://desktop.github.com/" target="_blank" rel="noreferrer noopener">GitHub Desktop</a>をダウンロードします(Windows/Mac)。私はUbuntuにはGitを入れていますが、Webサイトでは一度にたくさんのファイルをコミットするので今回はWindowsで試してみました。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="516" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/GitHubDesktop.png?resize=750%2C516&#038;ssl=1" alt="" class="wp-image-363" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/GitHubDesktop.png?resize=1024%2C704&amp;ssl=1 1024w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/GitHubDesktop.png?resize=300%2C206&amp;ssl=1 300w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/GitHubDesktop.png?resize=768%2C528&amp;ssl=1 768w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/GitHubDesktop.png?w=1200&amp;ssl=1 1200w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /><figcaption>GitHub DesktopならCLIが苦手な初心者でも安心()</figcaption></figure>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>WordPressから静的サイトを生成する『Simply Static』</h2>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="344" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/SimplyStatic2.png?resize=750%2C344&#038;ssl=1" alt="" class="wp-image-364" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/SimplyStatic2.png?resize=1024%2C469&amp;ssl=1 1024w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/SimplyStatic2.png?resize=300%2C137&amp;ssl=1 300w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/SimplyStatic2.png?resize=768%2C352&amp;ssl=1 768w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/SimplyStatic2.png?resize=1536%2C703&amp;ssl=1 1536w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/SimplyStatic2.png?resize=1568%2C718&amp;ssl=1 1568w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/SimplyStatic2.png?w=1865&amp;ssl=1 1865w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /><figcaption>Simply Staticは2か月前に更新されており無償なので安心</figcaption></figure>



<p>　WordPressから静的サイトを生成するプラグインは複数ありますが、検索上位のSEOサイト()で紹介されているプラグインは数年間更新が無かったり有料化されてしまったダメダメなものばかりです。結局WordPress内で検索して見つけた『Simply Static』を使うことにしました。</p>



<p>　Simple Staticの設定はパブリッシュ先のドメイン名くらいで簡単です。HTML化したサイトデータをzipファイルとしてダウンロードし、解凍してGitHub Desktopのレポジトリにドラッグ&amp;ドロップし、GitHubにコミットします。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>しばらく待たないと404 Not Foundのまま……</h2>



<p>　コミットしましたがページが表示されません。「なぜ？」と焦って検索したところ、GibHubにコミットしたHTMLがWebページとして反映されるまでに時間がかかるのが理由、のようです。</p>



<figure class="wp-block-image size-large is-resized"><img loading="lazy" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Masaru-KMT.github.io_.png?resize=610%2C340&#038;ssl=1" alt="" class="wp-image-365" width="610" height="340" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Masaru-KMT.github.io_.png?resize=1024%2C572&amp;ssl=1 1024w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Masaru-KMT.github.io_.png?resize=300%2C167&amp;ssl=1 300w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Masaru-KMT.github.io_.png?resize=768%2C429&amp;ssl=1 768w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Masaru-KMT.github.io_.png?w=1297&amp;ssl=1 1297w" sizes="(max-width: 610px) 100vw, 610px" data-recalc-dims="1" /><figcaption>HTMLを表示するには、1つずつGitHub上でコミットし直すか数10分待つ必要がある</figcaption></figure>



<p>　即時に更新を反映したいサイトには、GitHub Pagesは向かないようです。とは言え、無償でサイトを公開出来る(独自ドメインもOK)のは魅力的です。「少なくともGit (Hub)の存在くらいは知っている」という証明にはなるので検討の余地はあると思います。</p>



<p> 　ちなみに、コンタクトフォームやコメントなどWordPressの動的な機能はミラー先の静的サイトでは無効になります。静的サイトにする際は「コンタクトフォームだけ他サイトのサービスを利用する」といった対策が必要となります。</p>
<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F11%2Fwordpress%25e3%2582%25b5%25e3%2582%25a4%25e3%2583%2588%25e3%2582%2592%25e9%259d%2599%25e7%259a%2584%25e3%2581%25ab%25e5%2587%25ba%25e5%258a%259b%25e3%2581%2597%25e3%2581%25a6github-pages%25e3%2582%2592%25e4%25bd%259c%25e3%2582%258b%2F&amp;linkname=WordPress%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E9%9D%99%E7%9A%84%E3%81%AB%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%A6GitHub%20Pages%E3%82%92%E4%BD%9C%E3%82%8B" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F11%2Fwordpress%25e3%2582%25b5%25e3%2582%25a4%25e3%2583%2588%25e3%2582%2592%25e9%259d%2599%25e7%259a%2584%25e3%2581%25ab%25e5%2587%25ba%25e5%258a%259b%25e3%2581%2597%25e3%2581%25a6github-pages%25e3%2582%2592%25e4%25bd%259c%25e3%2582%258b%2F&amp;linkname=WordPress%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E9%9D%99%E7%9A%84%E3%81%AB%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%A6GitHub%20Pages%E3%82%92%E4%BD%9C%E3%82%8B" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F11%2Fwordpress%25e3%2582%25b5%25e3%2582%25a4%25e3%2583%2588%25e3%2582%2592%25e9%259d%2599%25e7%259a%2584%25e3%2581%25ab%25e5%2587%25ba%25e5%258a%259b%25e3%2581%2597%25e3%2581%25a6github-pages%25e3%2582%2592%25e4%25bd%259c%25e3%2582%258b%2F&amp;linkname=WordPress%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E9%9D%99%E7%9A%84%E3%81%AB%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%A6GitHub%20Pages%E3%82%92%E4%BD%9C%E3%82%8B" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F11%2Fwordpress%25e3%2582%25b5%25e3%2582%25a4%25e3%2583%2588%25e3%2582%2592%25e9%259d%2599%25e7%259a%2584%25e3%2581%25ab%25e5%2587%25ba%25e5%258a%259b%25e3%2581%2597%25e3%2581%25a6github-pages%25e3%2582%2592%25e4%25bd%259c%25e3%2582%258b%2F&amp;linkname=WordPress%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E9%9D%99%E7%9A%84%E3%81%AB%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%A6GitHub%20Pages%E3%82%92%E4%BD%9C%E3%82%8B" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F11%2Fwordpress%25e3%2582%25b5%25e3%2582%25a4%25e3%2583%2588%25e3%2582%2592%25e9%259d%2599%25e7%259a%2584%25e3%2581%25ab%25e5%2587%25ba%25e5%258a%259b%25e3%2581%2597%25e3%2581%25a6github-pages%25e3%2582%2592%25e4%25bd%259c%25e3%2582%258b%2F&amp;linkname=WordPress%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E9%9D%99%E7%9A%84%E3%81%AB%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%A6GitHub%20Pages%E3%82%92%E4%BD%9C%E3%82%8B" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F11%2Fwordpress%25e3%2582%25b5%25e3%2582%25a4%25e3%2583%2588%25e3%2582%2592%25e9%259d%2599%25e7%259a%2584%25e3%2581%25ab%25e5%2587%25ba%25e5%258a%259b%25e3%2581%2597%25e3%2581%25a6github-pages%25e3%2582%2592%25e4%25bd%259c%25e3%2582%258b%2F&#038;title=WordPress%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E9%9D%99%E7%9A%84%E3%81%AB%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%A6GitHub%20Pages%E3%82%92%E4%BD%9C%E3%82%8B" data-a2a-url="https://masaru-kmt.github.io/2021/04/11/wordpress%e3%82%b5%e3%82%a4%e3%83%88%e3%82%92%e9%9d%99%e7%9a%84%e3%81%ab%e5%87%ba%e5%8a%9b%e3%81%97%e3%81%a6github-pages%e3%82%92%e4%bd%9c%e3%82%8b/" data-a2a-title="WordPressサイトを静的に出力してGitHub Pagesを作る"></a></p><p>The post <a href="https://masaru-kmt.github.io/2021/04/11/wordpress%e3%82%b5%e3%82%a4%e3%83%88%e3%82%92%e9%9d%99%e7%9a%84%e3%81%ab%e5%87%ba%e5%8a%9b%e3%81%97%e3%81%a6github-pages%e3%82%92%e4%bd%9c%e3%82%8b/">WordPressサイトを静的に出力してGitHub Pagesを作る</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>https://masaru-kmt.github.io/2021/04/11/wordpress%e3%82%b5%e3%82%a4%e3%83%88%e3%82%92%e9%9d%99%e7%9a%84%e3%81%ab%e5%87%ba%e5%8a%9b%e3%81%97%e3%81%a6github-pages%e3%82%92%e4%bd%9c%e3%82%8b/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">357</post-id>	</item>
		<item>
		<title>Jupyter NotebookのセルをWordPressに貼り付ける</title>
		<link>https://masaru-kmt.github.io/2021/04/10/jupyter-notebook%e3%81%ae%e3%82%bb%e3%83%ab%e3%82%92wordpress%e3%81%ab%e8%b2%bc%e3%82%8a%e4%bb%98%e3%81%91%e3%82%8b/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=jupyter-notebook%25e3%2581%25ae%25e3%2582%25bb%25e3%2583%25ab%25e3%2582%2592wordpress%25e3%2581%25ab%25e8%25b2%25bc%25e3%2582%258a%25e4%25bb%2598%25e3%2581%2591%25e3%2582%258b</link>
					<comments>https://masaru-kmt.github.io/2021/04/10/jupyter-notebook%e3%81%ae%e3%82%bb%e3%83%ab%e3%82%92wordpress%e3%81%ab%e8%b2%bc%e3%82%8a%e4%bb%98%e3%81%91%e3%82%8b/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Fri, 09 Apr 2021 15:21:30 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[Webデザイン]]></category>
		<category><![CDATA[データ分析]]></category>
		<category><![CDATA[Jupyter Notebook]]></category>
		<category><![CDATA[nbconvert]]></category>
		<category><![CDATA[WordPress]]></category>
		<guid isPermaLink="false">https://masaru-kmt.github.io/?p=318</guid>

					<description><![CDATA[<p>手作業でJupyter NotebookをWordPressに転記するのはツライ…… 　ということでコピペする方法を探してみたところ、nbconvertを使う方法が良さそうです。 　生成されたHTMLから該当セルをWeb&#8230; <a class="more-link" href="https://masaru-kmt.github.io/2021/04/10/jupyter-notebook%e3%81%ae%e3%82%bb%e3%83%ab%e3%82%92wordpress%e3%81%ab%e8%b2%bc%e3%82%8a%e4%bb%98%e3%81%91%e3%82%8b/">続きを読む <span class="screen-reader-text">Jupyter NotebookのセルをWordPressに貼り付ける</span></a></p>
<p>The post <a href="https://masaru-kmt.github.io/2021/04/10/jupyter-notebook%e3%81%ae%e3%82%bb%e3%83%ab%e3%82%92wordpress%e3%81%ab%e8%b2%bc%e3%82%8a%e4%bb%98%e3%81%91%e3%82%8b/">Jupyter NotebookのセルをWordPressに貼り付ける</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>手作業でJupyter NotebookをWordPressに転記するのはツライ……</h2>



<p>　ということでコピペする方法を探してみたところ、<a href="https://datacoach.me/data/tips/jupyter-wordpress/" target="_blank" rel="noreferrer noopener">nbconvertを使う方法</a>が良さそうです。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>$ jupyter nbconvert --to html --template basic gstore-cust-revenue-prediction.ipynb</code></pre></div>



<p>　生成されたHTMLから該当セルをWebブラウザーのインスペクター(F12キーを押下)でコピーし、WordPressのカスタムHTMLブロックに貼り込みます。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-html" data-lang="HTML"><code>&lt;div class=&quot;input&quot;&gt;
&lt;div class=&quot;prompt input_prompt&quot;&gt;In [7]:&lt;/div&gt;
&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;numpy&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pandas&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;seaborn&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sns&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;re&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;gc&lt;/span&gt;                              &lt;span class=&quot;c1&quot;&gt;#garbage collector&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sklearn.preprocessing&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LabelEncoder&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;ast&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;literal_eval&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sklearn.model_selection&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;KFold&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sklearn.metrics&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mean_squared_error&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sklearn.model_selection&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GridSearchCV&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#Experimented hyperparams a bit with this&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;catboost&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CatBoostRegressor&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;xgboost&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;XGBRegressor&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;lightgbm&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;lgb&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;filenames&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;walk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;/home/masaru/data/kaggle_google_analytics&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;filename&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;filenames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;pass&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;enable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sns&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;whitegrid&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;palette&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;deep&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;font_scale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;figure.figsize&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_option&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;float_format&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{:f}&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;#to display full numbers in dataframe and not just exponentiated form &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;


&lt;div class=&quot;output_area&quot;&gt;

    &lt;div class=&quot;prompt&quot;&gt;&lt;/div&gt;


&lt;div class=&quot;output_subarea output_stream output_stdout output_text&quot;&gt;
&lt;pre&gt;/home/masaru/data/kaggle_google_analytics/test_v2.csv
/home/masaru/data/kaggle_google_analytics/submission.csv
/home/masaru/data/kaggle_google_analytics/deep-learning-keras-ga-revenue-prediction.ipynb
/home/masaru/data/kaggle_google_analytics/gstore-cust-revenue-prediction.ipynb
/home/masaru/data/kaggle_google_analytics/ga-customer-revenue-prediction.zip
/home/masaru/data/kaggle_google_analytics/test.csv
/home/masaru/data/kaggle_google_analytics/sample_submission_v2.csv
/home/masaru/data/kaggle_google_analytics/GoogleAnalytics_Customer_Revenue_EDA_and_Prediction.ipynb
/home/masaru/data/kaggle_google_analytics/sample_submission.csv
/home/masaru/data/kaggle_google_analytics/train_v2.csv
/home/masaru/data/kaggle_google_analytics/train.csv
/home/masaru/data/kaggle_google_analytics/.ipynb_checkpoints/gstore-cust-revenue-prediction-checkpoint.ipynb
/home/masaru/data/kaggle_google_analytics/.ipynb_checkpoints/GoogleAnalytics_Customer_Revenue_EDA_and_Prediction-checkpoint.ipynb
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;</code></pre></div>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>WordPressのテーマにNotebook用のCSSを追加する</h2>



<p>　続いて、WordPressの『外観⇒カスタマイズ⇒追加CSS』で<a href="https://estuarine.jp/2017/09/jupyter-wordpress/" target="_blank" rel="noreferrer noopener">Jupyter Notebookセル用のCSS</a>を追加します(リンク先ページのソースを参照のこと)。</p>



<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="o">,</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span><span class="o">,</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span><span class="o">,</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">re</span><span class="o">,</span> <span class="nn">gc</span>                              <span class="c1">#garbage collector</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="kn">from</span> <span class="nn">ast</span> <span class="kn">import</span> <span class="n">literal_eval</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">KFold</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">GridSearchCV</span> <span class="c1">#Experimented hyperparams a bit with this</span>

<span class="kn">from</span> <span class="nn">catboost</span> <span class="kn">import</span> <span class="n">CatBoostRegressor</span>
<span class="kn">from</span> <span class="nn">xgboost</span> <span class="kn">import</span> <span class="n">XGBRegressor</span>
<span class="kn">import</span> <span class="nn">lightgbm</span> <span class="k">as</span> <span class="nn">lgb</span>

<span class="k">for</span> <span class="n">dirname</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">filenames</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="s1">'/home/masaru/data/kaggle_google_analytics'</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dirname</span><span class="p">,</span> <span class="n">filename</span><span class="p">))</span>
        <span class="k">pass</span>
<span class="n">gc</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">'whitegrid'</span><span class="p">,</span><span class="n">palette</span><span class="o">=</span><span class="s1">'deep'</span><span class="p">,</span><span class="n">font_scale</span><span class="o">=</span><span class="mf">1.1</span><span class="p">,</span><span class="n">rc</span><span class="o">=</span><span class="p">{</span><span class="s1">'figure.figsize'</span><span class="p">:[</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">]})</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">'float_format'</span><span class="p">,</span> <span class="s1">'</span><span class="si">{:f}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">)</span>     <span class="c1">#to display full numbers in dataframe and not just exponentiated form </span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>/home/masaru/data/kaggle_google_analytics/test_v2.csv
/home/masaru/data/kaggle_google_analytics/submission.csv
/home/masaru/data/kaggle_google_analytics/deep-learning-keras-ga-revenue-prediction.ipynb
/home/masaru/data/kaggle_google_analytics/gstore-cust-revenue-prediction.ipynb
/home/masaru/data/kaggle_google_analytics/ga-customer-revenue-prediction.zip
/home/masaru/data/kaggle_google_analytics/test.csv
/home/masaru/data/kaggle_google_analytics/sample_submission_v2.csv
/home/masaru/data/kaggle_google_analytics/GoogleAnalytics_Customer_Revenue_EDA_and_Prediction.ipynb
/home/masaru/data/kaggle_google_analytics/sample_submission.csv
/home/masaru/data/kaggle_google_analytics/train_v2.csv
/home/masaru/data/kaggle_google_analytics/train.csv
/home/masaru/data/kaggle_google_analytics/.ipynb_checkpoints/gstore-cust-revenue-prediction-checkpoint.ipynb
/home/masaru/data/kaggle_google_analytics/.ipynb_checkpoints/GoogleAnalytics_Customer_Revenue_EDA_and_Prediction-checkpoint.ipynb
</pre>
</div>
</div>

</div>
</div>



<p>　無事、表示出来ました。</p>
<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F10%2Fjupyter-notebook%25e3%2581%25ae%25e3%2582%25bb%25e3%2583%25ab%25e3%2582%2592wordpress%25e3%2581%25ab%25e8%25b2%25bc%25e3%2582%258a%25e4%25bb%2598%25e3%2581%2591%25e3%2582%258b%2F&amp;linkname=Jupyter%20Notebook%E3%81%AE%E3%82%BB%E3%83%AB%E3%82%92WordPress%E3%81%AB%E8%B2%BC%E3%82%8A%E4%BB%98%E3%81%91%E3%82%8B" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F10%2Fjupyter-notebook%25e3%2581%25ae%25e3%2582%25bb%25e3%2583%25ab%25e3%2582%2592wordpress%25e3%2581%25ab%25e8%25b2%25bc%25e3%2582%258a%25e4%25bb%2598%25e3%2581%2591%25e3%2582%258b%2F&amp;linkname=Jupyter%20Notebook%E3%81%AE%E3%82%BB%E3%83%AB%E3%82%92WordPress%E3%81%AB%E8%B2%BC%E3%82%8A%E4%BB%98%E3%81%91%E3%82%8B" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F10%2Fjupyter-notebook%25e3%2581%25ae%25e3%2582%25bb%25e3%2583%25ab%25e3%2582%2592wordpress%25e3%2581%25ab%25e8%25b2%25bc%25e3%2582%258a%25e4%25bb%2598%25e3%2581%2591%25e3%2582%258b%2F&amp;linkname=Jupyter%20Notebook%E3%81%AE%E3%82%BB%E3%83%AB%E3%82%92WordPress%E3%81%AB%E8%B2%BC%E3%82%8A%E4%BB%98%E3%81%91%E3%82%8B" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F10%2Fjupyter-notebook%25e3%2581%25ae%25e3%2582%25bb%25e3%2583%25ab%25e3%2582%2592wordpress%25e3%2581%25ab%25e8%25b2%25bc%25e3%2582%258a%25e4%25bb%2598%25e3%2581%2591%25e3%2582%258b%2F&amp;linkname=Jupyter%20Notebook%E3%81%AE%E3%82%BB%E3%83%AB%E3%82%92WordPress%E3%81%AB%E8%B2%BC%E3%82%8A%E4%BB%98%E3%81%91%E3%82%8B" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F10%2Fjupyter-notebook%25e3%2581%25ae%25e3%2582%25bb%25e3%2583%25ab%25e3%2582%2592wordpress%25e3%2581%25ab%25e8%25b2%25bc%25e3%2582%258a%25e4%25bb%2598%25e3%2581%2591%25e3%2582%258b%2F&amp;linkname=Jupyter%20Notebook%E3%81%AE%E3%82%BB%E3%83%AB%E3%82%92WordPress%E3%81%AB%E8%B2%BC%E3%82%8A%E4%BB%98%E3%81%91%E3%82%8B" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F10%2Fjupyter-notebook%25e3%2581%25ae%25e3%2582%25bb%25e3%2583%25ab%25e3%2582%2592wordpress%25e3%2581%25ab%25e8%25b2%25bc%25e3%2582%258a%25e4%25bb%2598%25e3%2581%2591%25e3%2582%258b%2F&#038;title=Jupyter%20Notebook%E3%81%AE%E3%82%BB%E3%83%AB%E3%82%92WordPress%E3%81%AB%E8%B2%BC%E3%82%8A%E4%BB%98%E3%81%91%E3%82%8B" data-a2a-url="https://masaru-kmt.github.io/2021/04/10/jupyter-notebook%e3%81%ae%e3%82%bb%e3%83%ab%e3%82%92wordpress%e3%81%ab%e8%b2%bc%e3%82%8a%e4%bb%98%e3%81%91%e3%82%8b/" data-a2a-title="Jupyter NotebookのセルをWordPressに貼り付ける"></a></p><p>The post <a href="https://masaru-kmt.github.io/2021/04/10/jupyter-notebook%e3%81%ae%e3%82%bb%e3%83%ab%e3%82%92wordpress%e3%81%ab%e8%b2%bc%e3%82%8a%e4%bb%98%e3%81%91%e3%82%8b/">Jupyter NotebookのセルをWordPressに貼り付ける</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>https://masaru-kmt.github.io/2021/04/10/jupyter-notebook%e3%81%ae%e3%82%bb%e3%83%ab%e3%82%92wordpress%e3%81%ab%e8%b2%bc%e3%82%8a%e4%bb%98%e3%81%91%e3%82%8b/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">318</post-id>	</item>
		<item>
		<title>Ubuntu 21.04でTensorflow-GPUが動いた（ことだけ）</title>
		<link>https://masaru-kmt.github.io/2021/04/08/ubuntu-21-04%e3%81%a7tensorflow-gpu%e3%81%8c%e5%8b%95%e3%81%84%e3%81%9f%ef%bc%88%e3%81%93%e3%81%a8%e3%81%a0%e3%81%91%ef%bc%89/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=ubuntu-21-04%25e3%2581%25a7tensorflow-gpu%25e3%2581%258c%25e5%258b%2595%25e3%2581%2584%25e3%2581%259f%25ef%25bc%2588%25e3%2581%2593%25e3%2581%25a8%25e3%2581%25a0%25e3%2581%2591%25ef%25bc%2589</link>
					<comments>https://masaru-kmt.github.io/2021/04/08/ubuntu-21-04%e3%81%a7tensorflow-gpu%e3%81%8c%e5%8b%95%e3%81%84%e3%81%9f%ef%bc%88%e3%81%93%e3%81%a8%e3%81%a0%e3%81%91%ef%bc%89/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Thu, 08 Apr 2021 07:40:34 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[データ分析]]></category>
		<category><![CDATA[CUDA]]></category>
		<category><![CDATA[Tensorflow]]></category>
		<category><![CDATA[Tensorflow-GPU]]></category>
		<category><![CDATA[Ubuntu 21.04]]></category>
		<guid isPermaLink="false">https://masaru-kmt.github.io/?p=301</guid>

					<description><![CDATA[<p>既存のNVIDIA CUDAドライバで大丈夫でした 　まず最初にお断りですが、私はTensorflowの技術的な詳細やディープラーニングの技術については知識が全くありません。単なるインストールログですので、技術的なご期待&#8230; <a class="more-link" href="https://masaru-kmt.github.io/2021/04/08/ubuntu-21-04%e3%81%a7tensorflow-gpu%e3%81%8c%e5%8b%95%e3%81%84%e3%81%9f%ef%bc%88%e3%81%93%e3%81%a8%e3%81%a0%e3%81%91%ef%bc%89/">続きを読む <span class="screen-reader-text">Ubuntu 21.04でTensorflow-GPUが動いた（ことだけ）</span></a></p>
<p>The post <a href="https://masaru-kmt.github.io/2021/04/08/ubuntu-21-04%e3%81%a7tensorflow-gpu%e3%81%8c%e5%8b%95%e3%81%84%e3%81%9f%ef%bc%88%e3%81%93%e3%81%a8%e3%81%a0%e3%81%91%ef%bc%89/">Ubuntu 21.04でTensorflow-GPUが動いた（ことだけ）</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>既存のNVIDIA CUDAドライバで大丈夫でした</h2>



<p>　まず最初にお断りですが、私はTensorflowの技術的な詳細やディープラーニングの技術については知識が全くありません。単なるインストールログですので、技術的なご期待にはお答え出来ません。予めご了承ください。</p>



<p>　Ubuntu 21.04は正式リリース前のためTensorflow GPUは動かないのではないかと思っていましたが、実際は<a href="https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;target_arch=x86_64&amp;target_distro=Ubuntu&amp;target_version=2004&amp;target_type=runfilelocal" target="_blank" rel="noreferrer noopener">cuda_11.2.2_460.32.03_linux.run</a>がすんなり動きました。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>sudo wget -O /etc/apt/preferences.d/cuda-repository-pin-600 https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/cuda-ubuntu2004.pin
sudo apt-key adv --fetch-keys https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/7fa2af80.pub
sudo add-apt-repository &quot;deb http://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/ /&quot;


wget https://developer.download.nvidia.com/compute/cuda/11.2.2/local_installers/cuda_11.2.2_460.32.03_linux.run
sudo sh cuda_11.2.2_460.32.03_linux.run

nvidia-smi</code></pre></div>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>Thu Apr  8 16:29:59 2021       
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 460.67       Driver Version: 460.67       CUDA Version: 11.2     |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|                               |                      |               MIG M. |
|===============================+======================+======================|
|   0  GeForce GTX 1650    Off  | 00000000:01:00.0 Off |                  N/A |
| N/A   49C    P0    15W /  N/A |   3764MiB /  3911MiB |      4%      Default |
|                               |                      |                  N/A |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                                  |
|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |
|        ID   ID                                                   Usage      |
|=============================================================================|
|    0   N/A  N/A      1741      G   /usr/lib/xorg/Xorg                214MiB |
|    0   N/A  N/A      1949      G   /usr/bin/gnome-shell               72MiB |
|    0   N/A  N/A      3535      G   ...AAAAAAAAA= --shared-files       81MiB |
|    0   N/A  N/A      7116      G   ...AAAAAAAAA= --shared-files        5MiB |
|    0   N/A  N/A    312502      C   ...saru/anaconda3/bin/python     3333MiB |
+-----------------------------------------------------------------------------+</code></pre></div>



<div class="hcb_wrap"><pre class="prism line-numbers lang-plain"><code>sudo apt -y install libcudnn8 libcudnn8-dev
conda install tensorflow-gpu

jupyter-notebook &</code></pre></div>



<p>　以下はJupyter Notebookでの作業となります。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-python" data-lang="Python"><code>import tensorflow as tf
print(tf.__version__)</code></pre></div>



<pre class="wp-block-preformatted">2.4.1</pre>



<div class="hcb_wrap"><pre class="prism line-numbers lang-python" data-lang="Python"><code>gpu_num = len(tf.config.list_physical_devices(&#39;GPU&#39;))
print(gpu_num)</code></pre></div>



<pre class="wp-block-preformatted">1</pre>



<figure class="wp-block-image size-large"><img loading="lazy" width="545" height="240" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/gpu1.png?resize=545%2C240&#038;ssl=1" alt="" class="wp-image-303" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/gpu1.png?w=545&amp;ssl=1 545w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/gpu1.png?resize=300%2C132&amp;ssl=1 300w" sizes="(max-width: 545px) 100vw, 545px" data-recalc-dims="1" /></figure>



<p>　勉強会でみんな大好きiris、titanic、mnistを今さらやっても得られるものは無さそうなので、<a href="https://www.kaggle.com/dimitreoliveira/deep-learning-keras-ga-revenue-prediction" target="_blank" rel="noreferrer noopener">文系の私でも興味を持てそうなサンプルコード</a>を見つけて実行してみようと思います。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="513" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/Analyzing_Google_Analytics_data_using_TensorFlow_GPU.png?resize=750%2C513&#038;ssl=1" alt="Analyzing Google Analytics data using TensorFlow GPU" class="wp-image-312" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/Analyzing_Google_Analytics_data_using_TensorFlow_GPU.png?resize=1024%2C700&amp;ssl=1 1024w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/Analyzing_Google_Analytics_data_using_TensorFlow_GPU.png?resize=300%2C205&amp;ssl=1 300w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/Analyzing_Google_Analytics_data_using_TensorFlow_GPU.png?resize=768%2C525&amp;ssl=1 768w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/Analyzing_Google_Analytics_data_using_TensorFlow_GPU.png?w=1156&amp;ssl=1 1156w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>
<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F08%2Fubuntu-21-04%25e3%2581%25a7tensorflow-gpu%25e3%2581%258c%25e5%258b%2595%25e3%2581%2584%25e3%2581%259f%25ef%25bc%2588%25e3%2581%2593%25e3%2581%25a8%25e3%2581%25a0%25e3%2581%2591%25ef%25bc%2589%2F&amp;linkname=Ubuntu%2021.04%E3%81%A7Tensorflow-GPU%E3%81%8C%E5%8B%95%E3%81%84%E3%81%9F%EF%BC%88%E3%81%93%E3%81%A8%E3%81%A0%E3%81%91%EF%BC%89" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F08%2Fubuntu-21-04%25e3%2581%25a7tensorflow-gpu%25e3%2581%258c%25e5%258b%2595%25e3%2581%2584%25e3%2581%259f%25ef%25bc%2588%25e3%2581%2593%25e3%2581%25a8%25e3%2581%25a0%25e3%2581%2591%25ef%25bc%2589%2F&amp;linkname=Ubuntu%2021.04%E3%81%A7Tensorflow-GPU%E3%81%8C%E5%8B%95%E3%81%84%E3%81%9F%EF%BC%88%E3%81%93%E3%81%A8%E3%81%A0%E3%81%91%EF%BC%89" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F08%2Fubuntu-21-04%25e3%2581%25a7tensorflow-gpu%25e3%2581%258c%25e5%258b%2595%25e3%2581%2584%25e3%2581%259f%25ef%25bc%2588%25e3%2581%2593%25e3%2581%25a8%25e3%2581%25a0%25e3%2581%2591%25ef%25bc%2589%2F&amp;linkname=Ubuntu%2021.04%E3%81%A7Tensorflow-GPU%E3%81%8C%E5%8B%95%E3%81%84%E3%81%9F%EF%BC%88%E3%81%93%E3%81%A8%E3%81%A0%E3%81%91%EF%BC%89" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F08%2Fubuntu-21-04%25e3%2581%25a7tensorflow-gpu%25e3%2581%258c%25e5%258b%2595%25e3%2581%2584%25e3%2581%259f%25ef%25bc%2588%25e3%2581%2593%25e3%2581%25a8%25e3%2581%25a0%25e3%2581%2591%25ef%25bc%2589%2F&amp;linkname=Ubuntu%2021.04%E3%81%A7Tensorflow-GPU%E3%81%8C%E5%8B%95%E3%81%84%E3%81%9F%EF%BC%88%E3%81%93%E3%81%A8%E3%81%A0%E3%81%91%EF%BC%89" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F08%2Fubuntu-21-04%25e3%2581%25a7tensorflow-gpu%25e3%2581%258c%25e5%258b%2595%25e3%2581%2584%25e3%2581%259f%25ef%25bc%2588%25e3%2581%2593%25e3%2581%25a8%25e3%2581%25a0%25e3%2581%2591%25ef%25bc%2589%2F&amp;linkname=Ubuntu%2021.04%E3%81%A7Tensorflow-GPU%E3%81%8C%E5%8B%95%E3%81%84%E3%81%9F%EF%BC%88%E3%81%93%E3%81%A8%E3%81%A0%E3%81%91%EF%BC%89" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F08%2Fubuntu-21-04%25e3%2581%25a7tensorflow-gpu%25e3%2581%258c%25e5%258b%2595%25e3%2581%2584%25e3%2581%259f%25ef%25bc%2588%25e3%2581%2593%25e3%2581%25a8%25e3%2581%25a0%25e3%2581%2591%25ef%25bc%2589%2F&#038;title=Ubuntu%2021.04%E3%81%A7Tensorflow-GPU%E3%81%8C%E5%8B%95%E3%81%84%E3%81%9F%EF%BC%88%E3%81%93%E3%81%A8%E3%81%A0%E3%81%91%EF%BC%89" data-a2a-url="https://masaru-kmt.github.io/2021/04/08/ubuntu-21-04%e3%81%a7tensorflow-gpu%e3%81%8c%e5%8b%95%e3%81%84%e3%81%9f%ef%bc%88%e3%81%93%e3%81%a8%e3%81%a0%e3%81%91%ef%bc%89/" data-a2a-title="Ubuntu 21.04でTensorflow-GPUが動いた（ことだけ）"></a></p><p>The post <a href="https://masaru-kmt.github.io/2021/04/08/ubuntu-21-04%e3%81%a7tensorflow-gpu%e3%81%8c%e5%8b%95%e3%81%84%e3%81%9f%ef%bc%88%e3%81%93%e3%81%a8%e3%81%a0%e3%81%91%ef%bc%89/">Ubuntu 21.04でTensorflow-GPUが動いた（ことだけ）</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>https://masaru-kmt.github.io/2021/04/08/ubuntu-21-04%e3%81%a7tensorflow-gpu%e3%81%8c%e5%8b%95%e3%81%84%e3%81%9f%ef%bc%88%e3%81%93%e3%81%a8%e3%81%a0%e3%81%91%ef%bc%89/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">301</post-id>	</item>
		<item>
		<title>Jupyter NotebookからPythonでPostgreSQL 13を操作する</title>
		<link>https://masaru-kmt.github.io/2021/04/07/jupyter-notebook%e3%81%8b%e3%82%89python%e3%81%a7postgresql-13%e3%82%92%e6%93%8d%e4%bd%9c%e3%81%99%e3%82%8b/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=jupyter-notebook%25e3%2581%258b%25e3%2582%2589python%25e3%2581%25a7postgresql-13%25e3%2582%2592%25e6%2593%258d%25e4%25bd%259c%25e3%2581%2599%25e3%2582%258b</link>
					<comments>https://masaru-kmt.github.io/2021/04/07/jupyter-notebook%e3%81%8b%e3%82%89python%e3%81%a7postgresql-13%e3%82%92%e6%93%8d%e4%bd%9c%e3%81%99%e3%82%8b/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Wed, 07 Apr 2021 10:49:51 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[データ分析]]></category>
		<category><![CDATA[Anaconda]]></category>
		<category><![CDATA[Jupyter Notebook]]></category>
		<category><![CDATA[Plotly]]></category>
		<category><![CDATA[PostgreSQL]]></category>
		<category><![CDATA[PostgreSQL 13]]></category>
		<category><![CDATA[psycopg2]]></category>
		<category><![CDATA[Python]]></category>
		<guid isPermaLink="false">https://masaru-kmt.github.io/?p=208</guid>

					<description><![CDATA[<p>まずは堅実に定番RDBから 　NoSQLブームで勉強会界隈では影が薄れた感があるRDBMSですが、当たり前の存在になっただけで健在です。当サイトが使っているCMS『WordPress』にはMySQLが組み込まれていますし&#8230; <a class="more-link" href="https://masaru-kmt.github.io/2021/04/07/jupyter-notebook%e3%81%8b%e3%82%89python%e3%81%a7postgresql-13%e3%82%92%e6%93%8d%e4%bd%9c%e3%81%99%e3%82%8b/">続きを読む <span class="screen-reader-text">Jupyter NotebookからPythonでPostgreSQL 13を操作する</span></a></p>
<p>The post <a href="https://masaru-kmt.github.io/2021/04/07/jupyter-notebook%e3%81%8b%e3%82%89python%e3%81%a7postgresql-13%e3%82%92%e6%93%8d%e4%bd%9c%e3%81%99%e3%82%8b/">Jupyter NotebookからPythonでPostgreSQL 13を操作する</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>まずは堅実に定番RDBから</h2>



<p>　NoSQLブームで勉強会界隈では影が薄れた感があるRDBMSですが、当たり前の存在になっただけで健在です。当サイトが使っているCMS『WordPress』にはMySQLが組み込まれていますし、当サイトを置いているAWSでも<a href="https://aws.amazon.com/jp/blogs/news/accelerate-amazon-redshift-federated-query-adoption-with-aws-cloudformation/" target="_blank" rel="noreferrer noopener">PostgreSQLがRedShiftやAuroraなど基幹サービスで使われています</a>。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="731" height="486" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/AccelerateRedshiftFederatedQuery1.png?resize=731%2C486&#038;ssl=1" alt="" class="wp-image-291" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/AccelerateRedshiftFederatedQuery1.png?w=731&amp;ssl=1 731w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/AccelerateRedshiftFederatedQuery1.png?resize=300%2C199&amp;ssl=1 300w" sizes="(max-width: 731px) 100vw, 731px" data-recalc-dims="1" /></figure>



<p>　統計モデリングを知らないのにディープラーニングでイキる人が信用出来ないのと同様、RDBMSを知らないのにNoSQLを語るのもイタい人です。私も昨年は<a href="https://www.elastic.co/jp/elasticsearch/" target="_blank" rel="noreferrer noopener">Elasticsearch</a>などのNoSQLや<a href="https://ignite.apache.org/" target="_blank" rel="noreferrer noopener">Apache Ignite</a>などの分散データベースにハマっていましたが、自分のイタさに気づいたためPostgreSQLを学び直しています。</p>



<p>　NoSQLや分散データベースを業務で使いこなしている方々の講演は勉強会で聞くことが出来ますが、彼らは「RDBMSを経験した上でNoSQLに進んでいる」のです。未経験者が講演を聞いていきなりNoSQLに行くのは『悪手』です。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>初心者がNoSQLや分散RDBでやりたいことはPostgreSQLでも出来ている</h2>



<p>　NoSQLが主に扱うJSONはPosgreSQLでも『<a href="https://www.postgresql.org/docs/13/datatype-json.html" target="_blank" rel="noreferrer noopener">JSON型</a>』として扱えます。IMDBで話題となったインメモリ処理はPostgreSQLでも<a href="https://techblog.gmo-ap.jp/2020/11/25/postgresql_memory_architecture/" target="_blank" rel="noreferrer noopener">駆使されています</a>。分散データベースの特徴であるクエリの並列処理はPostgreSQLでも<a href="https://oss-db.jp/dojo/dojo_column_04" target="_blank" rel="noreferrer noopener">パラレルクエリ</a>として実装されている上、特別の設定無しで自動的に使ってくれます。</p>



<p>　昨年、実際にApage IgniteでPCサーバ5台のクラスタを構築しましたが、数10GB程度のデータではクエリに要する時間がシングルノードのPostgreSQLの方が速かったです。2.5GbEでもLANの遅延で並列処理のメリットが相殺されてしまいます。この規模のデータでクエリを高速化するなら、<a href="https://www.tsukumo.co.jp/bto/pc/workstation/2021/WA9A-G210WT.html" target="_blank" rel="noreferrer noopener">32コア64スレッドのパソコン</a>でも買えば良いと思います。</p>



<p>　こういう事実は、基本的すぎて勉強会ではなかなか教えてもらえないですね。エンジニアの方にとっては常識なのでしょうが……<img src="https://s.w.org/images/core/emoji/13.0.1/72x72/1f4a6.png" alt="💦" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>PythonでPostgreSQLを扱うパッケージ『psycopg2』</h2>



<p>　PythonでPostgreSQLを扱う際は『psycopg2』というパッケージを使うのが一般的なようです。視覚化のためのパッケージ『Plotly』と併せてインストールします。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>(base) masaru@ASUS-TUF-Gaming:~$ conda install psycopg2
(base) masaru@ASUS-TUF-Gaming:~$ conda install plotly</code></pre></div>



<h2>Jupyter Notebookでの実装</h2>



<p>　必要なパッケージの読み込みなどの初期設定を行います。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-python" data-lang="Python"><code># -*- coding: utf-8 -*-
import psycopg2
import pandas as pd
import plotly as py
import plotly.graph_objs as go
from plotly.offline import iplot, init_notebook_mode
init_notebook_mode()</code></pre></div>



<p>　psychopg2でデータベース接続を定義します。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-python" data-lang="Python"><code>def connect():
    con = psycopg2.connect(&quot;host=&quot; + &quot;localhost&quot; +
                           &quot; port=&quot; + &quot;5432&quot; +
                           &quot; dbname=&quot; + &quot;google_mobility&quot; +
                           &quot; user=&quot; + &quot;masaru&quot; +
                           &quot; password=&quot; + &quot;xxxxxxxxxxxx&quot;)
    return con</code></pre></div>



<p>　続いて、クエリを定義します。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-python" data-lang="Python"><code>def select_execute(con, sql):
    with con.cursor() as cur:
        cur.execute(sql)
        rows = cur.fetchall()

    return rows</code></pre></div>



<p>　定義したクエリを実行します。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-python" data-lang="Python"><code>con = connect()
sql =  &quot;select * from google_mobility where SUB_REGION_1 = &#39;Tokyo&#39;&quot;
result = select_execute(con, sql)</code></pre></div>



<p>　クエリの結果をPandasデータフレームに代入します。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-python" data-lang="Python"><code>df = pd.DataFrame(result)
df.head()</code></pre></div>



<figure class="wp-block-image size-large"><img loading="lazy" width="737" height="159" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/pypg06.png?resize=737%2C159&#038;ssl=1" alt="" class="wp-image-293" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/pypg06.png?w=737&amp;ssl=1 737w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/pypg06.png?resize=300%2C65&amp;ssl=1 300w" sizes="(max-width: 737px) 100vw, 737px" data-recalc-dims="1" /></figure>



<p>　とりあえず全部カラム名をつけてあげます。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-python" data-lang="Python"><code>columns = [&quot;id&quot;,&quot;country_region_code&quot;,&quot;country_region&quot;,&quot;sub_region_1&quot;,&quot;sub_region_2&quot;,&quot;metro_area&quot;,&quot;iso_3166_2_code&quot;,&quot;census_fips_code&quot;,&quot;date&quot;,&quot;retail&quot;,&quot;grocery&quot;,&quot;parks&quot;,&quot;transit&quot;,&quot;workplaces&quot;,&quot;residental&quot;,&quot;place_id&quot;]
df.columns = columns
df.head()</code></pre></div>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="132" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/pypg09.png?resize=750%2C132&#038;ssl=1" alt="" class="wp-image-295" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/pypg09.png?w=996&amp;ssl=1 996w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/pypg09.png?resize=300%2C53&amp;ssl=1 300w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/pypg09.png?resize=768%2C135&amp;ssl=1 768w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　Plotlyで表示するデータを設定します。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-python" data-lang="Python"><code>trace1 = go.Scatter(
        x = list(df.date),
        y = list(df.retail),
        mode = &#39;lines+markers&#39;,
        name = &#39;retail&#39;,
        marker = dict(
                color = &#39;blue&#39;
                )
        )

trace2 = go.Scatter(
        x = list(df.date),
        y = list(df.grocery),
        mode = &#39;lines+markers&#39;,
        name = &#39;grocery&#39;,
        marker = dict(
                color = &#39;orange&#39;
                )
        )

data = [trace1, trace2]</code></pre></div>



<p>　続いて、Plotlyの特長であるスライダーを設定します。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-python" data-lang="Python"><code>layout = dict(
    title=&#39;Time series with range slider and selectors&#39;,
    xaxis=dict(
        rangeselector=dict(
            buttons=list([
                dict(count=1,
                     label=&#39;1m&#39;,
                     step=&#39;month&#39;,
                     stepmode=&#39;backward&#39;),
                dict(count=6,
                     label=&#39;6m&#39;,
                     step=&#39;month&#39;,
                     stepmode=&#39;backward&#39;),
                dict(count=1,
                    label=&#39;YTD&#39;,
                    step=&#39;year&#39;,
                    stepmode=&#39;todate&#39;),
                dict(count=1,
                    label=&#39;1y&#39;,
                    step=&#39;year&#39;,
                    stepmode=&#39;backward&#39;),
                dict(step=&#39;all&#39;)
            ])
        ),
        rangeslider=dict(
            visible = True
        ),
        type=&#39;date&#39;
    )
)</code></pre></div>



<p>　グラフを描画します。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-python" data-lang="Python"><code>fig = dict(data=data, layout=layout)
iplot(fig)</code></pre></div>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="348" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/pypg13.png?resize=750%2C348&#038;ssl=1" alt="" class="wp-image-296" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/pypg13.png?w=945&amp;ssl=1 945w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/pypg13.png?resize=300%2C139&amp;ssl=1 300w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/pypg13.png?resize=768%2C357&amp;ssl=1 768w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　スライダーを動かせるグラフの出来上がりです。</p>
<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F07%2Fjupyter-notebook%25e3%2581%258b%25e3%2582%2589python%25e3%2581%25a7postgresql-13%25e3%2582%2592%25e6%2593%258d%25e4%25bd%259c%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=Jupyter%20Notebook%E3%81%8B%E3%82%89Python%E3%81%A7PostgreSQL%2013%E3%82%92%E6%93%8D%E4%BD%9C%E3%81%99%E3%82%8B" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F07%2Fjupyter-notebook%25e3%2581%258b%25e3%2582%2589python%25e3%2581%25a7postgresql-13%25e3%2582%2592%25e6%2593%258d%25e4%25bd%259c%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=Jupyter%20Notebook%E3%81%8B%E3%82%89Python%E3%81%A7PostgreSQL%2013%E3%82%92%E6%93%8D%E4%BD%9C%E3%81%99%E3%82%8B" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F07%2Fjupyter-notebook%25e3%2581%258b%25e3%2582%2589python%25e3%2581%25a7postgresql-13%25e3%2582%2592%25e6%2593%258d%25e4%25bd%259c%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=Jupyter%20Notebook%E3%81%8B%E3%82%89Python%E3%81%A7PostgreSQL%2013%E3%82%92%E6%93%8D%E4%BD%9C%E3%81%99%E3%82%8B" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F07%2Fjupyter-notebook%25e3%2581%258b%25e3%2582%2589python%25e3%2581%25a7postgresql-13%25e3%2582%2592%25e6%2593%258d%25e4%25bd%259c%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=Jupyter%20Notebook%E3%81%8B%E3%82%89Python%E3%81%A7PostgreSQL%2013%E3%82%92%E6%93%8D%E4%BD%9C%E3%81%99%E3%82%8B" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F07%2Fjupyter-notebook%25e3%2581%258b%25e3%2582%2589python%25e3%2581%25a7postgresql-13%25e3%2582%2592%25e6%2593%258d%25e4%25bd%259c%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=Jupyter%20Notebook%E3%81%8B%E3%82%89Python%E3%81%A7PostgreSQL%2013%E3%82%92%E6%93%8D%E4%BD%9C%E3%81%99%E3%82%8B" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F07%2Fjupyter-notebook%25e3%2581%258b%25e3%2582%2589python%25e3%2581%25a7postgresql-13%25e3%2582%2592%25e6%2593%258d%25e4%25bd%259c%25e3%2581%2599%25e3%2582%258b%2F&#038;title=Jupyter%20Notebook%E3%81%8B%E3%82%89Python%E3%81%A7PostgreSQL%2013%E3%82%92%E6%93%8D%E4%BD%9C%E3%81%99%E3%82%8B" data-a2a-url="https://masaru-kmt.github.io/2021/04/07/jupyter-notebook%e3%81%8b%e3%82%89python%e3%81%a7postgresql-13%e3%82%92%e6%93%8d%e4%bd%9c%e3%81%99%e3%82%8b/" data-a2a-title="Jupyter NotebookからPythonでPostgreSQL 13を操作する"></a></p><p>The post <a href="https://masaru-kmt.github.io/2021/04/07/jupyter-notebook%e3%81%8b%e3%82%89python%e3%81%a7postgresql-13%e3%82%92%e6%93%8d%e4%bd%9c%e3%81%99%e3%82%8b/">Jupyter NotebookからPythonでPostgreSQL 13を操作する</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>https://masaru-kmt.github.io/2021/04/07/jupyter-notebook%e3%81%8b%e3%82%89python%e3%81%a7postgresql-13%e3%82%92%e6%93%8d%e4%bd%9c%e3%81%99%e3%82%8b/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">208</post-id>	</item>
		<item>
		<title>WordPressをローカル環境と同期する『Local』</title>
		<link>https://masaru-kmt.github.io/2021/04/07/wordpress%e3%82%92%e3%83%ad%e3%83%bc%e3%82%ab%e3%83%ab%e9%96%8b%e7%99%ba%e7%92%b0%e5%a2%83%e3%81%a8%e5%90%8c%e6%9c%9f%e3%81%99%e3%82%8b/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=wordpress%25e3%2582%2592%25e3%2583%25ad%25e3%2583%25bc%25e3%2582%25ab%25e3%2583%25ab%25e9%2596%258b%25e7%2599%25ba%25e7%2592%25b0%25e5%25a2%2583%25e3%2581%25a8%25e5%2590%258c%25e6%259c%259f%25e3%2581%2599%25e3%2582%258b</link>
					<comments>https://masaru-kmt.github.io/2021/04/07/wordpress%e3%82%92%e3%83%ad%e3%83%bc%e3%82%ab%e3%83%ab%e9%96%8b%e7%99%ba%e7%92%b0%e5%a2%83%e3%81%a8%e5%90%8c%e6%9c%9f%e3%81%99%e3%82%8b/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Wed, 07 Apr 2021 04:56:29 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[Webデザイン]]></category>
		<category><![CDATA[Webマーケティング]]></category>
		<category><![CDATA[BackWPup]]></category>
		<category><![CDATA[Local]]></category>
		<category><![CDATA[WordPress]]></category>
		<guid isPermaLink="false">https://masaru-kmt.github.io/?p=239</guid>

					<description><![CDATA[<p>Webサイトはバックアップしないといずれ「死ぬ」 　私が初めて独自ドメインでWebサイトを立てたのは20年も前になります。しかし2010年代以前に作ったサイトで今も残っているものはひとつもありません。このcan.ne.j&#8230; <a class="more-link" href="https://masaru-kmt.github.io/2021/04/07/wordpress%e3%82%92%e3%83%ad%e3%83%bc%e3%82%ab%e3%83%ab%e9%96%8b%e7%99%ba%e7%92%b0%e5%a2%83%e3%81%a8%e5%90%8c%e6%9c%9f%e3%81%99%e3%82%8b/">続きを読む <span class="screen-reader-text">WordPressをローカル環境と同期する『Local』</span></a></p>
<p>The post <a href="https://masaru-kmt.github.io/2021/04/07/wordpress%e3%82%92%e3%83%ad%e3%83%bc%e3%82%ab%e3%83%ab%e9%96%8b%e7%99%ba%e7%92%b0%e5%a2%83%e3%81%a8%e5%90%8c%e6%9c%9f%e3%81%99%e3%82%8b/">WordPressをローカル環境と同期する『Local』</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>Webサイトはバックアップしないといずれ「死ぬ」</h2>



<p>　私が初めて独自ドメインでWebサイトを立てたのは20年も前になります。しかし2010年代以前に作ったサイトで今も残っているものはひとつもありません。このcan.ne.jpドメインにもかつて別のブログがありましたが、もはやデータ復旧もままなりません。</p>



<p>　不慮の事故、モチベーション喪失、技術の変化……。さまざまな理由でサイトは「死ぬ」のです。AdobeのFlash廃止でも話題になりましたが、多くのサイトが更改しなければ表示も難しくなり、いずれWebからひっそりと消えてなくなります。</p>



<p>　WordPressというオープンソースCMSのデファクトスタンダードが確立したことで、少なくともサイトデータのサルベージは行い続けられる可能性が高まりました。個人サイトは次々と書き捨てられていく商業サイトと異なり「生きた証」でもあるので、なるべく『生涯現役』を続けたいところです。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>個人サイトのバックアップはローカルで分散</h2>



<p>　商業サイトではクラウド上にバックアップを取るのが一般的です。複数のクラウドに分散することはあっても、ローカルへの手動バックアップを前提としているサイトは少ないでしょう。</p>



<p>　しかし個人サイトはクラウドの契約解除や無償ストレージ終了などでバックアップも消えてしまうのが常です。消える直前で対策すればサルベージや移行は可能ですが、仕事や生活の多忙で断念するケースも多いのが現実。やはり最終的には物理的に手元にもデータを置いておくのが一番です。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>ローカルでWordPressサイトをミラー出来る『Local』</h2>



<p> 　『<a href="https://localwp.com/" target="_blank" rel="noreferrer noopener">Local</a>』はPC上にLAMPやLEMPなどにWordPressを加えたスタックをウィザード形式で構築し、クラウドからバックアップしたデータでローカルサイトとして表示、管理出来るソフトです。無償版があるので個人サイト向きです。Windows、Mac、Linuxの主要OSに全て対応しているのも魅力的です。</p>



<p>　当サイトを実際にローカルでミラーしてみましたので、メモを残します。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>まずはバックアップ</h2>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="445" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/BackWPup.png?resize=750%2C445&#038;ssl=1" alt="" class="wp-image-242" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/BackWPup.png?resize=1024%2C608&amp;ssl=1 1024w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/BackWPup.png?resize=300%2C178&amp;ssl=1 300w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/BackWPup.png?resize=768%2C456&amp;ssl=1 768w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/BackWPup.png?w=1268&amp;ssl=1 1268w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　Local自体にはクラウド上のWordPressサイトをバックアップする機能はありません。WordPressにはバックアップ用のプラグインが複数ありますが、今回は『BackWPup』を使います。</p>



<p>　まず、ジョブを作成します。バックアップ対象は『DBバックアップ』『ファイル』『プラグイン』の3つ、宛先は『フォルダー』、圧縮形式は『zip』にしました。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="355" src="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/BackWPup_Download.png?resize=750%2C355&#038;ssl=1" alt="" class="wp-image-245" srcset="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/BackWPup_Download.png?resize=1024%2C485&amp;ssl=1 1024w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/BackWPup_Download.png?resize=300%2C142&amp;ssl=1 300w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/BackWPup_Download.png?resize=768%2C364&amp;ssl=1 768w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/BackWPup_Download.png?resize=1536%2C727&amp;ssl=1 1536w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/BackWPup_Download.png?resize=1568%2C742&amp;ssl=1 1568w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/BackWPup_Download.png?w=1595&amp;ssl=1 1595w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　　バックアップファイルはまずクラウド(LightSail)上に作られますので、『バックアップ』サブメニューから『ダウンロード』を選んで取得します。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>バックアップのLocalへのインポート</h2>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="522" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_import_site.png?resize=750%2C522&#038;ssl=1" alt="" class="wp-image-246" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_import_site.png?resize=1024%2C713&amp;ssl=1 1024w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_import_site.png?resize=300%2C209&amp;ssl=1 300w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_import_site.png?resize=768%2C535&amp;ssl=1 768w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_import_site.png?w=1198&amp;ssl=1 1198w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /><figcaption>Localを起動し、『Import Site』でzipファイルを読み込む</figcaption></figure>



<p>　バックアップデータを取得したらLocalを起動し、『Import Site』でzipファイルを読み込みます。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="520" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_env.png?resize=750%2C520&#038;ssl=1" alt="" class="wp-image-247" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_env.png?resize=1024%2C710&amp;ssl=1 1024w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_env.png?resize=300%2C208&amp;ssl=1 300w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_env.png?resize=768%2C532&amp;ssl=1 768w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_env.png?w=1203&amp;ssl=1 1203w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /><figcaption>LAMPのバージョンはクラウドと合わせる</figcaption></figure>



<p>　LocalはWebサーバにApacheとnginxを選べるなどスタックの選択肢が充実しています。サイトの再現性の観点から、なるべくクラウド上のスタックとバージョンを合わせた方が良いそうです。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>クラウド上のWordPressサイトがほぼローカルで再現</h2>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="442" src="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_site.png?resize=750%2C442&#038;ssl=1" alt="" class="wp-image-249" srcset="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_site.png?resize=1024%2C603&amp;ssl=1 1024w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_site.png?resize=300%2C177&amp;ssl=1 300w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_site.png?resize=768%2C452&amp;ssl=1 768w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_site.png?resize=1536%2C905&amp;ssl=1 1536w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_site.png?resize=1568%2C924&amp;ssl=1 1568w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_site.png?w=1594&amp;ssl=1 1594w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /><figcaption>Ubuntu上のLocalでWordPressサイトが表示された</figcaption></figure>



<p>　ご覧のとおり、ローカルドメイン(can.ne.jp.local)でWordPressサイトが表示されています。テーマやプラグインまで再現されているので、クラウド上のサイトイメージそのままで見られるのは嬉しいところです。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="483" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_admin.png?resize=750%2C483&#038;ssl=1" alt="" class="wp-image-250" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_admin.png?resize=1024%2C659&amp;ssl=1 1024w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_admin.png?resize=300%2C193&amp;ssl=1 300w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_admin.png?resize=768%2C495&amp;ssl=1 768w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/Local_admin.png?w=1275&amp;ssl=1 1275w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /><figcaption>管理画面もローカルで動く</figcaption></figure>



<p>　管理画面もローカルで動いています。この環境を複数のPCやMac上に持っておけば不測の事態でも生き延びた端末から復旧が出来そうです。Web分野のトレンドが大きく変わってしまったときは、Localで過去のサイトデザインを確認しながら、どのように移行させるか検討することになるでしょう。</p>
<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F07%2Fwordpress%25e3%2582%2592%25e3%2583%25ad%25e3%2583%25bc%25e3%2582%25ab%25e3%2583%25ab%25e9%2596%258b%25e7%2599%25ba%25e7%2592%25b0%25e5%25a2%2583%25e3%2581%25a8%25e5%2590%258c%25e6%259c%259f%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=WordPress%E3%82%92%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E7%92%B0%E5%A2%83%E3%81%A8%E5%90%8C%E6%9C%9F%E3%81%99%E3%82%8B%E3%80%8ELocal%E3%80%8F" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F07%2Fwordpress%25e3%2582%2592%25e3%2583%25ad%25e3%2583%25bc%25e3%2582%25ab%25e3%2583%25ab%25e9%2596%258b%25e7%2599%25ba%25e7%2592%25b0%25e5%25a2%2583%25e3%2581%25a8%25e5%2590%258c%25e6%259c%259f%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=WordPress%E3%82%92%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E7%92%B0%E5%A2%83%E3%81%A8%E5%90%8C%E6%9C%9F%E3%81%99%E3%82%8B%E3%80%8ELocal%E3%80%8F" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F07%2Fwordpress%25e3%2582%2592%25e3%2583%25ad%25e3%2583%25bc%25e3%2582%25ab%25e3%2583%25ab%25e9%2596%258b%25e7%2599%25ba%25e7%2592%25b0%25e5%25a2%2583%25e3%2581%25a8%25e5%2590%258c%25e6%259c%259f%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=WordPress%E3%82%92%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E7%92%B0%E5%A2%83%E3%81%A8%E5%90%8C%E6%9C%9F%E3%81%99%E3%82%8B%E3%80%8ELocal%E3%80%8F" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F07%2Fwordpress%25e3%2582%2592%25e3%2583%25ad%25e3%2583%25bc%25e3%2582%25ab%25e3%2583%25ab%25e9%2596%258b%25e7%2599%25ba%25e7%2592%25b0%25e5%25a2%2583%25e3%2581%25a8%25e5%2590%258c%25e6%259c%259f%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=WordPress%E3%82%92%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E7%92%B0%E5%A2%83%E3%81%A8%E5%90%8C%E6%9C%9F%E3%81%99%E3%82%8B%E3%80%8ELocal%E3%80%8F" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F07%2Fwordpress%25e3%2582%2592%25e3%2583%25ad%25e3%2583%25bc%25e3%2582%25ab%25e3%2583%25ab%25e9%2596%258b%25e7%2599%25ba%25e7%2592%25b0%25e5%25a2%2583%25e3%2581%25a8%25e5%2590%258c%25e6%259c%259f%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=WordPress%E3%82%92%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E7%92%B0%E5%A2%83%E3%81%A8%E5%90%8C%E6%9C%9F%E3%81%99%E3%82%8B%E3%80%8ELocal%E3%80%8F" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F07%2Fwordpress%25e3%2582%2592%25e3%2583%25ad%25e3%2583%25bc%25e3%2582%25ab%25e3%2583%25ab%25e9%2596%258b%25e7%2599%25ba%25e7%2592%25b0%25e5%25a2%2583%25e3%2581%25a8%25e5%2590%258c%25e6%259c%259f%25e3%2581%2599%25e3%2582%258b%2F&#038;title=WordPress%E3%82%92%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E7%92%B0%E5%A2%83%E3%81%A8%E5%90%8C%E6%9C%9F%E3%81%99%E3%82%8B%E3%80%8ELocal%E3%80%8F" data-a2a-url="https://masaru-kmt.github.io/2021/04/07/wordpress%e3%82%92%e3%83%ad%e3%83%bc%e3%82%ab%e3%83%ab%e9%96%8b%e7%99%ba%e7%92%b0%e5%a2%83%e3%81%a8%e5%90%8c%e6%9c%9f%e3%81%99%e3%82%8b/" data-a2a-title="WordPressをローカル環境と同期する『Local』"></a></p><p>The post <a href="https://masaru-kmt.github.io/2021/04/07/wordpress%e3%82%92%e3%83%ad%e3%83%bc%e3%82%ab%e3%83%ab%e9%96%8b%e7%99%ba%e7%92%b0%e5%a2%83%e3%81%a8%e5%90%8c%e6%9c%9f%e3%81%99%e3%82%8b/">WordPressをローカル環境と同期する『Local』</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>https://masaru-kmt.github.io/2021/04/07/wordpress%e3%82%92%e3%83%ad%e3%83%bc%e3%82%ab%e3%83%ab%e9%96%8b%e7%99%ba%e7%92%b0%e5%a2%83%e3%81%a8%e5%90%8c%e6%9c%9f%e3%81%99%e3%82%8b/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">239</post-id>	</item>
		<item>
		<title>Kaggleのデータをコンペ以外の目的で利用する</title>
		<link>https://masaru-kmt.github.io/2021/04/06/kaggle%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92%e3%82%b3%e3%83%b3%e3%83%9a%e4%bb%a5%e5%a4%96%e3%81%ae%e7%9b%ae%e7%9a%84%e3%81%a7%e5%88%a9%e7%94%a8%e3%81%99%e3%82%8b/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=kaggle%25e3%2581%25ae%25e3%2583%2587%25e3%2583%25bc%25e3%2582%25bf%25e3%2582%2592%25e3%2582%25b3%25e3%2583%25b3%25e3%2583%259a%25e4%25bb%25a5%25e5%25a4%2596%25e3%2581%25ae%25e7%259b%25ae%25e7%259a%2584%25e3%2581%25a7%25e5%2588%25a9%25e7%2594%25a8%25e3%2581%2599%25e3%2582%258b</link>
					<comments>https://masaru-kmt.github.io/2021/04/06/kaggle%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92%e3%82%b3%e3%83%b3%e3%83%9a%e4%bb%a5%e5%a4%96%e3%81%ae%e7%9b%ae%e7%9a%84%e3%81%a7%e5%88%a9%e7%94%a8%e3%81%99%e3%82%8b/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Tue, 06 Apr 2021 10:14:44 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[Webマーケティング]]></category>
		<category><![CDATA[データ分析]]></category>
		<category><![CDATA[kaggle]]></category>
		<guid isPermaLink="false">https://masaru-kmt.github.io/?p=227</guid>

					<description><![CDATA[<p>データサイエンティストに敵わないからといって避けて通るのはもったいない 　Kaggleはコンペティションで有名なため「データサイエンティスト以外はお断り」というイメージがあります。しかし、優秀な方々に及ばないことが分かっ&#8230; <a class="more-link" href="https://masaru-kmt.github.io/2021/04/06/kaggle%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92%e3%82%b3%e3%83%b3%e3%83%9a%e4%bb%a5%e5%a4%96%e3%81%ae%e7%9b%ae%e7%9a%84%e3%81%a7%e5%88%a9%e7%94%a8%e3%81%99%e3%82%8b/">続きを読む <span class="screen-reader-text">Kaggleのデータをコンペ以外の目的で利用する</span></a></p>
<p>The post <a href="https://masaru-kmt.github.io/2021/04/06/kaggle%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92%e3%82%b3%e3%83%b3%e3%83%9a%e4%bb%a5%e5%a4%96%e3%81%ae%e7%9b%ae%e7%9a%84%e3%81%a7%e5%88%a9%e7%94%a8%e3%81%99%e3%82%8b/">Kaggleのデータをコンペ以外の目的で利用する</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>データサイエンティストに敵わないからといって避けて通るのはもったいない</h2>



<p>　Kaggleはコンペティションで有名なため「データサイエンティスト以外はお断り」というイメージがあります。しかし、優秀な方々に及ばないことが分かっていてもKaggleを避けて通るのはもったいないと思います。</p>



<p>　BIツールの学習など、実務寄りのデータがほしい機会は多くあります。Kaggleにどのようなデータがあるか知っていれば、目的に近いデータを入手出来ます。特にマーケティング分野のデータは企業秘密の塊であり一般公開されることが少ないため、Kaggleのデータはとても貴重なものです。</p>



<p>　本日は、昨年Twitterでも触れていた「<a href="https://www.kaggle.com/c/ga-customer-revenue-prediction/" target="_blank" rel="noreferrer noopener">Google Analytics Customer Revenue Prediction &#8211; Predict how much GStore customers will spend</a>」をご紹介します。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>実在するEコマースサイトのアクセスログ</h2>



<p>　このコンペはRStudio社の主催で、GoogleのEコマースサイト『GStore』のセッション単位のアクセスログが約33GB、提供されています。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="492" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Google_Analytics_Customer_Revenue_Prediction-Kaggle.png?resize=750%2C492&#038;ssl=1" alt="" class="wp-image-232" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Google_Analytics_Customer_Revenue_Prediction-Kaggle.png?resize=1024%2C672&amp;ssl=1 1024w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Google_Analytics_Customer_Revenue_Prediction-Kaggle.png?resize=300%2C197&amp;ssl=1 300w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Google_Analytics_Customer_Revenue_Prediction-Kaggle.png?resize=768%2C504&amp;ssl=1 768w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Google_Analytics_Customer_Revenue_Prediction-Kaggle.png?w=1352&amp;ssl=1 1352w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　CSVのカラムにJSON風のデータが詰め込まれていて処理が手強いですが、BIツールの基本である日次統計にもってこいです。参考書籍などで数10GBのデータを扱っている例は見たことがありませんが、<strong>これくらいのサイズがなければExcelで十分</strong>であり、データベースやBIツール、データ分析基盤などのスケーラビリティを試すなら最低でもGB単位のデータが必要です。</p>



<p>　昨年はこのCSVデータを自力での展開を試みましたが、データ構造が複雑なため簡単な置換処理ではテーブル構造に出来ませんでした。今年は<a href="https://www.kaggle.com/ashrafkhan94/googleanalytics-customer-revenue-eda-prediction/notebook" target="_blank" rel="noreferrer noopener">先達の方のnotebook</a>などを参考にして、まずはPostgreSQLへのデータ格納までたどり着きたいと考えています。他の方から学べるのもkaggleの良いところですね。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="492" src="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/notebook.png?resize=750%2C492&#038;ssl=1" alt="" class="wp-image-233" srcset="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/notebook.png?resize=1024%2C672&amp;ssl=1 1024w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/notebook.png?resize=300%2C197&amp;ssl=1 300w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/notebook.png?resize=768%2C504&amp;ssl=1 768w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/notebook.png?w=1352&amp;ssl=1 1352w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>(base) masaru@ASUS-TUF-Gaming:~$ conda install --channel https://conda.anaconda.org/conda-forge kaggle
(base) masaru@ASUS-TUF-Gaming:~$ kaggle competitions download -c ga-customer-revenue-prediction</code></pre></div>
<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F06%2Fkaggle%25e3%2581%25ae%25e3%2583%2587%25e3%2583%25bc%25e3%2582%25bf%25e3%2582%2592%25e3%2582%25b3%25e3%2583%25b3%25e3%2583%259a%25e4%25bb%25a5%25e5%25a4%2596%25e3%2581%25ae%25e7%259b%25ae%25e7%259a%2584%25e3%2581%25a7%25e5%2588%25a9%25e7%2594%25a8%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=Kaggle%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%82%B3%E3%83%B3%E3%83%9A%E4%BB%A5%E5%A4%96%E3%81%AE%E7%9B%AE%E7%9A%84%E3%81%A7%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F06%2Fkaggle%25e3%2581%25ae%25e3%2583%2587%25e3%2583%25bc%25e3%2582%25bf%25e3%2582%2592%25e3%2582%25b3%25e3%2583%25b3%25e3%2583%259a%25e4%25bb%25a5%25e5%25a4%2596%25e3%2581%25ae%25e7%259b%25ae%25e7%259a%2584%25e3%2581%25a7%25e5%2588%25a9%25e7%2594%25a8%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=Kaggle%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%82%B3%E3%83%B3%E3%83%9A%E4%BB%A5%E5%A4%96%E3%81%AE%E7%9B%AE%E7%9A%84%E3%81%A7%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F06%2Fkaggle%25e3%2581%25ae%25e3%2583%2587%25e3%2583%25bc%25e3%2582%25bf%25e3%2582%2592%25e3%2582%25b3%25e3%2583%25b3%25e3%2583%259a%25e4%25bb%25a5%25e5%25a4%2596%25e3%2581%25ae%25e7%259b%25ae%25e7%259a%2584%25e3%2581%25a7%25e5%2588%25a9%25e7%2594%25a8%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=Kaggle%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%82%B3%E3%83%B3%E3%83%9A%E4%BB%A5%E5%A4%96%E3%81%AE%E7%9B%AE%E7%9A%84%E3%81%A7%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F06%2Fkaggle%25e3%2581%25ae%25e3%2583%2587%25e3%2583%25bc%25e3%2582%25bf%25e3%2582%2592%25e3%2582%25b3%25e3%2583%25b3%25e3%2583%259a%25e4%25bb%25a5%25e5%25a4%2596%25e3%2581%25ae%25e7%259b%25ae%25e7%259a%2584%25e3%2581%25a7%25e5%2588%25a9%25e7%2594%25a8%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=Kaggle%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%82%B3%E3%83%B3%E3%83%9A%E4%BB%A5%E5%A4%96%E3%81%AE%E7%9B%AE%E7%9A%84%E3%81%A7%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F06%2Fkaggle%25e3%2581%25ae%25e3%2583%2587%25e3%2583%25bc%25e3%2582%25bf%25e3%2582%2592%25e3%2582%25b3%25e3%2583%25b3%25e3%2583%259a%25e4%25bb%25a5%25e5%25a4%2596%25e3%2581%25ae%25e7%259b%25ae%25e7%259a%2584%25e3%2581%25a7%25e5%2588%25a9%25e7%2594%25a8%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=Kaggle%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%82%B3%E3%83%B3%E3%83%9A%E4%BB%A5%E5%A4%96%E3%81%AE%E7%9B%AE%E7%9A%84%E3%81%A7%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F06%2Fkaggle%25e3%2581%25ae%25e3%2583%2587%25e3%2583%25bc%25e3%2582%25bf%25e3%2582%2592%25e3%2582%25b3%25e3%2583%25b3%25e3%2583%259a%25e4%25bb%25a5%25e5%25a4%2596%25e3%2581%25ae%25e7%259b%25ae%25e7%259a%2584%25e3%2581%25a7%25e5%2588%25a9%25e7%2594%25a8%25e3%2581%2599%25e3%2582%258b%2F&#038;title=Kaggle%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%82%B3%E3%83%B3%E3%83%9A%E4%BB%A5%E5%A4%96%E3%81%AE%E7%9B%AE%E7%9A%84%E3%81%A7%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B" data-a2a-url="https://masaru-kmt.github.io/2021/04/06/kaggle%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92%e3%82%b3%e3%83%b3%e3%83%9a%e4%bb%a5%e5%a4%96%e3%81%ae%e7%9b%ae%e7%9a%84%e3%81%a7%e5%88%a9%e7%94%a8%e3%81%99%e3%82%8b/" data-a2a-title="Kaggleのデータをコンペ以外の目的で利用する"></a></p><p>The post <a href="https://masaru-kmt.github.io/2021/04/06/kaggle%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92%e3%82%b3%e3%83%b3%e3%83%9a%e4%bb%a5%e5%a4%96%e3%81%ae%e7%9b%ae%e7%9a%84%e3%81%a7%e5%88%a9%e7%94%a8%e3%81%99%e3%82%8b/">Kaggleのデータをコンペ以外の目的で利用する</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>https://masaru-kmt.github.io/2021/04/06/kaggle%e3%81%ae%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92%e3%82%b3%e3%83%b3%e3%83%9a%e4%bb%a5%e5%a4%96%e3%81%ae%e7%9b%ae%e7%9a%84%e3%81%a7%e5%88%a9%e7%94%a8%e3%81%99%e3%82%8b/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">227</post-id>	</item>
		<item>
		<title>Ubuntu 21.04ノート 環境構築(2日目)</title>
		<link>https://masaru-kmt.github.io/2021/04/06/ubuntu-21-04%e3%83%8e%e3%83%bc%e3%83%88-%e7%92%b0%e5%a2%83%e6%a7%8b%e7%af%892%e6%97%a5%e7%9b%ae/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=ubuntu-21-04%25e3%2583%258e%25e3%2583%25bc%25e3%2583%2588-%25e7%2592%25b0%25e5%25a2%2583%25e6%25a7%258b%25e7%25af%25892%25e6%2597%25a5%25e7%259b%25ae</link>
					<comments>https://masaru-kmt.github.io/2021/04/06/ubuntu-21-04%e3%83%8e%e3%83%bc%e3%83%88-%e7%92%b0%e5%a2%83%e6%a7%8b%e7%af%892%e6%97%a5%e7%9b%ae/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Tue, 06 Apr 2021 09:36:59 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[PC & Mobile]]></category>
		<category><![CDATA[Linux]]></category>
		<category><![CDATA[Ubuntu]]></category>
		<category><![CDATA[Ubuntu 21.04]]></category>
		<guid isPermaLink="false">https://masaru-kmt.github.io/?p=212</guid>

					<description><![CDATA[<p>細かい環境構築 　初日でUbuntu Linux 21.04の基本的なインストールが終わりました。プレリリース版であるDaily Buildでの導入でしたが、既にリリース月ということもあり大きな障害はありませんでした。 &#8230; <a class="more-link" href="https://masaru-kmt.github.io/2021/04/06/ubuntu-21-04%e3%83%8e%e3%83%bc%e3%83%88-%e7%92%b0%e5%a2%83%e6%a7%8b%e7%af%892%e6%97%a5%e7%9b%ae/">続きを読む <span class="screen-reader-text">Ubuntu 21.04ノート 環境構築(2日目)</span></a></p>
<p>The post <a href="https://masaru-kmt.github.io/2021/04/06/ubuntu-21-04%e3%83%8e%e3%83%bc%e3%83%88-%e7%92%b0%e5%a2%83%e6%a7%8b%e7%af%892%e6%97%a5%e7%9b%ae/">Ubuntu 21.04ノート 環境構築(2日目)</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>細かい環境構築</h2>



<p>　初日でUbuntu Linux 21.04の基本的なインストールが終わりました。プレリリース版であるDaily Buildでの導入でしたが、既にリリース月ということもあり大きな障害はありませんでした。</p>



<p>　2日目以降は細かい環境構築と機械学習周りの整備となります。</p>



<figure class="wp-block-table is-style-stripes"><table><tbody><tr><td>VLC</td><td></td><td>動画再生</td></tr><tr><td>Spotify</td><td></td><td>音楽配信</td></tr><tr><td>ubuntu-restricted-extras</td><td></td><td>音楽や動画のコーデック</td></tr><tr><td>LibreOffice ppa</td><td></td><td>LibreOfficeの自動アップデート</td></tr><tr><td><s>ubuntu-defaults-ja</s></td><td></td><td>日本語環境　※未対応の模様</td></tr><tr><td>chrome-gnome-shell、GNOME Shell integration、拡張機能</td><td></td><td>GUIをカスタマイズするツール群</td></tr><tr><td>samba</td><td></td><td>LAN上のWindows PCなどとファイルを共有する</td></tr><tr><td>xrdp</td><td></td><td>まだ</td></tr><tr><td>Synaptic</td><td></td><td>APT に基づくグラフィカルなパッケージ管理ツール</td></tr><tr><td>GSmartControl</td><td></td><td>S.M.A.R.T対応のSSDなどの状態を調べるツール。このPCの内蔵SSDは非対応な模様</td></tr></tbody></table></figure>



<p>　どれもインストールが特に難しいということはありませんでしたので、詳細説明は割愛します。</p>
<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F06%2Fubuntu-21-04%25e3%2583%258e%25e3%2583%25bc%25e3%2583%2588-%25e7%2592%25b0%25e5%25a2%2583%25e6%25a7%258b%25e7%25af%25892%25e6%2597%25a5%25e7%259b%25ae%2F&amp;linkname=Ubuntu%2021.04%E3%83%8E%E3%83%BC%E3%83%88%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%282%E6%97%A5%E7%9B%AE%29" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F06%2Fubuntu-21-04%25e3%2583%258e%25e3%2583%25bc%25e3%2583%2588-%25e7%2592%25b0%25e5%25a2%2583%25e6%25a7%258b%25e7%25af%25892%25e6%2597%25a5%25e7%259b%25ae%2F&amp;linkname=Ubuntu%2021.04%E3%83%8E%E3%83%BC%E3%83%88%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%282%E6%97%A5%E7%9B%AE%29" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F06%2Fubuntu-21-04%25e3%2583%258e%25e3%2583%25bc%25e3%2583%2588-%25e7%2592%25b0%25e5%25a2%2583%25e6%25a7%258b%25e7%25af%25892%25e6%2597%25a5%25e7%259b%25ae%2F&amp;linkname=Ubuntu%2021.04%E3%83%8E%E3%83%BC%E3%83%88%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%282%E6%97%A5%E7%9B%AE%29" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F06%2Fubuntu-21-04%25e3%2583%258e%25e3%2583%25bc%25e3%2583%2588-%25e7%2592%25b0%25e5%25a2%2583%25e6%25a7%258b%25e7%25af%25892%25e6%2597%25a5%25e7%259b%25ae%2F&amp;linkname=Ubuntu%2021.04%E3%83%8E%E3%83%BC%E3%83%88%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%282%E6%97%A5%E7%9B%AE%29" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F06%2Fubuntu-21-04%25e3%2583%258e%25e3%2583%25bc%25e3%2583%2588-%25e7%2592%25b0%25e5%25a2%2583%25e6%25a7%258b%25e7%25af%25892%25e6%2597%25a5%25e7%259b%25ae%2F&amp;linkname=Ubuntu%2021.04%E3%83%8E%E3%83%BC%E3%83%88%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%282%E6%97%A5%E7%9B%AE%29" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F06%2Fubuntu-21-04%25e3%2583%258e%25e3%2583%25bc%25e3%2583%2588-%25e7%2592%25b0%25e5%25a2%2583%25e6%25a7%258b%25e7%25af%25892%25e6%2597%25a5%25e7%259b%25ae%2F&#038;title=Ubuntu%2021.04%E3%83%8E%E3%83%BC%E3%83%88%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%282%E6%97%A5%E7%9B%AE%29" data-a2a-url="https://masaru-kmt.github.io/2021/04/06/ubuntu-21-04%e3%83%8e%e3%83%bc%e3%83%88-%e7%92%b0%e5%a2%83%e6%a7%8b%e7%af%892%e6%97%a5%e7%9b%ae/" data-a2a-title="Ubuntu 21.04ノート 環境構築(2日目)"></a></p><p>The post <a href="https://masaru-kmt.github.io/2021/04/06/ubuntu-21-04%e3%83%8e%e3%83%bc%e3%83%88-%e7%92%b0%e5%a2%83%e6%a7%8b%e7%af%892%e6%97%a5%e7%9b%ae/">Ubuntu 21.04ノート 環境構築(2日目)</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>https://masaru-kmt.github.io/2021/04/06/ubuntu-21-04%e3%83%8e%e3%83%bc%e3%83%88-%e7%92%b0%e5%a2%83%e6%a7%8b%e7%af%892%e6%97%a5%e7%9b%ae/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">212</post-id>	</item>
		<item>
		<title>Ubuntu 21.04にPostgreSQL 13をインストールする</title>
		<link>https://masaru-kmt.github.io/2021/04/05/ubuntu-21-04%e3%81%abpostgresql%e3%82%92%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab%e3%81%99%e3%82%8b/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=ubuntu-21-04%25e3%2581%25abpostgresql%25e3%2582%2592%25e3%2582%25a4%25e3%2583%25b3%25e3%2582%25b9%25e3%2583%2588%25e3%2583%25bc%25e3%2583%25ab%25e3%2581%2599%25e3%2582%258b</link>
					<comments>https://masaru-kmt.github.io/2021/04/05/ubuntu-21-04%e3%81%abpostgresql%e3%82%92%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab%e3%81%99%e3%82%8b/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Mon, 05 Apr 2021 10:45:52 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[PostgreSQL]]></category>
		<category><![CDATA[PostgreSQL 13]]></category>
		<category><![CDATA[Ubuntu]]></category>
		<category><![CDATA[Ubuntu 21.04]]></category>
		<guid isPermaLink="false">https://masaru-kmt.github.io/?p=187</guid>

					<description><![CDATA[<p>準備 　PosgreSQLをaptのレポジトリに登録します。 インストール 　デフォルトではバージョン13が入るようです。 無事動いているようです。 PgAdmin 4は未対応の模様 PgAdminはまだUbuntu 2&#8230; <a class="more-link" href="https://masaru-kmt.github.io/2021/04/05/ubuntu-21-04%e3%81%abpostgresql%e3%82%92%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab%e3%81%99%e3%82%8b/">続きを読む <span class="screen-reader-text">Ubuntu 21.04にPostgreSQL 13をインストールする</span></a></p>
<p>The post <a href="https://masaru-kmt.github.io/2021/04/05/ubuntu-21-04%e3%81%abpostgresql%e3%82%92%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab%e3%81%99%e3%82%8b/">Ubuntu 21.04にPostgreSQL 13をインストールする</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>準備</h2>



<div class="hcb_wrap"><pre class="prism line-numbers lang-plain"><code>sudo apt install curl ca-certificates gnupg
curl https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -
sudo sh -c &#39;echo &quot;deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main&quot; &gt; /etc/apt/sources.list.d/pgdg.list&#39;
sudo apt update</code></pre></div>



<p>　PosgreSQLをaptのレポジトリに登録します。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>インストール</h2>



<div class="hcb_wrap"><pre class="prism line-numbers lang-plain"><code>(base) masaru@ASUS-TUF-Gaming:~$ sudo apt install postgresql
パッケージリストを読み込んでいます... 完了
依存関係ツリーを作成しています... 完了        
状態情報を読み取っています... 完了        
以下の追加パッケージがインストールされます:
  postgresql-13 postgresql-client-13 postgresql-client-common
  postgresql-common sysstat
提案パッケージ:
  postgresql-doc postgresql-doc-13 libjson-perl isag
以下のパッケージが新たにインストールされます:
  postgresql postgresql-13 postgresql-client-13 postgresql-client-common
  postgresql-common sysstat
アップグレード: 0 個、新規インストール: 6 個、削除: 0 個、保留: 6 個。
15.6 MB のアーカイブを取得する必要があります。
この操作後に追加で 48.1 MB のディスク容量が消費されます。
続行しますか? [Y/n] Y</code></pre></div>



<p>　デフォルトではバージョン13が入るようです。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<div class="hcb_wrap"><pre class="prism line-numbers lang-plain"><code>(base) masaru@ASUS-TUF-Gaming:~$ sudo systemctl status postgresql
● postgresql.service - PostgreSQL RDBMS
     Loaded: loaded (/lib/systemd/system/postgresql.service; enabled; vendor pr&gt;
     Active: active (exited) since Mon 2021-04-05 17:36:05 JST; 6min ago
   Main PID: 116889 (code=exited, status=0/SUCCESS)
      Tasks: 0 (limit: 37748)
     Memory: 0B
     CGroup: /system.slice/postgresql.service

 4月 05 17:36:05 ASUS-TUF-Gaming systemd[1]: Starting PostgreSQL RDBMS...
 4月 05 17:36:05 ASUS-TUF-Gaming systemd[1]: Finished PostgreSQL RDBMS.</code></pre></div>



<p>無事動いているようです。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>PgAdmin 4は未対応の模様</h2>



<p> PgAdminはまだUbuntu 21.04に未対応のようです。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>(base) masaru@ASUS-TUF-Gaming:~$ sudo apt install pgadmin4
[sudo] masaru のパスワード: 
パッケージリストを読み込んでいます... 完了
依存関係ツリーを作成しています... 完了        
状態情報を読み取っています... 完了        
パッケージ pgadmin4 は使用できませんが、別のパッケージから参照されます。
これは、パッケージが欠落しているか、廃止されたか、または別のソース
からのみ利用可能であることを意味します。

E: パッケージ &#39;pgadmin4&#39; にはインストール候補がありません</code></pre></div>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>LANからPostgreSQLに接続可能にする設定</h2>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>(base) masaru@ASUS-TUF-Gaming:~$ sudo gedit /etc/postgresql/13/main/pg_hba.conf 
(base) masaru@ASUS-TUF-Gaming:~$ sudo systemctl restart postgresql</code></pre></div>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code># IPv4 local connections:
host    all             all             127.0.0.1/32            md5
host    all             all         192.168.100.1/24            md5</code></pre></div>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>ユーザーの作成</h2>



<div class="hcb_wrap"><pre class="prism line-numbers lang-sql" data-lang="SQL"><code>postgres=# create role masaru with superuser login;
select * from pg_shadow;

 usename  | usesysid | usecreatedb | usesuper | userepl | usebypassrls | passwd | valuntil | useconfig 
----------+----------+-------------+----------+---------+--------------+--------+----------+-----------
 postgres |       10 | t           | t        | t       | t            |        |          | 
 masaru   |    16384 | f           | t        | f       | f            |        |          | 
(2 rows)

postgres=# alter role masaru with password &#39;xxxxxxxxxxx&#39;;
ALTER ROLE</code></pre></div>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>データベースの作成</h2>



<p>　『<a href="https://www.google.com/covid19/mobility/?hl=ja" target="_blank" rel="noreferrer noopener">Google コミュニティ モビリティ レポート</a>』のデータベースを作ってみます。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>(base) masaru@ASUS-TUF-Gaming:~$ createdb google_mobility</code></pre></div>



<p> 　DBeaverで接続します。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="466" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/dbeaver_connection.png?resize=750%2C466&#038;ssl=1" alt="" class="wp-image-195" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/dbeaver_connection.png?resize=1024%2C636&amp;ssl=1 1024w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/dbeaver_connection.png?resize=300%2C186&amp;ssl=1 300w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/dbeaver_connection.png?resize=768%2C477&amp;ssl=1 768w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/dbeaver_connection.png?w=1320&amp;ssl=1 1320w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　DBeaverでSQL文を実行してテーブルを作成します。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="458" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/create_table.png?resize=750%2C458&#038;ssl=1" alt="" class="wp-image-196" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/create_table.png?resize=1024%2C626&amp;ssl=1 1024w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/create_table.png?resize=300%2C183&amp;ssl=1 300w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/create_table.png?resize=768%2C469&amp;ssl=1 768w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/create_table.png?w=1437&amp;ssl=1 1437w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /><figcaption>DBeaverでテーブルを作成する</figcaption></figure>



<div class="hcb_wrap"><pre class="prism line-numbers lang-sql" data-lang="SQL"><code>create table google_mobility( 
	id SERIAL primary key, 
	country_region_code varchar(2) , 
	country_region varchar(255) , 
	sub_region_1 varchar(255) , 
	sub_region_2 varchar(255) , 
	metro_area varchar(255) , 
	iso_3166_2_code varchar(32) , 
	census_fips_code varchar(32) , 
	date date , 
	retail_and_recreation_percent_change_from_baseline integer , 
	grocery_and_pharmacy_percent_change_from_baseline integer , 
	parks_percent_change_from_baseline integer , 
	transit_stations_percent_change_from_baseline integer , 
	workplaces_percent_change_from_baseline integer , 
	residential_percent_change_from_baseline integer);</code></pre></div>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>CSVデータのインポート</h2>



<p>　いよいよCSVのインポートです。DBeaverはCSVも格納先フォルダをデータベースとして登録してからPostgreSQLにインポートするのがお作法のようです。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="458" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/add_csv.png?resize=750%2C458&#038;ssl=1" alt="" class="wp-image-197" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/add_csv.png?resize=1024%2C626&amp;ssl=1 1024w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/add_csv.png?resize=300%2C183&amp;ssl=1 300w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/add_csv.png?resize=768%2C469&amp;ssl=1 768w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/add_csv.png?w=1439&amp;ssl=1 1439w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="458" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/select_csv.png?resize=750%2C458&#038;ssl=1" alt="" class="wp-image-199" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/select_csv.png?resize=1024%2C626&amp;ssl=1 1024w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/select_csv.png?resize=300%2C183&amp;ssl=1 300w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/select_csv.png?resize=768%2C470&amp;ssl=1 768w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/select_csv.png?w=1441&amp;ssl=1 1441w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　データベース上のテーブルとCSVでカラム名が一致していれば、マッピングで困ることはないようです。</p>



<p>　とは言え、Google Mobilityデータも短期間のうちにplace_idというカラムが増えており、オープンデータの扱いのやっかいさを実感します。さらにCSVの中身が壊れているとインポートの段階で苦しみます……<img src="https://s.w.org/images/core/emoji/13.0.1/72x72/1f4a6.png" alt="💦" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="645" src="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/columns.png?resize=750%2C645&#038;ssl=1" alt="" class="wp-image-200" srcset="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/columns.png?w=757&amp;ssl=1 757w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/columns.png?resize=300%2C258&amp;ssl=1 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　増えていたカラムはvarchar(32767)で格納されてしまっているので、varchar(32)に縮小します。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-sql" data-lang="SQL"><code>select place_id from google_mobility limit 10;
alter table google_mobility alter column place_id type varchar(32);</code></pre></div>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>SQL select文でデータ抽出</h2>



<div class="hcb_wrap"><pre class="prism line-numbers lang-sql" data-lang="SQL"><code>select count(*) from google_mobility;
select * from google_mobility
	where sub_region_1 = &#39;Tokyo&#39;
	order by date desc;</code></pre></div>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="383" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/result.png?resize=750%2C383&#038;ssl=1" alt="" class="wp-image-204" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/result.png?resize=1024%2C523&amp;ssl=1 1024w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/result.png?resize=300%2C153&amp;ssl=1 300w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/result.png?resize=768%2C392&amp;ssl=1 768w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/result.png?w=1119&amp;ssl=1 1119w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /><figcaption>Google Community Mobility ReportからSQL select文でデータを抽出する</figcaption></figure>



<p>　4838804レコードから400ミリ秒ほどでselect文を実行できました。緊急事態宣言が解除された東京ですが、まだ交通、職場、小売店などでは自粛の影響が残っているようです。</p>
<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F05%2Fubuntu-21-04%25e3%2581%25abpostgresql%25e3%2582%2592%25e3%2582%25a4%25e3%2583%25b3%25e3%2582%25b9%25e3%2583%2588%25e3%2583%25bc%25e3%2583%25ab%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=Ubuntu%2021.04%E3%81%ABPostgreSQL%2013%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F05%2Fubuntu-21-04%25e3%2581%25abpostgresql%25e3%2582%2592%25e3%2582%25a4%25e3%2583%25b3%25e3%2582%25b9%25e3%2583%2588%25e3%2583%25bc%25e3%2583%25ab%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=Ubuntu%2021.04%E3%81%ABPostgreSQL%2013%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F05%2Fubuntu-21-04%25e3%2581%25abpostgresql%25e3%2582%2592%25e3%2582%25a4%25e3%2583%25b3%25e3%2582%25b9%25e3%2583%2588%25e3%2583%25bc%25e3%2583%25ab%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=Ubuntu%2021.04%E3%81%ABPostgreSQL%2013%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F05%2Fubuntu-21-04%25e3%2581%25abpostgresql%25e3%2582%2592%25e3%2582%25a4%25e3%2583%25b3%25e3%2582%25b9%25e3%2583%2588%25e3%2583%25bc%25e3%2583%25ab%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=Ubuntu%2021.04%E3%81%ABPostgreSQL%2013%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F05%2Fubuntu-21-04%25e3%2581%25abpostgresql%25e3%2582%2592%25e3%2582%25a4%25e3%2583%25b3%25e3%2582%25b9%25e3%2583%2588%25e3%2583%25bc%25e3%2583%25ab%25e3%2581%2599%25e3%2582%258b%2F&amp;linkname=Ubuntu%2021.04%E3%81%ABPostgreSQL%2013%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F05%2Fubuntu-21-04%25e3%2581%25abpostgresql%25e3%2582%2592%25e3%2582%25a4%25e3%2583%25b3%25e3%2582%25b9%25e3%2583%2588%25e3%2583%25bc%25e3%2583%25ab%25e3%2581%2599%25e3%2582%258b%2F&#038;title=Ubuntu%2021.04%E3%81%ABPostgreSQL%2013%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B" data-a2a-url="https://masaru-kmt.github.io/2021/04/05/ubuntu-21-04%e3%81%abpostgresql%e3%82%92%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab%e3%81%99%e3%82%8b/" data-a2a-title="Ubuntu 21.04にPostgreSQL 13をインストールする"></a></p><p>The post <a href="https://masaru-kmt.github.io/2021/04/05/ubuntu-21-04%e3%81%abpostgresql%e3%82%92%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab%e3%81%99%e3%82%8b/">Ubuntu 21.04にPostgreSQL 13をインストールする</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>https://masaru-kmt.github.io/2021/04/05/ubuntu-21-04%e3%81%abpostgresql%e3%82%92%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab%e3%81%99%e3%82%8b/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">187</post-id>	</item>
		<item>
		<title>Ubuntu 21.04使用開始(1日目)</title>
		<link>https://masaru-kmt.github.io/2021/04/05/ubuntu-21-04%e4%bd%bf%e7%94%a8%e9%96%8b%e5%a7%8b1%e6%97%a5%e7%9b%ae/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=ubuntu-21-04%25e4%25bd%25bf%25e7%2594%25a8%25e9%2596%258b%25e5%25a7%258b1%25e6%2597%25a5%25e7%259b%25ae</link>
					<comments>https://masaru-kmt.github.io/2021/04/05/ubuntu-21-04%e4%bd%bf%e7%94%a8%e9%96%8b%e5%a7%8b1%e6%97%a5%e7%9b%ae/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Mon, 05 Apr 2021 08:13:48 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[PC & Mobile]]></category>
		<category><![CDATA[Anaconda]]></category>
		<category><![CDATA[DBeaver]]></category>
		<category><![CDATA[GPU]]></category>
		<category><![CDATA[Jupyter Notebook]]></category>
		<category><![CDATA[Krita]]></category>
		<category><![CDATA[NVIDIA]]></category>
		<category><![CDATA[OpenJDK 11]]></category>
		<category><![CDATA[RStudio]]></category>
		<category><![CDATA[Ryzen]]></category>
		<category><![CDATA[Ubuntu]]></category>
		<category><![CDATA[Ubuntu 21.04]]></category>
		<category><![CDATA[Visual Studio Code]]></category>
		<guid isPermaLink="false">https://masaru-kmt.github.io/?p=164</guid>

					<description><![CDATA[<p>Ryzen+NVIDIAのノートが欲しい。データベースと機械学習の全部入りラーメンだ 　前々から、図書館などでもガッツリ使い倒せるLinuxノートが欲しいと思っていました。具体的には、PostgreSQLがselect文&#8230; <a class="more-link" href="https://masaru-kmt.github.io/2021/04/05/ubuntu-21-04%e4%bd%bf%e7%94%a8%e9%96%8b%e5%a7%8b1%e6%97%a5%e7%9b%ae/">続きを読む <span class="screen-reader-text">Ubuntu 21.04使用開始(1日目)</span></a></p>
<p>The post <a href="https://masaru-kmt.github.io/2021/04/05/ubuntu-21-04%e4%bd%bf%e7%94%a8%e9%96%8b%e5%a7%8b1%e6%97%a5%e7%9b%ae/">Ubuntu 21.04使用開始(1日目)</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>Ryzen+NVIDIAのノートが欲しい。データベースと機械学習の全部入りラーメンだ</h2>



<p>　前々から、図書館などでもガッツリ使い倒せるLinuxノートが欲しいと思っていました。具体的には、PostgreSQLがselect文で4スレッドくらい並列処理してくれて、TensorFlow/KerasでGPU SUGEEEE出来る程度のスペックです。</p>



<p>　Amazonの年末セールで『ASUS ゲーミングノートパソコン TUF Gaming A15 FA506IH (AMD Ryzen5 4600H/8GB・SSD 512GB/GTX 1650/1,920×1,080ドット (フルHD) (144Hz)/15.6インチ/フォートレス・グレイ)』が￥82,800と安かったので衝動買い。メモリは即32GBに増設しました。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="677" height="288" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/TUF-amzon.png?resize=677%2C288&#038;ssl=1" alt="" class="wp-image-172" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/TUF-amzon.png?w=677&amp;ssl=1 677w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/TUF-amzon.png?resize=300%2C128&amp;ssl=1 300w" sizes="(max-width: 677px) 100vw, 677px" data-recalc-dims="1" /><figcaption>「AMDが7nmで作ったワットパフォーマンスが良いRenoirが載ったノートにディープラーニングで使えるGTX 1650が付いて8万ちょい。買うしかない……」</figcaption></figure>



<p>　4600Hは6コア12スレッドのノートPC向けCPUで、AMD Renoirシリーズの廉価版です。『最強』ではありませんが、実売10万円以下のノートでこの性能は魅力的です。SSDは内蔵で別途2TBくらい欲しいですが、金欠なので追い詰まってから考えることにします。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="538" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/AMD_Ryzen5_4600H.png?resize=750%2C538&#038;ssl=1" alt="" class="wp-image-185" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/AMD_Ryzen5_4600H.png?resize=1024%2C735&amp;ssl=1 1024w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/AMD_Ryzen5_4600H.png?resize=300%2C215&amp;ssl=1 300w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/AMD_Ryzen5_4600H.png?resize=768%2C551&amp;ssl=1 768w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/AMD_Ryzen5_4600H.png?w=1333&amp;ssl=1 1333w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /><figcaption>AMD Ryzen 5 4600Hは7nm世代の廉価版モバイルCPU</figcaption></figure>



<p>　なお現在の最新モデルは「Ryzen PRO 5000シリーズ モバイル プロセッサ(5850U/5650U/5450U)」、及び「Ryzen 5000シリーズ モバイル プロセッサ(5800U/5700U/5600U/5500U/5400U/5300U)」で7nm世代のままです。5nmのZen4世代は2022年に登場予定です。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>ゲーミングPCへのUbuntu 21.04のインストール</h2>



<p> 　Ubuntuのインストールが終わると、沢山の有名で楽しそうなアプリをリコメンドされます。「SSDの残りが300GBくらいしかないのに片っ端から入れちゃダメダ」と思いつつも入れられるうちはつい入れてしまいます。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="556" src="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/recommend_apps_by_ubuntu.png?resize=750%2C556&#038;ssl=1" alt="" class="wp-image-173" srcset="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/recommend_apps_by_ubuntu.png?w=977&amp;ssl=1 977w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/recommend_apps_by_ubuntu.png?resize=300%2C222&amp;ssl=1 300w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/recommend_apps_by_ubuntu.png?resize=768%2C569&amp;ssl=1 768w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2> 日本語フォルダ名を英語化</h2>



<p>　lsなどでパス指定するときにフォルダ名が日本語だとIMEの切り替えや入力が面倒なので、英語に変えてしまいます。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>masaru@ASUS-TUF-Gaming:~$ LANG=C xdg-user-dirs-gtk-update</code></pre></div>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="444" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Japanese_folders_to_English.pngJ_.png?resize=750%2C444&#038;ssl=1" alt="" class="wp-image-176" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Japanese_folders_to_English.pngJ_.png?w=974&amp;ssl=1 974w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Japanese_folders_to_English.pngJ_.png?resize=300%2C177&amp;ssl=1 300w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/Japanese_folders_to_English.pngJ_.png?resize=768%2C454&amp;ssl=1 768w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>導入直後に入れたアプリ</h2>



<p>　初心者でも導入に困らなさそうなものは名前だけ……。</p>



<figure class="wp-block-table is-style-stripes"><table><tbody><tr><td>NVIDIA driver metapackage</td><td>NVIDIA独自のグラフィックドライバ。『ソフトウェアとアップデート』 &#8211; 『追加のドライバー』でプロプライエタリ版を指定してインストールする必要がある</td></tr><tr><td>Ubuntu Live Patch</td><td>パッケージの自動更新サービス。実際は手動でapt updateを続けることが多いですが、念のため導入</td></tr><tr><td><s>Shutter</s></td><td>画面キャプチャソフト。不具合のため現在使用できず</td></tr><tr><td>Krita</td><td>定番の画像ソフト。Shutterが使えなかったので最優先で導入。個人的にも好きなソフト</td></tr><tr><td>Google Chrome, Chromium</td><td>Webブラウザ。SSOの誘惑と逃げたい気持ちでサンドイッチに</td></tr><tr><td>dbeaver-ce</td><td>JDBCの汎用データベースクライアント</td></tr><tr><td>Anaconda</td><td>言わずと知れたPython機械学習系のフレームワーク。PATHを汚染するので好きではないのですが、楽なので結局入れてしまいます</td></tr><tr><td>jupyter-notebook</td><td>Anacondaに同梱のPython実行環境</td></tr><tr><td>Visual Studio Code</td><td>プログラム開発環境のデファクトスタンダード。Pythonなどのインタプリタを配下に置いてしまうAnacondaとの共存が課題</td></tr><tr><td>R</td><td>Anacondaのパッケージとしてcondaでインストール</td></tr><tr><td>RStudio</td><td>Rの開発環境。PATHの問題を避けるためAnacondaからインストール</td></tr><tr><td>traceroute</td><td>サーバーまでのネットワーク経路を確認するツール</td></tr><tr><td>OpenJDK 11</td><td>各種データベース用のJava開発環境</td></tr></tbody></table></figure>



<h2>NDIVIAドライバの基本設定</h2>



<p>　Ubuntu 21.04は、素の状態でNVIDIAの独自ドライバを使ってくれません。チューニングの観点から独自ドライバを入れるのが良さそうです。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>masaru@ASUS-TUF-Gaming:~$ lspci | grep -i nvidia
01:00.0 VGA compatible controller: NVIDIA Corporation TU117M (rev ff)
01:00.1 Audio device: NVIDIA Corporation Device 10fa (rev ff)</code></pre></div>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="386" src="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/NVIDIA_driver_selection.png?resize=750%2C386&#038;ssl=1" alt="" class="wp-image-174" srcset="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/NVIDIA_driver_selection.png?w=992&amp;ssl=1 992w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/NVIDIA_driver_selection.png?resize=300%2C154&amp;ssl=1 300w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/NVIDIA_driver_selection.png?resize=768%2C395&amp;ssl=1 768w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p> 　続いて、aptのレポジトリに最新のドライバが降ってくるように設定します。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>masaru@ASUS-TUF-Gaming:~$ sudo add-apt-repository -y -n ppa:graphics-drivers/ppaPPA publishes dbgsym, you may need to include &#39;main/debug&#39; component
Repository: &#39;deb http://ppa.launchpad.net/graphics-drivers/ppa/ubuntu/ hirsute main&#39;
Description:
Fresh drivers from upstream, currently shipping Nvidia.

## Current Status

Current long-lived branch release: `nvidia-430` (430.40)
Dropped support for Fermi series (https://nvidia.custhelp.com/app/answers/detail/a_id/4656)

Old long-lived branch release: `nvidia-390` (390.129)

For GF1xx GPUs use `nvidia-390` (390.129)
For G8x, G9x and GT2xx GPUs use `nvidia-340` (340.107)
For NV4x and G7x GPUs use `nvidia-304` (304.137) End-Of-Life!

Support timeframes for Unix legacy GPU releases:
https://nvidia.custhelp.com/app/answers/detail/a_id/3142

## What we&#39;re working on right now:

- Normal driver updates
- Help Wanted: Mesa Updates for Intel/AMD users, ping us if you want to help do this work, we&#39;re shorthanded.

## WARNINGS:

This PPA is currently in testing, you should be experienced with packaging before you dive in here:

Volunteers welcome!

### How you can help:

## Install PTS and benchmark your gear:

    sudo apt-get install phoronix-test-suite

Run the benchmark:

    phoronix-test-suite default-benchmark openarena xonotic tesseract gputest unigine-valley

and then say yes when it asks you to submit your results to openbechmarking.org. Then grab a cup of coffee, it takes a bit for the benchmarks to run. Depending on the version of Ubuntu you&#39;re using it might preferable for you to grabs PTS from upstream directly: http://www.phoronix-test-suite.com/?k=downloads

## Share your results with the community:

Post a link to your results (or any other feedback to): https://launchpad.net/~graphics-drivers-testers

Remember to rerun and resubmit the benchmarks after driver upgrades, this will allow us to gather a bunch of data on performance that we can share with everybody.

If you run into old documentation referring to other PPAs, you can help us by consolidating references to this PPA.

If someone wants to go ahead and start prototyping on `software-properties-gtk` on what the GUI should look like, please start hacking!

## Help us Help You!

We use the donation funds to get the developers hardware to test and upload these drivers, please consider donating to the &quot;community&quot; slider on the donation page if you&#39;re loving this PPA:

http://www.ubuntu.com/download/desktop/contribute
More info: https://launchpad.net/~graphics-drivers/+archive/ubuntu/ppa
Adding repository.
Adding deb entry to /etc/apt/sources.list.d/graphics-drivers-ubuntu-ppa-hirsute.list
Adding disabled deb-src entry to /etc/apt/sources.list.d/graphics-drivers-ubuntu-ppa-hirsute.list
Adding key to /etc/apt/trusted.gpg.d/graphics-drivers-ubuntu-ppa.gpg with fingerprint 2388FF3BE10A76F638F80723FCAE110B1118213C
</code></pre></div>



<h2>Linux版のAnacondaはシェルから導入</h2>



<p>　Anacondaはパスなど各種設定をOSから乗っ取る『お行儀が悪いフレームワーク』なためか、Ubuntuでもストアアプリには入っていません。シェルスクリプトを落としてbashで実行します。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>masaru@ASUS-TUF-Gaming:~/Downloads$ bash ./Anaconda3-2020.11-Linux-x86_64.sh 

Welcome to Anaconda3 2020.11

In order to continue the installation process, please review the license
agreement.
Please, press ENTER to continue
...</code></pre></div>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>masaru@ASUS-TUF-Gaming:~/anaconda3/bin$ ./conda init
no change     /home/masaru/anaconda3/condabin/conda
no change     /home/masaru/anaconda3/bin/conda
no change     /home/masaru/anaconda3/bin/conda-env
no change     /home/masaru/anaconda3/bin/activate
no change     /home/masaru/anaconda3/bin/deactivate
no change     /home/masaru/anaconda3/etc/profile.d/conda.sh
no change     /home/masaru/anaconda3/etc/fish/conf.d/conda.fish
no change     /home/masaru/anaconda3/shell/condabin/Conda.psm1
no change     /home/masaru/anaconda3/shell/condabin/conda-hook.ps1
no change     /home/masaru/anaconda3/lib/python3.8/site-packages/xontrib/conda.xsh
no change     /home/masaru/anaconda3/etc/profile.d/conda.csh
modified      /home/masaru/.bashrc</code></pre></div>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>(base) masaru@ASUS-TUF-Gaming:~$ conda update --all
Collecting package metadata (current_repodata.json): done
Solving environment: done

## Package Plan ##

  environment location: /home/masaru/anaconda3


The following packages will be downloaded:

    package                    |            build
    ---------------------------|-----------------
    _anaconda_depends-2020.07  |           py38_0           6 KB
...</code></pre></div>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>Anacondaの功罪</h2>



<p>　今回インストールしたAnacondaは2020年7月版。主な開発ツールのPATHを乗っ取る仕様であることを考えると半年以上放置されているのは少し疑念を感じます。もちろんconda updateはかけるのですが……。</p>



<p>　最新版をいち早く使いたい方はAnaconda無しのアカウントを作るか、仮想環境で運用することになりそうです。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>(base) masaru@ASUS-TUF-Gaming:~$ python --version
Python 3.8.8</code></pre></div>
<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F05%2Fubuntu-21-04%25e4%25bd%25bf%25e7%2594%25a8%25e9%2596%258b%25e5%25a7%258b1%25e6%2597%25a5%25e7%259b%25ae%2F&amp;linkname=Ubuntu%2021.04%E4%BD%BF%E7%94%A8%E9%96%8B%E5%A7%8B%281%E6%97%A5%E7%9B%AE%29" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F05%2Fubuntu-21-04%25e4%25bd%25bf%25e7%2594%25a8%25e9%2596%258b%25e5%25a7%258b1%25e6%2597%25a5%25e7%259b%25ae%2F&amp;linkname=Ubuntu%2021.04%E4%BD%BF%E7%94%A8%E9%96%8B%E5%A7%8B%281%E6%97%A5%E7%9B%AE%29" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F05%2Fubuntu-21-04%25e4%25bd%25bf%25e7%2594%25a8%25e9%2596%258b%25e5%25a7%258b1%25e6%2597%25a5%25e7%259b%25ae%2F&amp;linkname=Ubuntu%2021.04%E4%BD%BF%E7%94%A8%E9%96%8B%E5%A7%8B%281%E6%97%A5%E7%9B%AE%29" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F05%2Fubuntu-21-04%25e4%25bd%25bf%25e7%2594%25a8%25e9%2596%258b%25e5%25a7%258b1%25e6%2597%25a5%25e7%259b%25ae%2F&amp;linkname=Ubuntu%2021.04%E4%BD%BF%E7%94%A8%E9%96%8B%E5%A7%8B%281%E6%97%A5%E7%9B%AE%29" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F05%2Fubuntu-21-04%25e4%25bd%25bf%25e7%2594%25a8%25e9%2596%258b%25e5%25a7%258b1%25e6%2597%25a5%25e7%259b%25ae%2F&amp;linkname=Ubuntu%2021.04%E4%BD%BF%E7%94%A8%E9%96%8B%E5%A7%8B%281%E6%97%A5%E7%9B%AE%29" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F05%2Fubuntu-21-04%25e4%25bd%25bf%25e7%2594%25a8%25e9%2596%258b%25e5%25a7%258b1%25e6%2597%25a5%25e7%259b%25ae%2F&#038;title=Ubuntu%2021.04%E4%BD%BF%E7%94%A8%E9%96%8B%E5%A7%8B%281%E6%97%A5%E7%9B%AE%29" data-a2a-url="https://masaru-kmt.github.io/2021/04/05/ubuntu-21-04%e4%bd%bf%e7%94%a8%e9%96%8b%e5%a7%8b1%e6%97%a5%e7%9b%ae/" data-a2a-title="Ubuntu 21.04使用開始(1日目)"></a></p><p>The post <a href="https://masaru-kmt.github.io/2021/04/05/ubuntu-21-04%e4%bd%bf%e7%94%a8%e9%96%8b%e5%a7%8b1%e6%97%a5%e7%9b%ae/">Ubuntu 21.04使用開始(1日目)</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>https://masaru-kmt.github.io/2021/04/05/ubuntu-21-04%e4%bd%bf%e7%94%a8%e9%96%8b%e5%a7%8b1%e6%97%a5%e7%9b%ae/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">164</post-id>	</item>
		<item>
		<title>WordPress Multisiteを選ぶべきか</title>
		<link>https://masaru-kmt.github.io/2021/04/02/wordpress-multisite%e3%82%92%e9%81%b8%e3%81%b6%e3%81%b9%e3%81%8d%e3%81%8b/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=wordpress-multisite%25e3%2582%2592%25e9%2581%25b8%25e3%2581%25b6%25e3%2581%25b9%25e3%2581%258d%25e3%2581%258b</link>
					<comments>https://masaru-kmt.github.io/2021/04/02/wordpress-multisite%e3%82%92%e9%81%b8%e3%81%b6%e3%81%b9%e3%81%8d%e3%81%8b/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Fri, 02 Apr 2021 10:28:27 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[Webマーケティング]]></category>
		<category><![CDATA[AWS]]></category>
		<category><![CDATA[Lightsail]]></category>
		<category><![CDATA[WordPress]]></category>
		<category><![CDATA[サブドメイン]]></category>
		<guid isPermaLink="false">https://masaru-kmt.github.io/?p=117</guid>

					<description><![CDATA[<p>　AWS LightsailのWordPressには通常版とマルチサイト版(WordPress Multisite)の二種類があります。どちらを選んでも致命的な影響はなさそうですが、複数のサブドメインでWordPress&#8230; <a class="more-link" href="https://masaru-kmt.github.io/2021/04/02/wordpress-multisite%e3%82%92%e9%81%b8%e3%81%b6%e3%81%b9%e3%81%8d%e3%81%8b/">続きを読む <span class="screen-reader-text">WordPress Multisiteを選ぶべきか</span></a></p>
<p>The post <a href="https://masaru-kmt.github.io/2021/04/02/wordpress-multisite%e3%82%92%e9%81%b8%e3%81%b6%e3%81%b9%e3%81%8d%e3%81%8b/">WordPress Multisiteを選ぶべきか</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<p>　AWS LightsailのWordPressには通常版とマルチサイト版(WordPress Multisite)の二種類があります。どちらを選んでも致命的な影響はなさそうですが、複数のサブドメインでWordPressを展開したいならMultisiteを選ぶ余地があります。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="422" src="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/WordPress-vs-Multisite.png?resize=750%2C422&#038;ssl=1" alt="" class="wp-image-119" srcset="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/WordPress-vs-Multisite.png?resize=1024%2C576&amp;ssl=1 1024w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/WordPress-vs-Multisite.png?resize=300%2C169&amp;ssl=1 300w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/WordPress-vs-Multisite.png?resize=768%2C432&amp;ssl=1 768w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/WordPress-vs-Multisite.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　上図がWordPress Multisiteと一般的なWordPressの違いです。</p>



<p>　「①　一般的なWordPress」では複数のサブドメインを展開するために同数のLightSailインスタンスを作る必要があります。インスタンスごとにリソースを確保するので、リソースを使い切らない小規模のサイトでは割高になります。一方で、特定ドメイン用のインスタンスを停止しても他のサブドメインに影響が無いと言った利点もあります。</p>



<p>　「②　WordPress Multisite」では単一のLightSailインスタンス内で複数のサブドメインを展開出来ます。プラグインなど管理が一元化されるほか、LightSailインスタンスをひとつしか起動しないのでアクセス数が少ないうちは料金的にお得になります。ただし、一般的なWordPress用のプラグインが使えなくなる（有償契約が必要など）ことがあるため、初心者やサブドメインの展開予定が全くない場合は避けた方が良さそうです。</p>



<p>　また大規模なアクセスを期待出来るサイトの場合は、LightSailインスタンスのリソース制約があるのでWordPress Multisiteは避けた方が良いでしょう。「そもそもLightSailで大規模サイトを運用するのか？」という話もありますが<img src="https://s.w.org/images/core/emoji/13.0.1/72x72/1f4a6.png" alt="💦" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>



<h2>長期の仕事を探しています</h2>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="422" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/job-request.jpg?resize=750%2C422&#038;ssl=1" alt="" class="wp-image-129" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/job-request.jpg?resize=1024%2C576&amp;ssl=1 1024w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/job-request.jpg?resize=300%2C169&amp;ssl=1 300w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/job-request.jpg?resize=768%2C432&amp;ssl=1 768w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/job-request.jpg?w=1280&amp;ssl=1 1280w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /><figcaption>デジタルマーケティング関連の仕事を探しています❢</figcaption></figure>



<p class="has-yellow-background-color has-background">　今春から長期の仕事を探しています。40代なので「採用はちょっと……」という人事ご担当者様も多いと思います。正直20代の元気な方のような伸びしろはありませんが、当サイトでスキルレベルが適切と思われた方は、お気軽にお声がけ頂ければと思います。下記フォームかツイッター(<a href="https://twitter.com/masarumkt">https://twitter.com/masarumkt</a>)、あるいはメール(masapon05 アットマーク gmail.com)でご連絡下さい。</p>



<div class="wp-block-contact-form-7-contact-form-selector">[contact-form-7]</div>
<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F02%2Fwordpress-multisite%25e3%2582%2592%25e9%2581%25b8%25e3%2581%25b6%25e3%2581%25b9%25e3%2581%258d%25e3%2581%258b%2F&amp;linkname=WordPress%20Multisite%E3%82%92%E9%81%B8%E3%81%B6%E3%81%B9%E3%81%8D%E3%81%8B" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F02%2Fwordpress-multisite%25e3%2582%2592%25e9%2581%25b8%25e3%2581%25b6%25e3%2581%25b9%25e3%2581%258d%25e3%2581%258b%2F&amp;linkname=WordPress%20Multisite%E3%82%92%E9%81%B8%E3%81%B6%E3%81%B9%E3%81%8D%E3%81%8B" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F02%2Fwordpress-multisite%25e3%2582%2592%25e9%2581%25b8%25e3%2581%25b6%25e3%2581%25b9%25e3%2581%258d%25e3%2581%258b%2F&amp;linkname=WordPress%20Multisite%E3%82%92%E9%81%B8%E3%81%B6%E3%81%B9%E3%81%8D%E3%81%8B" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F02%2Fwordpress-multisite%25e3%2582%2592%25e9%2581%25b8%25e3%2581%25b6%25e3%2581%25b9%25e3%2581%258d%25e3%2581%258b%2F&amp;linkname=WordPress%20Multisite%E3%82%92%E9%81%B8%E3%81%B6%E3%81%B9%E3%81%8D%E3%81%8B" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F02%2Fwordpress-multisite%25e3%2582%2592%25e9%2581%25b8%25e3%2581%25b6%25e3%2581%25b9%25e3%2581%258d%25e3%2581%258b%2F&amp;linkname=WordPress%20Multisite%E3%82%92%E9%81%B8%E3%81%B6%E3%81%B9%E3%81%8D%E3%81%8B" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fmasaru-kmt.github.io%2F2021%2F04%2F02%2Fwordpress-multisite%25e3%2582%2592%25e9%2581%25b8%25e3%2581%25b6%25e3%2581%25b9%25e3%2581%258d%25e3%2581%258b%2F&#038;title=WordPress%20Multisite%E3%82%92%E9%81%B8%E3%81%B6%E3%81%B9%E3%81%8D%E3%81%8B" data-a2a-url="https://masaru-kmt.github.io/2021/04/02/wordpress-multisite%e3%82%92%e9%81%b8%e3%81%b6%e3%81%b9%e3%81%8d%e3%81%8b/" data-a2a-title="WordPress Multisiteを選ぶべきか"></a></p><p>The post <a href="https://masaru-kmt.github.io/2021/04/02/wordpress-multisite%e3%82%92%e9%81%b8%e3%81%b6%e3%81%b9%e3%81%8d%e3%81%8b/">WordPress Multisiteを選ぶべきか</a> first appeared on <a href="https://masaru-kmt.github.io/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>https://masaru-kmt.github.io/2021/04/02/wordpress-multisite%e3%82%92%e9%81%b8%e3%81%b6%e3%81%b9%e3%81%8d%e3%81%8b/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">117</post-id>	</item>
	</channel>
</rss>
