<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	>

<channel>
	<title>MasaruのIT＆マーケティングBLOG  |  Info Tech &amp; Marketing BLOG by Masaru</title>
	<atom:link href="/feed/" rel="self" type="application/rss+xml" />
	<link>/</link>
	<description>Cross the cliffs of the times</description>
	<lastBuildDate>Sat, 17 Jul 2021 15:51:40 +0000</lastBuildDate>
	<language>ja</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.7.2</generator>
<site xmlns="com-wordpress:feed-additions:1">191177362</site>	<item>
		<title>WordPress静的出力プラグイン『Simply Static』のリンク切れを修正するbashスクリプト</title>
		<link>/2021/07/18/wordpress%e9%9d%99%e7%9a%84%e5%87%ba%e5%8a%9b%e3%83%97%e3%83%a9%e3%82%b0%e3%82%a4%e3%83%b3%e3%80%8esimply-static%e3%80%8f%e3%81%ae%e3%83%aa%e3%83%b3%e3%82%af%e5%88%87%e3%82%8c%e3%82%92%e4%bf%ae/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=wordpress%25e9%259d%2599%25e7%259a%2584%25e5%2587%25ba%25e5%258a%259b%25e3%2583%2597%25e3%2583%25a9%25e3%2582%25b0%25e3%2582%25a4%25e3%2583%25b3%25e3%2580%258esimply-static%25e3%2580%258f%25e3%2581%25ae%25e3%2583%25aa%25e3%2583%25b3%25e3%2582%25af%25e5%2588%2587%25e3%2582%258c%25e3%2582%2592%25e4%25bf%25ae</link>
					<comments>/2021/07/18/wordpress%e9%9d%99%e7%9a%84%e5%87%ba%e5%8a%9b%e3%83%97%e3%83%a9%e3%82%b0%e3%82%a4%e3%83%b3%e3%80%8esimply-static%e3%80%8f%e3%81%ae%e3%83%aa%e3%83%b3%e3%82%af%e5%88%87%e3%82%8c%e3%82%92%e4%bf%ae/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Sat, 17 Jul 2021 15:36:26 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[Webデザイン]]></category>
		<category><![CDATA[bash]]></category>
		<category><![CDATA[CMS]]></category>
		<category><![CDATA[GitHub Pages]]></category>
		<category><![CDATA[Simply Static]]></category>
		<category><![CDATA[SSG]]></category>
		<category><![CDATA[URLエンコード]]></category>
		<category><![CDATA[WordPress]]></category>
		<category><![CDATA[シェルスクリプト]]></category>
		<category><![CDATA[情報セキュリティ]]></category>
		<category><![CDATA[日本語URL]]></category>
		<category><![CDATA[静的サイト]]></category>
		<category><![CDATA[静的サイトジェネレーター]]></category>
		<guid isPermaLink="false">/?p=528</guid>

					<description><![CDATA[<p>WordPressのセキュリティが不安なのは「ページを動的に生成するから」 　既に何度か指摘していますが、Wordpressはセキュリティに様々な問題を抱えています。特に根深い問題が「動的にページを生成する」ことです。具&#8230; <a class="more-link" href="/2021/07/18/wordpress%e9%9d%99%e7%9a%84%e5%87%ba%e5%8a%9b%e3%83%97%e3%83%a9%e3%82%b0%e3%82%a4%e3%83%b3%e3%80%8esimply-static%e3%80%8f%e3%81%ae%e3%83%aa%e3%83%b3%e3%82%af%e5%88%87%e3%82%8c%e3%82%92%e4%bf%ae/">続きを読む <span class="screen-reader-text">WordPress静的出力プラグイン『Simply Static』のリンク切れを修正するbashスクリプト</span></a></p>
<p>The post <a href="/2021/07/18/wordpress%e9%9d%99%e7%9a%84%e5%87%ba%e5%8a%9b%e3%83%97%e3%83%a9%e3%82%b0%e3%82%a4%e3%83%b3%e3%80%8esimply-static%e3%80%8f%e3%81%ae%e3%83%aa%e3%83%b3%e3%82%af%e5%88%87%e3%82%8c%e3%82%92%e4%bf%ae/">WordPress静的出力プラグイン『Simply Static』のリンク切れを修正するbashスクリプト</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>WordPressのセキュリティが不安なのは「ページを動的に生成するから」</h2>



<p>　既に何度か指摘していますが、Wordpressはセキュリティに様々な問題を抱えています。特に根深い問題が「<mark>動的にページを生成する</mark>」ことです。具体的には</p>



<ul><li>WordPressはPHPで動的にページを生成する（ユーザーがアクセスするたびにプログラムを動かしている）</li><li>「動的にページを生成する」ということは、プログラムにセキュリティの問題があると<mark>常に攻撃されるリスクがある</mark>ことを意味する</li><li>WordPressは本体が静的にページを出力する機能を持たず、コンテンツ管理用サーバー（CMS）とコンテンツ配信サーバーを分ける機能も無い</li><li>WordPressのロードマップを見る限り、動的なページ生成に伴う<mark>セキュリティ上の問題を解決する意思が開発者に無さげ</mark></li></ul>



<p>という感じで、特に<mark>改善の見込みが無いのがかなり絶望的な状況</mark>です。フロントエンジニア界隈でWordpressが『<mark>技術的負債</mark>』とまで言われる理由です。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>「何でもプラグインで解決する」のがWordpress流</h2>



<p>　Wordpressは、オプション的な機能はすべてサードパーティーのプラグインに任せる文化です。このことがWordpressの多機能化に寄与し、トップシェアのCMSに成長する原動力となりました。</p>



<p>　個人的には、セキュリティはシステムの根幹部分であるため、プラグインに任せるのはおかしいと思っています。しかしWordpressのプラグインが提供する多彩な機能を自力で実装するのは無理なので、Wordpressの静的サイト化も当面はプラグインで実現するのが現実的です。</p>



<p>　本家が自力で対応しようとしていないので「ほかに現実的な方法が無い」ということです。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>WordPressのページを静的サイトとして出力するプラグイン『Simply Static』</h2>



<p> 現在、Wordpressで無償利用できる静的サイトジェネレータープラグインは『<a href="https://ja.wordpress.org/plugins/simply-static/" target="_blank" rel="noreferrer noopener">Simply Static</a>』です。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="401" src="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/07/simply-static.png?resize=750%2C401&#038;ssl=1" alt="" class="wp-image-531" srcset="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/07/simply-static.png?resize=1024%2C548&amp;ssl=1 1024w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/07/simply-static.png?resize=300%2C161&amp;ssl=1 300w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/07/simply-static.png?resize=768%2C411&amp;ssl=1 768w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/07/simply-static.png?resize=1536%2C822&amp;ssl=1 1536w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/07/simply-static.png?resize=1568%2C839&amp;ssl=1 1568w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/07/simply-static.png?w=1596&amp;ssl=1 1596w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　このプラグインにS3やGoogleドライブなどに静的サイトを出力する機能はありませんが、zipファイルでのダウンロードが可能です。</p>



<p>　私は当サイトのコンテンツを<a href="https://docs.github.com/ja/pages" target="_blank" rel="noreferrer noopener">GitHub Pages</a>に試験的に静的出力しています（手動）。</p>



<p class="has-text-align-center"><a href="https://masaru-kmt.github.io/" target="_blank" rel="noreferrer noopener"><strong>https://masaru-kmt.github.io/</strong></a></p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>リンク切れの嵐……犯人は『URLエンコード』</h2>



<p>　……と、ここまではキレイな話ですが、現実はそう甘くありません。zipファイルをGitのワーキングディレクトリに展開して</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>$ git add .
$ git commit -m ‘simply-static-1-1626516830.zip’
$ git push</code></pre></div>



<p>すると<mark>リンク切れの嵐</mark>が……。原因を調べたところ『日本語のURL』にあることが判明しました。具体的には</p>



<ul><li>WordPressはデフォルトで記事タイトルをURLのフォルダ名として使用する</li><li>日本語で記事タイトルを書くと、URLには当然日本語のフォルダ名が含まれる</li><li>WordPressはURLの日本語をUTF-8で出力する</li><li>ところが、Simply StaticプラグインはURLを『URLエンコード』で変換して出力する</li><li>結果、<mark>ページ内のリンクが「URLデコード状態」でリンク先のフォルダ名が「URLエンコード」状態なのでリンクが切れる</mark></li></ul>



<p>というカラクリになります。</p>



<p>　以前の記事「<a href="/2021/04/11/wordpress%e3%82%b5%e3%82%a4%e3%83%88%e3%82%92%e9%9d%99%e7%9a%84%e3%81%ab%e5%87%ba%e5%8a%9b%e3%81%97%e3%81%a6github-pages%e3%82%92%e4%bd%9c%e3%82%8b/" target="_blank" rel="noreferrer noopener">WordPressサイトを静的に出力してGitHub Pagesを作る</a>」ではこの問題に敢えて触れていませんでした。というのも、Wordpress側の設定を変えれば</p>



<ul><li>記事タイトルをURLに含めない</li><li>投稿時に、都度URLを英数字で設定する（手動）</li></ul>



<p>のいずれかの対応が可能だからです。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>そもそも、URLに日本語を使うのは適切なのか？</h2>



<p>　URLに日本語を平気でぶち込んで来るCMSは、私が知る限りWordpressくらいです。ウェブに詳しい方なら、URLに日本語が含まれているだけで「<mark>濃厚なWordpress臭</mark>」を感じて敬遠するかも知れません。また文字コード的にも、UTF-8(Unicode)が支配的になる以前からシフトJISやEUCなどでウェブページを作られていた方も、<mark>文字化けで苦しんだ経験</mark>から「日本語のURL？ダメゼッタイ！」と思われていても無理はありません。</p>



<p>　私はこれらの問題を理解した上で、敢えて日本語のURLをそのまま使うことにしました。URLがUTF-8を含むこと自体は「<a href="https://postd.cc/my-url-isnt-your-url/" target="_blank" rel="noreferrer noopener">WHATWGでは、URLはUTF-8とされています</a>」ので不正ではありませんし、事実Google ChromeなどのWebブラウザでは正しく表示されています。</p>



<p>　そして何よりも</p>



<p class="has-text-align-center has-text-color has-background has-extra-large-font-size" style="background-color:#fff314;color:#6c300f"><strong>URLはまだWebブラウザで見える状況なのだから、日本語の方が日本人にはわかりやすい</strong></p>



<p>からです。スマホアプリではURLが（たとえ存在していても）既に見えなくなっていますが、ウェブサイトとして運営している限りは日本語URLの方がユーザーに親切だと判断しました。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>わがままを言うなら自分で変換するしかないじゃない</h2>



<p>　というわけで、前回は手動でURLデコードを行っていましたが、さすがに実運用としてはあり得ない手間なので、<s>ものすごく面倒臭いのをこらえて</s>思い切ってフォルダ名を一括変換するbashスクリプトを作成しました。</p>



<p><a href="https://github.com/Masaru-KMT/WordpressURLdecoder">https://github.com/Masaru-KMT/WordpressURLdecoder</a></p>



<p>　……言うてコードは数行ですがな(；´Д｀)</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>#!/bin/bash
# WordPressURLdecoder
# WordPressプラグイン『Simply Static』が出力する
# URLエンコードされたフォルダ名を一括デコードするbashスクリプト
# Version: 2021-07-17

# WordPressのデータはプラグイン『Simply Static』でダウンロードします
# https://ja.wordpress.org/plugins/simply-static/

# 【注意】別途nkfのインストールが必要です
# sudo apt install nkf
# (Ubuntuの場合)


#  [変数設定]スクリプトを格納・実行するディレクトリ
scrdir=&quot;/home/masaru/&quot;

# [変数設定]『Simply Static』が出力するzipファイルの解凍先ディレクトリ
workdir=&quot;/home/masaru/temp/&quot;


# ディレクトリ一覧の取得(dirlist.txtに格納)
dirlist=&quot;${scrdir}dirlist.txt&quot;
find $workdir -type d &gt; $dirlist

# ディレクトリ一覧を一行ずつ読み込みnkfでデコードしたファイル名に変更
cat ${dirlist}  | while read line
do
 newname=$(echo $line  |  nkf -w --url-input)
 echo &quot;${line} -&gt; ${newname}&quot;
 mv $line $newname
done</code></pre></div>



<p>　ふだんPythonばっか書い<s>たりJavaScriptに泣かされたりし</s>ていてシェルコマンドは1行しか書かないので長めのシェルスクリプトは書きたくないのですが……。<s>機械学習でもないのに</s>Pythonをわざわざ書くのもおっくうだったので思い切って書いてみたら意外と簡単でした。</p>



<p>　ふだんはこの手のやっつけスクリプトは恥ずかしいので表に出さないのですが、Wordpress界隈でニーズが多そうなのと手頃なフリーソフトが見当たらなかったので無保証で公開することにしました。何よりパソコンが壊れたときにスクリプトをサルベージ出来ないと困るのは自分なので……<img src="https://s.w.org/images/core/emoji/13.0.1/72x72/1f4a6.png" alt="💦" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
		<div class="wpulike wpulike-default " ><div class="wp_ulike_general_class wp_ulike_is_not_liked"><button type="button"
					aria-label="いいねボタン"
					data-ulike-id="528"
					data-ulike-nonce="a36d07418a"
					data-ulike-type="post"
					data-ulike-template="wpulike-default"
					data-ulike-display-likers=""
					data-ulike-likers-style="popover"
					class="wp_ulike_btn wp_ulike_put_image wp_post_btn_528"></button><span class="count-box wp_ulike_counter_up" data-ulike-counter-value="0"></span>			</div></div>
	<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=%2F2021%2F07%2F18%2Fwordpress%25e9%259d%2599%25e7%259a%2584%25e5%2587%25ba%25e5%258a%259b%25e3%2583%2597%25e3%2583%25a9%25e3%2582%25b0%25e3%2582%25a4%25e3%2583%25b3%25e3%2580%258esimply-static%25e3%2580%258f%25e3%2581%25ae%25e3%2583%25aa%25e3%2583%25b3%25e3%2582%25af%25e5%2588%2587%25e3%2582%258c%25e3%2582%2592%25e4%25bf%25ae%2F&amp;linkname=WordPress%E9%9D%99%E7%9A%84%E5%87%BA%E5%8A%9B%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%80%8ESimply%20Static%E3%80%8F%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF%E5%88%87%E3%82%8C%E3%82%92%E4%BF%AE%E6%AD%A3%E3%81%99%E3%82%8Bbash%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=%2F2021%2F07%2F18%2Fwordpress%25e9%259d%2599%25e7%259a%2584%25e5%2587%25ba%25e5%258a%259b%25e3%2583%2597%25e3%2583%25a9%25e3%2582%25b0%25e3%2582%25a4%25e3%2583%25b3%25e3%2580%258esimply-static%25e3%2580%258f%25e3%2581%25ae%25e3%2583%25aa%25e3%2583%25b3%25e3%2582%25af%25e5%2588%2587%25e3%2582%258c%25e3%2582%2592%25e4%25bf%25ae%2F&amp;linkname=WordPress%E9%9D%99%E7%9A%84%E5%87%BA%E5%8A%9B%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%80%8ESimply%20Static%E3%80%8F%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF%E5%88%87%E3%82%8C%E3%82%92%E4%BF%AE%E6%AD%A3%E3%81%99%E3%82%8Bbash%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=%2F2021%2F07%2F18%2Fwordpress%25e9%259d%2599%25e7%259a%2584%25e5%2587%25ba%25e5%258a%259b%25e3%2583%2597%25e3%2583%25a9%25e3%2582%25b0%25e3%2582%25a4%25e3%2583%25b3%25e3%2580%258esimply-static%25e3%2580%258f%25e3%2581%25ae%25e3%2583%25aa%25e3%2583%25b3%25e3%2582%25af%25e5%2588%2587%25e3%2582%258c%25e3%2582%2592%25e4%25bf%25ae%2F&amp;linkname=WordPress%E9%9D%99%E7%9A%84%E5%87%BA%E5%8A%9B%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%80%8ESimply%20Static%E3%80%8F%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF%E5%88%87%E3%82%8C%E3%82%92%E4%BF%AE%E6%AD%A3%E3%81%99%E3%82%8Bbash%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=%2F2021%2F07%2F18%2Fwordpress%25e9%259d%2599%25e7%259a%2584%25e5%2587%25ba%25e5%258a%259b%25e3%2583%2597%25e3%2583%25a9%25e3%2582%25b0%25e3%2582%25a4%25e3%2583%25b3%25e3%2580%258esimply-static%25e3%2580%258f%25e3%2581%25ae%25e3%2583%25aa%25e3%2583%25b3%25e3%2582%25af%25e5%2588%2587%25e3%2582%258c%25e3%2582%2592%25e4%25bf%25ae%2F&amp;linkname=WordPress%E9%9D%99%E7%9A%84%E5%87%BA%E5%8A%9B%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%80%8ESimply%20Static%E3%80%8F%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF%E5%88%87%E3%82%8C%E3%82%92%E4%BF%AE%E6%AD%A3%E3%81%99%E3%82%8Bbash%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=%2F2021%2F07%2F18%2Fwordpress%25e9%259d%2599%25e7%259a%2584%25e5%2587%25ba%25e5%258a%259b%25e3%2583%2597%25e3%2583%25a9%25e3%2582%25b0%25e3%2582%25a4%25e3%2583%25b3%25e3%2580%258esimply-static%25e3%2580%258f%25e3%2581%25ae%25e3%2583%25aa%25e3%2583%25b3%25e3%2582%25af%25e5%2588%2587%25e3%2582%258c%25e3%2582%2592%25e4%25bf%25ae%2F&amp;linkname=WordPress%E9%9D%99%E7%9A%84%E5%87%BA%E5%8A%9B%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%80%8ESimply%20Static%E3%80%8F%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF%E5%88%87%E3%82%8C%E3%82%92%E4%BF%AE%E6%AD%A3%E3%81%99%E3%82%8Bbash%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=%2F2021%2F07%2F18%2Fwordpress%25e9%259d%2599%25e7%259a%2584%25e5%2587%25ba%25e5%258a%259b%25e3%2583%2597%25e3%2583%25a9%25e3%2582%25b0%25e3%2582%25a4%25e3%2583%25b3%25e3%2580%258esimply-static%25e3%2580%258f%25e3%2581%25ae%25e3%2583%25aa%25e3%2583%25b3%25e3%2582%25af%25e5%2588%2587%25e3%2582%258c%25e3%2582%2592%25e4%25bf%25ae%2F&#038;title=WordPress%E9%9D%99%E7%9A%84%E5%87%BA%E5%8A%9B%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%80%8ESimply%20Static%E3%80%8F%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF%E5%88%87%E3%82%8C%E3%82%92%E4%BF%AE%E6%AD%A3%E3%81%99%E3%82%8Bbash%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88" data-a2a-url="/2021/07/18/wordpress%e9%9d%99%e7%9a%84%e5%87%ba%e5%8a%9b%e3%83%97%e3%83%a9%e3%82%b0%e3%82%a4%e3%83%b3%e3%80%8esimply-static%e3%80%8f%e3%81%ae%e3%83%aa%e3%83%b3%e3%82%af%e5%88%87%e3%82%8c%e3%82%92%e4%bf%ae/" data-a2a-title="WordPress静的出力プラグイン『Simply Static』のリンク切れを修正するbashスクリプト"></a></p><p>The post <a href="/2021/07/18/wordpress%e9%9d%99%e7%9a%84%e5%87%ba%e5%8a%9b%e3%83%97%e3%83%a9%e3%82%b0%e3%82%a4%e3%83%b3%e3%80%8esimply-static%e3%80%8f%e3%81%ae%e3%83%aa%e3%83%b3%e3%82%af%e5%88%87%e3%82%8c%e3%82%92%e4%bf%ae/">WordPress静的出力プラグイン『Simply Static』のリンク切れを修正するbashスクリプト</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>/2021/07/18/wordpress%e9%9d%99%e7%9a%84%e5%87%ba%e5%8a%9b%e3%83%97%e3%83%a9%e3%82%b0%e3%82%a4%e3%83%b3%e3%80%8esimply-static%e3%80%8f%e3%81%ae%e3%83%aa%e3%83%b3%e3%82%af%e5%88%87%e3%82%8c%e3%82%92%e4%bf%ae/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">528</post-id>	</item>
		<item>
		<title>Google Colaboratory(Colab Pro)でkaggleデータをダウンロードする方法[備忘録]</title>
		<link>/2021/07/13/google-colaboratorycolab-pro%e3%81%a7kaggle%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92%e3%83%80%e3%82%a6%e3%83%b3%e3%83%ad%e3%83%bc%e3%83%89%e3%81%99%e3%82%8b%e6%96%b9%e6%b3%95%e5%82%99%e5%bf%98%e9%8c%b2/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=google-colaboratorycolab-pro%25e3%2581%25a7kaggle%25e3%2583%2587%25e3%2583%25bc%25e3%2582%25bf%25e3%2582%2592%25e3%2583%2580%25e3%2582%25a6%25e3%2583%25b3%25e3%2583%25ad%25e3%2583%25bc%25e3%2583%2589%25e3%2581%2599%25e3%2582%258b%25e6%2596%25b9%25e6%25b3%2595%25e5%2582%2599%25e5%25bf%2598%25e9%258c%25b2</link>
					<comments>/2021/07/13/google-colaboratorycolab-pro%e3%81%a7kaggle%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92%e3%83%80%e3%82%a6%e3%83%b3%e3%83%ad%e3%83%bc%e3%83%89%e3%81%99%e3%82%8b%e6%96%b9%e6%b3%95%e5%82%99%e5%bf%98%e9%8c%b2/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Tue, 13 Jul 2021 00:56:43 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[データ分析]]></category>
		<category><![CDATA[Colab Pro]]></category>
		<category><![CDATA[Google Colab]]></category>
		<category><![CDATA[Googleドライブ]]></category>
		<category><![CDATA[kaggle]]></category>
		<category><![CDATA[ビッグデータ]]></category>
		<guid isPermaLink="false">/?p=514</guid>

					<description><![CDATA[<p>　技術的な要素は無いのですが、忘れやすいのでコピペ出来るように記事を残しておきます。 kaggle.jsonをGoogleドライブに保存しておく 　kaggleのAccount画面でCreate New API Toke&#8230; <a class="more-link" href="/2021/07/13/google-colaboratorycolab-pro%e3%81%a7kaggle%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92%e3%83%80%e3%82%a6%e3%83%b3%e3%83%ad%e3%83%bc%e3%83%89%e3%81%99%e3%82%8b%e6%96%b9%e6%b3%95%e5%82%99%e5%bf%98%e9%8c%b2/">続きを読む <span class="screen-reader-text">Google Colaboratory(Colab Pro)でkaggleデータをダウンロードする方法[備忘録]</span></a></p>
<p>The post <a href="/2021/07/13/google-colaboratorycolab-pro%e3%81%a7kaggle%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92%e3%83%80%e3%82%a6%e3%83%b3%e3%83%ad%e3%83%bc%e3%83%89%e3%81%99%e3%82%8b%e6%96%b9%e6%b3%95%e5%82%99%e5%bf%98%e9%8c%b2/">Google Colaboratory(Colab Pro)でkaggleデータをダウンロードする方法[備忘録]</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<p>　技術的な要素は無いのですが、忘れやすいのでコピペ出来るように記事を残しておきます。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>kaggle.jsonをGoogleドライブに保存しておく</h2>



<p>　<a href="https://www.kaggle.com/" target="_blank" rel="noreferrer noopener">kaggle</a>のAccount画面で<mark>Create New API Token</mark>ボタンを押して<mark>kaggle.json</mark>をダウンロードし、Googleドライブに保存する(私の場合は’Colab Notebooks&#8217;直下)。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>Colabの規定ディレクトリにkaggle.jsonをコピー</h2>



<p>　Colabのノートブック画面でGoogleドライブに接続。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-python" data-lang="Python"><code>from google.colab import drive
drive.mount(&#39;/content/drive&#39;)</code></pre></div>



<p>　ターミナルでkaggle.jsonを所定の位置に配置。ColabのターミナルではCtrl+C、Ctrl+Vでコピペ出来ないので、それぞれ<mark>Ctrl+Insert</mark>、<mark>Shift+Insert</mark>のショートカットで代用する（メニューバーの『編集』でもコピペ出来ない……）。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>/content# mkdir /root/.kaggle/
/content# cp &#39;/content/drive/MyDrive/Colab Notebooks/kaggle.json&#39; /root/.kaggle/</code></pre></div>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>kaggleコマンドでデータダウンロード</h2>



<p>　Kaggleのコマンド自体はkaggleのサイトに表示されるので、<mark>コンペの利用条件を承諾してから</mark>コマンドをコピペするだけです。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="388" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/07/kaggle.jpg?resize=750%2C388&#038;ssl=1" alt="" class="wp-image-516" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/07/kaggle.jpg?resize=1024%2C530&amp;ssl=1 1024w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/07/kaggle.jpg?resize=300%2C155&amp;ssl=1 300w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/07/kaggle.jpg?resize=768%2C397&amp;ssl=1 768w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/07/kaggle.jpg?resize=1536%2C795&amp;ssl=1 1536w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/07/kaggle.jpg?resize=1568%2C811&amp;ssl=1 1568w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/07/kaggle.jpg?w=1801&amp;ssl=1 1801w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<div class="hcb_wrap"><pre class="prism line-numbers lang-plain"><code>/content# kaggle competitions download -c house-prices-advanced-regression-techniques
Warning: Looks like you&#39;re using an outdated API Version, please consider updating (server 1.5.12 / client 1.5.4)
Downloading train.csv to /content
  0%|                                                                                           | 0.00/450k [00:00&lt;?, ?B/s]
100%|███████████████████████████████████████████████████████████████████████████████████| 450k/450k [00:00&lt;00:00, 61.1MB/s]
Downloading sample_submission.csv to /content
  0%|                                                                                          | 0.00/31.2k [00:00&lt;?, ?B/s]
100%|█████████████████████████████████████████████████████████████████████████████████| 31.2k/31.2k [00:00&lt;00:00, 33.8MB/s]
Downloading test.csv to /content
  0%|                                                                                           | 0.00/441k [00:00&lt;?, ?B/s]
100%|███████████████████████████████████████████████████████████████████████████████████| 441k/441k [00:00&lt;00:00, 60.6MB/s]
Downloading data_description.txt to /content
  0%|                                                                                          | 0.00/13.1k [00:00&lt;?, ?B/s]
100%|█████████████████████████████████████████████████████████████████████████████████| 13.1k/13.1k [00:00&lt;00:00, 12.4MB/s]</code></pre></div>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>Colabの操作性は初心者に優しくない</h2>



<p>　Colabのインスタンスを立ち上げるたびに各種操作が必要なのが果てしなくだるいですね……。GoogleのColabチームは操作性の向上に消極的なようで、細かいところでストレスが蓄積します。<a href="/2021/06/27/google%e3%83%89%e3%83%a9%e3%82%a4%e3%83%96%e3%81%ae%e9%ac%bc%e4%bb%95%e6%a7%98%e3%81%aa%e3%80%8e%e3%83%95%e3%82%a9%e3%83%ab%e3%83%80%e3%83%80%e3%82%a6%e3%83%b3%e3%83%ad%e3%83%bc%e3%83%89%e3%80%8f/" target="_blank" rel="noreferrer noopener">GBレベルのデータダウンロードが厄介</a>なのも大きな弱点です。</p>



<p>　AutoMLがオープンソースでも出てきており、細かいチューニングが不要な用途ではnotebookの体裁すら不要な<mark>ノーコード</mark>の時代になってきています。本来はGUIでボタンぽちーで分析完了出来てしかるべきです。ちなみに<s>お高い</s><a href="https://www.datarobot.com/jp/" target="_blank" rel="noreferrer noopener">DataRobot</a>や無料でもそこそこ使える<a href="https://www.ibm.com/jp-ja/cloud/watson-studio/autoai" target="_blank" rel="noreferrer noopener">AutoAI with IBM Watson Studio</a>では<mark>既にGUIでAutoMLが可能です</mark>。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>伸びしろがある若い方なら思い切ってワークステーションを買ってみては？</h2>



<p>　ワークステーションに50万円払える方は、買ってしまってローカルのJupyter Notebookで分析した方がシアワセになれるかも知れません。もちろんLinuxの知識が多少はあることが前提ですが。</p>



<p>　私が大学時代に貯金をはたいて購入したDECのパソコンは50万円しましたから、伸びしろがある方なら無駄な投資にはならないと思います。</p>
		<div class="wpulike wpulike-default " ><div class="wp_ulike_general_class wp_ulike_is_not_liked"><button type="button"
					aria-label="いいねボタン"
					data-ulike-id="514"
					data-ulike-nonce="18a410e2a9"
					data-ulike-type="post"
					data-ulike-template="wpulike-default"
					data-ulike-display-likers=""
					data-ulike-likers-style="popover"
					class="wp_ulike_btn wp_ulike_put_image wp_post_btn_514"></button><span class="count-box wp_ulike_counter_up" data-ulike-counter-value="0"></span>			</div></div>
	<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=%2F2021%2F07%2F13%2Fgoogle-colaboratorycolab-pro%25e3%2581%25a7kaggle%25e3%2583%2587%25e3%2583%25bc%25e3%2582%25bf%25e3%2582%2592%25e3%2583%2580%25e3%2582%25a6%25e3%2583%25b3%25e3%2583%25ad%25e3%2583%25bc%25e3%2583%2589%25e3%2581%2599%25e3%2582%258b%25e6%2596%25b9%25e6%25b3%2595%25e5%2582%2599%25e5%25bf%2598%25e9%258c%25b2%2F&amp;linkname=Google%20Colaboratory%28Colab%20Pro%29%E3%81%A7kaggle%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95%5B%E5%82%99%E5%BF%98%E9%8C%B2%5D" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=%2F2021%2F07%2F13%2Fgoogle-colaboratorycolab-pro%25e3%2581%25a7kaggle%25e3%2583%2587%25e3%2583%25bc%25e3%2582%25bf%25e3%2582%2592%25e3%2583%2580%25e3%2582%25a6%25e3%2583%25b3%25e3%2583%25ad%25e3%2583%25bc%25e3%2583%2589%25e3%2581%2599%25e3%2582%258b%25e6%2596%25b9%25e6%25b3%2595%25e5%2582%2599%25e5%25bf%2598%25e9%258c%25b2%2F&amp;linkname=Google%20Colaboratory%28Colab%20Pro%29%E3%81%A7kaggle%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95%5B%E5%82%99%E5%BF%98%E9%8C%B2%5D" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=%2F2021%2F07%2F13%2Fgoogle-colaboratorycolab-pro%25e3%2581%25a7kaggle%25e3%2583%2587%25e3%2583%25bc%25e3%2582%25bf%25e3%2582%2592%25e3%2583%2580%25e3%2582%25a6%25e3%2583%25b3%25e3%2583%25ad%25e3%2583%25bc%25e3%2583%2589%25e3%2581%2599%25e3%2582%258b%25e6%2596%25b9%25e6%25b3%2595%25e5%2582%2599%25e5%25bf%2598%25e9%258c%25b2%2F&amp;linkname=Google%20Colaboratory%28Colab%20Pro%29%E3%81%A7kaggle%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95%5B%E5%82%99%E5%BF%98%E9%8C%B2%5D" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=%2F2021%2F07%2F13%2Fgoogle-colaboratorycolab-pro%25e3%2581%25a7kaggle%25e3%2583%2587%25e3%2583%25bc%25e3%2582%25bf%25e3%2582%2592%25e3%2583%2580%25e3%2582%25a6%25e3%2583%25b3%25e3%2583%25ad%25e3%2583%25bc%25e3%2583%2589%25e3%2581%2599%25e3%2582%258b%25e6%2596%25b9%25e6%25b3%2595%25e5%2582%2599%25e5%25bf%2598%25e9%258c%25b2%2F&amp;linkname=Google%20Colaboratory%28Colab%20Pro%29%E3%81%A7kaggle%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95%5B%E5%82%99%E5%BF%98%E9%8C%B2%5D" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=%2F2021%2F07%2F13%2Fgoogle-colaboratorycolab-pro%25e3%2581%25a7kaggle%25e3%2583%2587%25e3%2583%25bc%25e3%2582%25bf%25e3%2582%2592%25e3%2583%2580%25e3%2582%25a6%25e3%2583%25b3%25e3%2583%25ad%25e3%2583%25bc%25e3%2583%2589%25e3%2581%2599%25e3%2582%258b%25e6%2596%25b9%25e6%25b3%2595%25e5%2582%2599%25e5%25bf%2598%25e9%258c%25b2%2F&amp;linkname=Google%20Colaboratory%28Colab%20Pro%29%E3%81%A7kaggle%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95%5B%E5%82%99%E5%BF%98%E9%8C%B2%5D" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=%2F2021%2F07%2F13%2Fgoogle-colaboratorycolab-pro%25e3%2581%25a7kaggle%25e3%2583%2587%25e3%2583%25bc%25e3%2582%25bf%25e3%2582%2592%25e3%2583%2580%25e3%2582%25a6%25e3%2583%25b3%25e3%2583%25ad%25e3%2583%25bc%25e3%2583%2589%25e3%2581%2599%25e3%2582%258b%25e6%2596%25b9%25e6%25b3%2595%25e5%2582%2599%25e5%25bf%2598%25e9%258c%25b2%2F&#038;title=Google%20Colaboratory%28Colab%20Pro%29%E3%81%A7kaggle%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95%5B%E5%82%99%E5%BF%98%E9%8C%B2%5D" data-a2a-url="/2021/07/13/google-colaboratorycolab-pro%e3%81%a7kaggle%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92%e3%83%80%e3%82%a6%e3%83%b3%e3%83%ad%e3%83%bc%e3%83%89%e3%81%99%e3%82%8b%e6%96%b9%e6%b3%95%e5%82%99%e5%bf%98%e9%8c%b2/" data-a2a-title="Google Colaboratory(Colab Pro)でkaggleデータをダウンロードする方法[備忘録]"></a></p><p>The post <a href="/2021/07/13/google-colaboratorycolab-pro%e3%81%a7kaggle%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92%e3%83%80%e3%82%a6%e3%83%b3%e3%83%ad%e3%83%bc%e3%83%89%e3%81%99%e3%82%8b%e6%96%b9%e6%b3%95%e5%82%99%e5%bf%98%e9%8c%b2/">Google Colaboratory(Colab Pro)でkaggleデータをダウンロードする方法[備忘録]</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>/2021/07/13/google-colaboratorycolab-pro%e3%81%a7kaggle%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92%e3%83%80%e3%82%a6%e3%83%b3%e3%83%ad%e3%83%bc%e3%83%89%e3%81%99%e3%82%8b%e6%96%b9%e6%b3%95%e5%82%99%e5%bf%98%e9%8c%b2/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">514</post-id>	</item>
		<item>
		<title>Googleドライブの鬼仕様な『フォルダダウンロード』を回避する裏技(Piping Server)</title>
		<link>/2021/06/27/google%e3%83%89%e3%83%a9%e3%82%a4%e3%83%96%e3%81%ae%e9%ac%bc%e4%bb%95%e6%a7%98%e3%81%aa%e3%80%8e%e3%83%95%e3%82%a9%e3%83%ab%e3%83%80%e3%83%80%e3%82%a6%e3%83%b3%e3%83%ad%e3%83%bc%e3%83%89%e3%80%8f/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=google%25e3%2583%2589%25e3%2583%25a9%25e3%2582%25a4%25e3%2583%2596%25e3%2581%25ae%25e9%25ac%25bc%25e4%25bb%2595%25e6%25a7%2598%25e3%2581%25aa%25e3%2580%258e%25e3%2583%2595%25e3%2582%25a9%25e3%2583%25ab%25e3%2583%2580%25e3%2583%2580%25e3%2582%25a6%25e3%2583%25b3%25e3%2583%25ad%25e3%2583%25bc%25e3%2583%2589%25e3%2580%258f</link>
					<comments>/2021/06/27/google%e3%83%89%e3%83%a9%e3%82%a4%e3%83%96%e3%81%ae%e9%ac%bc%e4%bb%95%e6%a7%98%e3%81%aa%e3%80%8e%e3%83%95%e3%82%a9%e3%83%ab%e3%83%80%e3%83%80%e3%82%a6%e3%83%b3%e3%83%ad%e3%83%bc%e3%83%89%e3%80%8f/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Sun, 27 Jun 2021 01:44:54 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[データ分析]]></category>
		<category><![CDATA[BERT]]></category>
		<category><![CDATA[Colab Pro]]></category>
		<category><![CDATA[Google Colab]]></category>
		<category><![CDATA[Googleドライブ]]></category>
		<category><![CDATA[GPT-2]]></category>
		<category><![CDATA[NVIDIA V100]]></category>
		<category><![CDATA[Piping Server]]></category>
		<category><![CDATA[バックアップ]]></category>
		<category><![CDATA[ビッグデータ]]></category>
		<category><![CDATA[ファイル転送]]></category>
		<guid isPermaLink="false">/?p=491</guid>

					<description><![CDATA[<p>　最近、Google Colab Pro(月1,072円)を契約したので、『NVIDIA V100』という高性能GPUで機械学習ごっこ(GPT-2,BERT等)をして遊んでいます。 　ところが、機械学習は10GB単位で鬼&#8230; <a class="more-link" href="/2021/06/27/google%e3%83%89%e3%83%a9%e3%82%a4%e3%83%96%e3%81%ae%e9%ac%bc%e4%bb%95%e6%a7%98%e3%81%aa%e3%80%8e%e3%83%95%e3%82%a9%e3%83%ab%e3%83%80%e3%83%80%e3%82%a6%e3%83%b3%e3%83%ad%e3%83%bc%e3%83%89%e3%80%8f/">続きを読む <span class="screen-reader-text">Googleドライブの鬼仕様な『フォルダダウンロード』を回避する裏技(Piping Server)</span></a></p>
<p>The post <a href="/2021/06/27/google%e3%83%89%e3%83%a9%e3%82%a4%e3%83%96%e3%81%ae%e9%ac%bc%e4%bb%95%e6%a7%98%e3%81%aa%e3%80%8e%e3%83%95%e3%82%a9%e3%83%ab%e3%83%80%e3%83%80%e3%82%a6%e3%83%b3%e3%83%ad%e3%83%bc%e3%83%89%e3%80%8f/">Googleドライブの鬼仕様な『フォルダダウンロード』を回避する裏技(Piping Server)</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<p>　最近、<a href="https://colab.research.google.com/signup" target="_blank" rel="noreferrer noopener">Google Colab Pro</a>(月1,072円)を契約したので、『<a href="https://www.nvidia.com/ja-jp/data-center/v100/" target="_blank" rel="noreferrer noopener">NVIDIA V100</a>』という高性能GPUで機械学習ごっこ(GPT-2,BERT等)をして遊んでいます。</p>



<p>　ところが、機械学習は10GB単位で鬼のようにデータを吐き出すので、Googleドライブが100GB有料契約(月250円)でもすぐ満杯になってしまいます。</p>



<p>　学習したモデルを即消しすれば良いのですが、様々なデータを食わせてAIの挙動を比べるような楽しいことが出来なくなってしまいます。</p>



<p>　そこで考えるのが学習データのバックアップ＝Googleドライブからのダウンロードです。しかし、Googleドライブがまさかの変な挙動を示しましたので、注意喚起しつつ対処方法を記録しておきます。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>圧縮すらされず変なファイルが落ちてくる</h2>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="353" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/06/スクリーンショット-2021-06-26-19.38.53.png?resize=750%2C353&#038;ssl=1" alt="" class="wp-image-493" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/06/スクリーンショット-2021-06-26-19.38.53.png?resize=1024%2C482&amp;ssl=1 1024w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/06/スクリーンショット-2021-06-26-19.38.53.png?resize=300%2C141&amp;ssl=1 300w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/06/スクリーンショット-2021-06-26-19.38.53.png?resize=768%2C362&amp;ssl=1 768w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/06/スクリーンショット-2021-06-26-19.38.53.png?resize=1536%2C723&amp;ssl=1 1536w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/06/スクリーンショット-2021-06-26-19.38.53.png?resize=2048%2C964&amp;ssl=1 2048w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/06/スクリーンショット-2021-06-26-19.38.53.png?resize=1568%2C738&amp;ssl=1 1568w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/06/スクリーンショット-2021-06-26-19.38.53.png?w=2250&amp;ssl=1 2250w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　Googleではフォルダをダウンロードしようとすると、一つあるいは複数のzipファイルに圧縮して送ってきます。ところが、2.5GBあるような大きなファイルは、なぜか圧縮せずzipとは別にボコボコ送りつけてくるのです<img src="https://s.w.org/images/core/emoji/13.0.1/72x72/1f62d.png" alt="😭" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="466" src="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/06/スクリーンショット-2021-06-26-19.37.07.png?resize=750%2C466&#038;ssl=1" alt="" class="wp-image-494" srcset="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/06/スクリーンショット-2021-06-26-19.37.07.png?resize=1024%2C636&amp;ssl=1 1024w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/06/スクリーンショット-2021-06-26-19.37.07.png?resize=300%2C186&amp;ssl=1 300w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/06/スクリーンショット-2021-06-26-19.37.07.png?resize=768%2C477&amp;ssl=1 768w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/06/スクリーンショット-2021-06-26-19.37.07.png?resize=1536%2C954&amp;ssl=1 1536w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/06/スクリーンショット-2021-06-26-19.37.07.png?resize=1568%2C974&amp;ssl=1 1568w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/06/スクリーンショット-2021-06-26-19.37.07.png?w=1764&amp;ssl=1 1764w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /><figcaption>Googleドライブは、圧縮しきれなかったファイルだけ非圧縮で送ってくる。最悪だ</figcaption></figure>



<p>　上図のケースでは、各チェックポイントのフォルダごとに複数個作成されるoptimizer.ptというファイルが非圧縮のままボコボコ落ちて来た例です。ファイル名が重複するので『optimizer-002.pt』『optimizer-005.pt』など謎なファイル名になっています。さすがにこれは私も</p>



<p class="has-text-align-center has-white-background-color has-text-color has-background has-extra-large-font-size" style="color:#fc0000"><strong>「どのoptimizer.ptだよ！！」</strong></p>



<p>と<s>キレ気味</s>困惑してしまいます。課金してもデレないGoogleドライブの<s>糞</s>仕様を何とかして回避しなければなりません。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>こうなったら自力で圧縮だ</h2>



<p>　Googleドライブの圧縮機能がおかしいなら、自力で圧縮するまでです。Colab ProにはUbuntu Linuxのシェルがついてくるので、notebookにシェルコマンドを記述しなくても普通にシェル芸が使えます。そこで、まずはtar.gzでフォルダごと圧縮します。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="505" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/06/tar.jpg?resize=750%2C505&#038;ssl=1" alt="" class="wp-image-497" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/06/tar.jpg?resize=1024%2C690&amp;ssl=1 1024w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/06/tar.jpg?resize=300%2C202&amp;ssl=1 300w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/06/tar.jpg?resize=768%2C517&amp;ssl=1 768w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/06/tar.jpg?w=1030&amp;ssl=1 1030w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>シェル間ファイル転送の裏技『Piping Server』</h2>



<p> 　24時間で落ちるシンデレラ型インスタンス()であるColab Proで、ファイル転送だけのためにサーバーを立てたりトンネリングの設定をするのは面倒くさい。そこで思いついた対策がRyo Otaさんの『<a href="https://qiita.com/nwtgck/items/78309fc529da7776cba0" target="_blank" rel="noreferrer noopener">Piping Server</a>』です。</p>



<p>　Piping Serverは、遠隔地のシェルのWebブラウザ(curl等)を仲介してWebブラウザ同士で直接テキストやファイルを送受信するものです。追加アプリのインストールが全く要らない、すごい……。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="251" src="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/06/send.jpg?resize=750%2C251&#038;ssl=1" alt="" class="wp-image-504" srcset="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/06/send.jpg?resize=1024%2C343&amp;ssl=1 1024w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/06/send.jpg?resize=300%2C101&amp;ssl=1 300w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/06/send.jpg?resize=768%2C257&amp;ssl=1 768w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/06/send.jpg?w=1047&amp;ssl=1 1047w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /><figcaption>【送信側】　『Piping Server』は、任意のWebブラウザ間で直接ファイルを送受信できるサービス</figcaption></figure>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="563" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/06/piping-server.png?resize=750%2C563&#038;ssl=1" alt="" class="wp-image-498" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/06/piping-server.png?w=1024&amp;ssl=1 1024w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/06/piping-server.png?resize=300%2C225&amp;ssl=1 300w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/06/piping-server.png?resize=768%2C576&amp;ssl=1 768w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /><figcaption>【受信側】　『Piping Server』は、任意のWebブラウザ間で直接ファイルを送受信できるサービス</figcaption></figure>



<p>あとは、回線品質の安定を祈るのみです……(現時点でまだダウンロード中です<img src="https://s.w.org/images/core/emoji/13.0.1/72x72/1f4a6.png" alt="💦" class="wp-smiley" style="height: 1em; max-height: 1em;" />)</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>ダウンロード中にColabのセッション切れを防ぐ</h2>



<p>　　2時間ほどダウンロードしたところで、切断されてしまいました。シェルコマンドが動いていてもColabセンセイは容赦なく未使用とみなしてセッションを切ってしまうようです。</p>



<p>　これはColabでは有名な問題で、既に他の方が解決策を見つけられています：</p>



<p class="has-text-align-center"><strong><a href="https://flat-kids.net/2020/07/28/google-colab-%E3%82%BB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3%E5%88%87%E3%82%8C%E3%82%92%E9%98%B2%E6%AD%A2%E3%81%99%E3%82%8B/" target="_blank" rel="noreferrer noopener">Google Colab セッション切れを防止する</a></strong></p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>【追記】Colab Serverとの通信速度が上がらない……</h2>



<p>　その後、梅雨の合間を縫って図書館に行き、Piping ServerでColabからローカルへのダウンロードを試みました。しかし、通信速度が低く、1GB/時くらいしか出ません。図書館のネットは1時間に一回くらい切断される仕様なので、もはやファイルを分割するしかありません。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>/content/drive/MyDrive/work# ls -al
total 8449838
drwx------ 2 root root       4096 Jun 19 04:41 output
drwx------ 2 root root       4096 Jun 19 04:32 output-3epochs
-rw------- 1 root root 8631501037 Jun 26 23:59 output-3epochs.tar.gz
drwx------ 2 root root       4096 Jun 18 15:37 runs
-rw------- 1 root root   21116052 Jun 18 15:34 train.txt
drwx------ 2 root root       4096 Jun 18 15:01 transformers
/content/drive/MyDrive/work# split -b 1000m -a 2 output-3epochs.tar.gz output-3epochs_p_
/content/drive/MyDrive/work# mkdir split
/content/drive/MyDrive/work# mv output-3epochs_p* split/
/content/drive/MyDrive/work# cd split
/content/drive/MyDrive/work/split# ls -al
total 8429201
-rw------- 1 root root 1048576000 Jun 29 09:08 output-3epochs_p_aa
-rw------- 1 root root 1048576000 Jun 29 09:08 output-3epochs_p_ab
-rw------- 1 root root 1048576000 Jun 29 09:08 output-3epochs_p_ac
-rw------- 1 root root 1048576000 Jun 29 09:09 output-3epochs_p_ad
-rw------- 1 root root 1048576000 Jun 29 09:09 output-3epochs_p_ae
-rw------- 1 root root 1048576000 Jun 29 09:09 output-3epochs_p_af
-rw------- 1 root root 1048576000 Jun 29 09:10 output-3epochs_p_ag
-rw------- 1 root root 1048576000 Jun 29 09:10 output-3epochs_p_ah
-rw------- 1 root root  242893037 Jun 29 09:10 output-3epochs_p_ai
/content/drive/MyDrive/work/split# cat output-3epochs_p_aa | curl -T - https://ppng.io/epochs
[ERROR] Connection on &#39;/epochs&#39; has been established already.
/content/drive/MyDrive/work/split# cat output-3epochs_p_aa | curl -T - https://ppng.io/epochs2
[INFO] Waiting for 1 receiver(s)...
[INFO] A receiver was connected.
[INFO] Start sending to 1 receiver(s)!</code></pre></div>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>% curl https://ppng.io/epochs2 &gt; output-3epochs_p_aa.tar.gz
% curl https://ppng.io/epochs2 &gt; output-3epochs_p_ab.tar.gz
% curl https://ppng.io/epochs2 &gt; output-3epochs_p_ac.tar.gz
% curl https://ppng.io/epochs2 &gt; output-3epochs_p_ad.tar.gz
% curl https://ppng.io/epochs2 &gt; output-3epochs_p_ae.tar.gz
% curl https://ppng.io/epochs2 &gt; output-3epochs_p_af.tar.gz
% curl https://ppng.io/epochs2 &gt; output-3epochs_p_ag.tar.gz
% curl https://ppng.io/epochs2 &gt; output-3epochs_p_ah.tar.gz
% curl https://ppng.io/epochs2 &gt; output-3epochs_p_ai.tar.gz
% cat $ output-3epochs_p_* &gt; output-3epochs.tar.gz
% tar -zxvf output-3epochs.tar.gz</code></pre></div>



<p>　ただのデータバックアップなのに、気が遠くなる作業です。お金持ちの方は観念してGoogleドライブに多額の納金をするのが現実的かと思います……。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<p>　Colabはお得で面白いサービスですが、なかなか癖も強いので付き合うのは大変そうです……。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>【追記】分割もダメでした……</h2>



<p>　図書館で数日に分けて分割ダウンロードをして、ローカルでtar.gzの解凍を試みたところ</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-plain"><code>(base) masaru@MacBook-Pro-15 output-3epochs % tar -xvf output-3epochs_p_aa.tar.gz 
x output-3epochs/
x output-3epochs/checkpoint-5000/
x output-3epochs/checkpoint-5000/config.json
x output-3epochs/checkpoint-5000/pytorch_model.bin: truncated gzip input
tar: Error exit delayed from previous errors.</code></pre></div>



<p>結局エラーが出て解凍出来ませんでした……。回線品質が劣悪でtarやPiping Serverにエラー補正がないため、ダウンロード途中でデータが壊れてしまったものと思われます。</p>



<p>　そんなわけで、「高速回線がないと使いこなせない」というのが、現時点での私のGoogle Colab Proへの見解です。</p>
		<div class="wpulike wpulike-default " ><div class="wp_ulike_general_class wp_ulike_is_not_liked"><button type="button"
					aria-label="いいねボタン"
					data-ulike-id="491"
					data-ulike-nonce="fb88cbeedd"
					data-ulike-type="post"
					data-ulike-template="wpulike-default"
					data-ulike-display-likers=""
					data-ulike-likers-style="popover"
					class="wp_ulike_btn wp_ulike_put_image wp_post_btn_491"></button><span class="count-box wp_ulike_counter_up" data-ulike-counter-value="0"></span>			</div></div>
	<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=%2F2021%2F06%2F27%2Fgoogle%25e3%2583%2589%25e3%2583%25a9%25e3%2582%25a4%25e3%2583%2596%25e3%2581%25ae%25e9%25ac%25bc%25e4%25bb%2595%25e6%25a7%2598%25e3%2581%25aa%25e3%2580%258e%25e3%2583%2595%25e3%2582%25a9%25e3%2583%25ab%25e3%2583%2580%25e3%2583%2580%25e3%2582%25a6%25e3%2583%25b3%25e3%2583%25ad%25e3%2583%25bc%25e3%2583%2589%25e3%2580%258f%2F&amp;linkname=Google%E3%83%89%E3%83%A9%E3%82%A4%E3%83%96%E3%81%AE%E9%AC%BC%E4%BB%95%E6%A7%98%E3%81%AA%E3%80%8E%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%80%8F%E3%82%92%E5%9B%9E%E9%81%BF%E3%81%99%E3%82%8B%E8%A3%8F%E6%8A%80%28Piping%20Server%29" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=%2F2021%2F06%2F27%2Fgoogle%25e3%2583%2589%25e3%2583%25a9%25e3%2582%25a4%25e3%2583%2596%25e3%2581%25ae%25e9%25ac%25bc%25e4%25bb%2595%25e6%25a7%2598%25e3%2581%25aa%25e3%2580%258e%25e3%2583%2595%25e3%2582%25a9%25e3%2583%25ab%25e3%2583%2580%25e3%2583%2580%25e3%2582%25a6%25e3%2583%25b3%25e3%2583%25ad%25e3%2583%25bc%25e3%2583%2589%25e3%2580%258f%2F&amp;linkname=Google%E3%83%89%E3%83%A9%E3%82%A4%E3%83%96%E3%81%AE%E9%AC%BC%E4%BB%95%E6%A7%98%E3%81%AA%E3%80%8E%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%80%8F%E3%82%92%E5%9B%9E%E9%81%BF%E3%81%99%E3%82%8B%E8%A3%8F%E6%8A%80%28Piping%20Server%29" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=%2F2021%2F06%2F27%2Fgoogle%25e3%2583%2589%25e3%2583%25a9%25e3%2582%25a4%25e3%2583%2596%25e3%2581%25ae%25e9%25ac%25bc%25e4%25bb%2595%25e6%25a7%2598%25e3%2581%25aa%25e3%2580%258e%25e3%2583%2595%25e3%2582%25a9%25e3%2583%25ab%25e3%2583%2580%25e3%2583%2580%25e3%2582%25a6%25e3%2583%25b3%25e3%2583%25ad%25e3%2583%25bc%25e3%2583%2589%25e3%2580%258f%2F&amp;linkname=Google%E3%83%89%E3%83%A9%E3%82%A4%E3%83%96%E3%81%AE%E9%AC%BC%E4%BB%95%E6%A7%98%E3%81%AA%E3%80%8E%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%80%8F%E3%82%92%E5%9B%9E%E9%81%BF%E3%81%99%E3%82%8B%E8%A3%8F%E6%8A%80%28Piping%20Server%29" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=%2F2021%2F06%2F27%2Fgoogle%25e3%2583%2589%25e3%2583%25a9%25e3%2582%25a4%25e3%2583%2596%25e3%2581%25ae%25e9%25ac%25bc%25e4%25bb%2595%25e6%25a7%2598%25e3%2581%25aa%25e3%2580%258e%25e3%2583%2595%25e3%2582%25a9%25e3%2583%25ab%25e3%2583%2580%25e3%2583%2580%25e3%2582%25a6%25e3%2583%25b3%25e3%2583%25ad%25e3%2583%25bc%25e3%2583%2589%25e3%2580%258f%2F&amp;linkname=Google%E3%83%89%E3%83%A9%E3%82%A4%E3%83%96%E3%81%AE%E9%AC%BC%E4%BB%95%E6%A7%98%E3%81%AA%E3%80%8E%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%80%8F%E3%82%92%E5%9B%9E%E9%81%BF%E3%81%99%E3%82%8B%E8%A3%8F%E6%8A%80%28Piping%20Server%29" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=%2F2021%2F06%2F27%2Fgoogle%25e3%2583%2589%25e3%2583%25a9%25e3%2582%25a4%25e3%2583%2596%25e3%2581%25ae%25e9%25ac%25bc%25e4%25bb%2595%25e6%25a7%2598%25e3%2581%25aa%25e3%2580%258e%25e3%2583%2595%25e3%2582%25a9%25e3%2583%25ab%25e3%2583%2580%25e3%2583%2580%25e3%2582%25a6%25e3%2583%25b3%25e3%2583%25ad%25e3%2583%25bc%25e3%2583%2589%25e3%2580%258f%2F&amp;linkname=Google%E3%83%89%E3%83%A9%E3%82%A4%E3%83%96%E3%81%AE%E9%AC%BC%E4%BB%95%E6%A7%98%E3%81%AA%E3%80%8E%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%80%8F%E3%82%92%E5%9B%9E%E9%81%BF%E3%81%99%E3%82%8B%E8%A3%8F%E6%8A%80%28Piping%20Server%29" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=%2F2021%2F06%2F27%2Fgoogle%25e3%2583%2589%25e3%2583%25a9%25e3%2582%25a4%25e3%2583%2596%25e3%2581%25ae%25e9%25ac%25bc%25e4%25bb%2595%25e6%25a7%2598%25e3%2581%25aa%25e3%2580%258e%25e3%2583%2595%25e3%2582%25a9%25e3%2583%25ab%25e3%2583%2580%25e3%2583%2580%25e3%2582%25a6%25e3%2583%25b3%25e3%2583%25ad%25e3%2583%25bc%25e3%2583%2589%25e3%2580%258f%2F&#038;title=Google%E3%83%89%E3%83%A9%E3%82%A4%E3%83%96%E3%81%AE%E9%AC%BC%E4%BB%95%E6%A7%98%E3%81%AA%E3%80%8E%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%80%8F%E3%82%92%E5%9B%9E%E9%81%BF%E3%81%99%E3%82%8B%E8%A3%8F%E6%8A%80%28Piping%20Server%29" data-a2a-url="/2021/06/27/google%e3%83%89%e3%83%a9%e3%82%a4%e3%83%96%e3%81%ae%e9%ac%bc%e4%bb%95%e6%a7%98%e3%81%aa%e3%80%8e%e3%83%95%e3%82%a9%e3%83%ab%e3%83%80%e3%83%80%e3%82%a6%e3%83%b3%e3%83%ad%e3%83%bc%e3%83%89%e3%80%8f/" data-a2a-title="Googleドライブの鬼仕様な『フォルダダウンロード』を回避する裏技(Piping Server)"></a></p><p>The post <a href="/2021/06/27/google%e3%83%89%e3%83%a9%e3%82%a4%e3%83%96%e3%81%ae%e9%ac%bc%e4%bb%95%e6%a7%98%e3%81%aa%e3%80%8e%e3%83%95%e3%82%a9%e3%83%ab%e3%83%80%e3%83%80%e3%82%a6%e3%83%b3%e3%83%ad%e3%83%bc%e3%83%89%e3%80%8f/">Googleドライブの鬼仕様な『フォルダダウンロード』を回避する裏技(Piping Server)</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>/2021/06/27/google%e3%83%89%e3%83%a9%e3%82%a4%e3%83%96%e3%81%ae%e9%ac%bc%e4%bb%95%e6%a7%98%e3%81%aa%e3%80%8e%e3%83%95%e3%82%a9%e3%83%ab%e3%83%80%e3%83%80%e3%82%a6%e3%83%b3%e3%83%ad%e3%83%bc%e3%83%89%e3%80%8f/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">491</post-id>	</item>
		<item>
		<title>40代後半のおじさんが今さら基本情報技術者試験(FE)を受けた理由</title>
		<link>/2021/06/26/40%e4%bb%a3%e5%be%8c%e5%8d%8a%e3%81%ae%e3%81%8a%e3%81%98%e3%81%95%e3%82%93%e3%81%8c%e4%bb%8a%e3%81%95%e3%82%89%e5%9f%ba%e6%9c%ac%e6%83%85%e5%a0%b1%e6%8a%80%e8%a1%93%e8%80%85%e8%a9%a6%e9%a8%93fe/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=40%25e4%25bb%25a3%25e5%25be%258c%25e5%258d%258a%25e3%2581%25ae%25e3%2581%258a%25e3%2581%2598%25e3%2581%2595%25e3%2582%2593%25e3%2581%258c%25e4%25bb%258a%25e3%2581%2595%25e3%2582%2589%25e5%259f%25ba%25e6%259c%25ac%25e6%2583%2585%25e5%25a0%25b1%25e6%258a%2580%25e8%25a1%2593%25e8%2580%2585%25e8%25a9%25a6%25e9%25a8%2593fe</link>
					<comments>/2021/06/26/40%e4%bb%a3%e5%be%8c%e5%8d%8a%e3%81%ae%e3%81%8a%e3%81%98%e3%81%95%e3%82%93%e3%81%8c%e4%bb%8a%e3%81%95%e3%82%89%e5%9f%ba%e6%9c%ac%e6%83%85%e5%a0%b1%e6%8a%80%e8%a1%93%e8%80%85%e8%a9%a6%e9%a8%93fe/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Sat, 26 Jun 2021 11:53:47 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[Webマーケティング]]></category>
		<category><![CDATA[Work]]></category>
		<category><![CDATA[Python]]></category>
		<category><![CDATA[Web担当者]]></category>
		<category><![CDATA[フロントエンド]]></category>
		<category><![CDATA[基本情報技術者試験]]></category>
		<guid isPermaLink="false">/?p=476</guid>

					<description><![CDATA[<p>Web担10年、未だ資格無し 　私は『Web担当者』の仕事をのべ10年ほどやってきました。出版社で言えば『編集者』のようなもので、地味な裏方で世間にはほとんど知られていませんが、実在する仕事です。 　Web担当者は商品企&#8230; <a class="more-link" href="/2021/06/26/40%e4%bb%a3%e5%be%8c%e5%8d%8a%e3%81%ae%e3%81%8a%e3%81%98%e3%81%95%e3%82%93%e3%81%8c%e4%bb%8a%e3%81%95%e3%82%89%e5%9f%ba%e6%9c%ac%e6%83%85%e5%a0%b1%e6%8a%80%e8%a1%93%e8%80%85%e8%a9%a6%e9%a8%93fe/">続きを読む <span class="screen-reader-text">40代後半のおじさんが今さら基本情報技術者試験(FE)を受けた理由</span></a></p>
<p>The post <a href="/2021/06/26/40%e4%bb%a3%e5%be%8c%e5%8d%8a%e3%81%ae%e3%81%8a%e3%81%98%e3%81%95%e3%82%93%e3%81%8c%e4%bb%8a%e3%81%95%e3%82%89%e5%9f%ba%e6%9c%ac%e6%83%85%e5%a0%b1%e6%8a%80%e8%a1%93%e8%80%85%e8%a9%a6%e9%a8%93fe/">40代後半のおじさんが今さら基本情報技術者試験(FE)を受けた理由</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>Web担10年、未だ資格無し</h2>



<p>　私は『Web担当者』の仕事をのべ10年ほどやってきました。出版社で言えば『編集者』のようなもので、地味な裏方で世間にはほとんど知られていませんが、実在する仕事です。</p>



<p>　Web担当者は商品企画、情シス、制作会社など様々な社内外の部門と連携してWebサイトを企画・運営します。分かりやすく言えば「Web予算を取る部署」でもあります。</p>



<p>　Web担当者は基本的に<mark>自分で作業してはいけません</mark>。仮に文章や画像を自分で作れても、品質を保つため社外ライターやデザイン会社に敢えて任せます。HTMLやCSSなどの知識が多少あっても、Web標準やデザインガイドラインなどにキチンと準拠するため基本的には自分でコードを書きません。趣味でWebサーバーやデータベースをいじっていても、システムエンジニアではないので開発から運用まで情シスやSIerに任せます。</p>



<p>　結果、Web担当者はWeb関連のスキルや動向を広く浅く把握はするものの、自分のスキルを証明するような資格を業務の一環として取得することは稀です。自力で資格を取っても、それで給料が上がることもありません。職場ではいちおう「<mark>パソコンに強い人</mark>」として認められてはいますが、会社を辞めた途端にスキルを証明する手段が職務経歴書以外なくなってしまいます。</p>



<p>　「どんな仕事も同じでは？」と思う方もいらっしゃると思いますが、違います。私は新卒で雑誌社に入社し、編集者として働いていた時期もあります。編集者なら<mark>自身が携わった書籍が実績として残ります</mark>が、Webサイトは定期的にリニューアルされて消えてしまうため<mark>実績が形として残りません</mark>。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>『加齢』という第二の壁</h2>



<p>　そうは言っても「面接で実績をアピールすれば何とかなる」とお考えかも知れません。しかし、Web業界でこれが通用するのは若いうちだけです。</p>



<p>　Web分野は凄い勢いで技術が変わっていきます。ここ数年でもモバイルファースト時代の常識『レスポンシブ対応』に始まり、サーバー側で動くJavaScript『node.js』とこれに続く『Vue.js』『React』『Angular』などの各種Webフレームワーク、1ページにコンテンツを詰め込む『SPA(Single Page Application)』、Webサイトをアプリ化する『PWA(Progressive Web Apps)』など<mark>気が遠くなるような新技術の嵐</mark>です。書いている私も正直よく分からない<mark>『フロントエンド』というカオス</mark>がここにあります。</p>



<p>　1990年代からWebに携わっていても、意識的に知識を更新していないと「HTML5？何それ？」という状況になってしまいます。Webサイトを重くする元凶ではあるけれどもWebの華だったFlashも姿を消しました。20年前のホームページも全く表示されないことは無いかも知れませんが、<mark>この20年でWeb技術はほぼ別物になった</mark>と断言出来ます。</p>



<p>　「ホームページ？誰でも作れるだろ？昔はみんな自分で作ってたじゃん」こんなおじさんはもうWebを語る資格がありません。Webが進化する中で、Web担当者が直接関わる技術はCMS(Contents Management System)をポチポチするだけになりがちです。個人でWebサイトを持つ人は減り、ブログを書くことすら面倒になり、<mark>自分では何もしないおじさん</mark>になり、SNSでくだを巻くだけに、なっていないでしょうか。</p>



<p>　この20年間の加齢により、私は「何も出来ないおじさん」になってしまっていないでしょうか。何らかの理由で会社を辞めた元Web担おじさんに、次の仕事はあるでしょうか。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>「今どきのWeb技術を何も知らないおじさん」と思われないために出来ること</h2>



<p>　加齢とモチベーションの低下で新技術の吸収を怠った元Web担おじさんは、今どきのWebサイト運営には何の役にも立ちません。昔から、社内Web担当者は専門家とは限らず「<mark>人事異動で何となくWeb担当になった</mark>」という腰掛けの人も少なくありません。全てを丸投げにすれば、何も知らないままでも任期を乗り切ってこれた人もいるでしょう(色々とまずいのですが)。</p>



<p>　私は仕事を辞めたことで、自分が「今どきのWeb技術を何も知らないおじさん」ではないことを40代後半にして証明しなければならなくなりました。そもそも<mark>現代のWebサービスは社内外の様々な情報システムと連携して動くのが当たり前</mark>なので、フロントエンドだけ知っていれば良いというものではありません。</p>



<p>　フロントエンドの怒涛の変化にすら正直ついて行けていないのですが、少なくとも「システムなんも分からん」おじさんでは無いことを証明するために思いついた窮余の策が『<mark>基本情報技術者試験</mark>』でした。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>基本情報技術者試験は、皆が思っているほど『時代遅れ』ではない</h2>



<p>　基本情報技術者試験(基本情報、FE)の起源は、2000年度に廃止された『第二種情報処理技術者試験(情報二種)に遡ります。そのため、昔をよく知るおじさんほど「<mark>そんな化石みたいな資格を今さら取ってどうするの？</mark>」というイメージを抱きがちです。「<mark>学生が取る資格</mark>」というイメージも強く、実際試験会場で見る他の受験者も20代前後が多いように感じます。</p>



<p>　しかし、基本情報は世間のイメージほど化石ではありません。過去問や試験対策本を読むと、特に情報セキュリティ分野ではSaaSの社内利用、クラウドへの移行、テレワークといった<mark>旬のテーマをそれなりに盛り込んでいる</mark>ことがわかります。</p>



<p>　学生が丸暗記で取った基本情報にはあまり価値が無いかも知れませんが「<mark>実務経験に裏打ちされた基本情報(や応用情報など各種上位資格)なら無駄な知識ではない</mark>」と現場でかつて働いていた経験から断言出来ます。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>で、結局どうだったの？</h2>



<p>　実際に基本情報を受けてみれば分かりますが、この資格がカバーする分野は非常に幅広いものです。正直、世間の「学生が片手間に取るもんだろ？」という評価と比べると「おじさんにはボリューム的になかなかしんどい……」というのが元Web担おじさんの本音です。</p>



<p>　午前試験・午後試験それぞれ60％以上正答出来れば合格なので、「何とかなりそう」という状況ではあります。合格発表がまだ先なので結果は後日追記しますが、もし基本情報が全く役に立たない資格だとお考えなら、<mark>だまされたと思って一度受けてみる</mark>ことをお勧めします。</p>



<p>　特に、機械学習やデータ分析などでPythonを覚える機会があった方は、話のネタにPythonで午後試験を受けてみてはいかがでしょうか。長いコードが出てはきますが、選択式で「コードが書けず苦しむ」といった要素はないので安心してください<img src="https://s.w.org/images/core/emoji/13.0.1/72x72/1f40d.png" alt="🐍" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>とは言え、『Not enough』</h2>



<p>　基本情報は決して化石資格ではありませんが、良くも悪くも国家資格なのでベンダー固有のスキルやナレッジは試験範囲に含まれません。また、私のような本業マーケッターな人間は技術力だけを証明すれば良いわけではありません(技術力だけならポンコツエンジニアもどきです)。</p>



<p>　そんなわけで、基本情報に加えて下記のような資格を取ろうかと思案中です。</p>



<ul><li>Webマーケティング関連の資格(Google アナリティクス個人認定資格、GAIQ)</li><li>クラウドの資格(AWS 認定ソリューションアーキテクト、AWS SAA)</li><li>データベースの資格(OSS-DB Silver Ver.2.0、PostgreSQL)</li><li>Web制作（あまり著名な資格が無いので、取るかは未定）</li></ul>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>最後に：この歳からエンジニアになりたいわけではありません</h2>



<p>　ここまでお読み頂いた方には今さらですが、「エンジニア系の資格を取る」ことと「エンジニアになる」ことは全くの別物です。40代からエンジニアの仕事を始めるなど有り得ません。あくまでも「システムに明るいWeb担当者(マーケッター)」を目指しているだけです。</p>



<p>　どのような事業でも、Webサイトやアプリなどを用いたデジタルマーケティングは当たり前のものになっています。エンジニアにはなれないことが分かっていても、技術的な基礎知識を薄く広くでも網羅的、体系的に持っていることがビジネスマン全般に求められている(「コミュ力が全て」ではない)と信じています。</p>
		<div class="wpulike wpulike-default " ><div class="wp_ulike_general_class wp_ulike_is_not_liked"><button type="button"
					aria-label="いいねボタン"
					data-ulike-id="476"
					data-ulike-nonce="2b86cc6e80"
					data-ulike-type="post"
					data-ulike-template="wpulike-default"
					data-ulike-display-likers=""
					data-ulike-likers-style="popover"
					class="wp_ulike_btn wp_ulike_put_image wp_post_btn_476"></button><span class="count-box wp_ulike_counter_up" data-ulike-counter-value="0"></span>			</div></div>
	<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=%2F2021%2F06%2F26%2F40%25e4%25bb%25a3%25e5%25be%258c%25e5%258d%258a%25e3%2581%25ae%25e3%2581%258a%25e3%2581%2598%25e3%2581%2595%25e3%2582%2593%25e3%2581%258c%25e4%25bb%258a%25e3%2581%2595%25e3%2582%2589%25e5%259f%25ba%25e6%259c%25ac%25e6%2583%2585%25e5%25a0%25b1%25e6%258a%2580%25e8%25a1%2593%25e8%2580%2585%25e8%25a9%25a6%25e9%25a8%2593fe%2F&amp;linkname=40%E4%BB%A3%E5%BE%8C%E5%8D%8A%E3%81%AE%E3%81%8A%E3%81%98%E3%81%95%E3%82%93%E3%81%8C%E4%BB%8A%E3%81%95%E3%82%89%E5%9F%BA%E6%9C%AC%E6%83%85%E5%A0%B1%E6%8A%80%E8%A1%93%E8%80%85%E8%A9%A6%E9%A8%93%28FE%29%E3%82%92%E5%8F%97%E3%81%91%E3%81%9F%E7%90%86%E7%94%B1" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=%2F2021%2F06%2F26%2F40%25e4%25bb%25a3%25e5%25be%258c%25e5%258d%258a%25e3%2581%25ae%25e3%2581%258a%25e3%2581%2598%25e3%2581%2595%25e3%2582%2593%25e3%2581%258c%25e4%25bb%258a%25e3%2581%2595%25e3%2582%2589%25e5%259f%25ba%25e6%259c%25ac%25e6%2583%2585%25e5%25a0%25b1%25e6%258a%2580%25e8%25a1%2593%25e8%2580%2585%25e8%25a9%25a6%25e9%25a8%2593fe%2F&amp;linkname=40%E4%BB%A3%E5%BE%8C%E5%8D%8A%E3%81%AE%E3%81%8A%E3%81%98%E3%81%95%E3%82%93%E3%81%8C%E4%BB%8A%E3%81%95%E3%82%89%E5%9F%BA%E6%9C%AC%E6%83%85%E5%A0%B1%E6%8A%80%E8%A1%93%E8%80%85%E8%A9%A6%E9%A8%93%28FE%29%E3%82%92%E5%8F%97%E3%81%91%E3%81%9F%E7%90%86%E7%94%B1" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=%2F2021%2F06%2F26%2F40%25e4%25bb%25a3%25e5%25be%258c%25e5%258d%258a%25e3%2581%25ae%25e3%2581%258a%25e3%2581%2598%25e3%2581%2595%25e3%2582%2593%25e3%2581%258c%25e4%25bb%258a%25e3%2581%2595%25e3%2582%2589%25e5%259f%25ba%25e6%259c%25ac%25e6%2583%2585%25e5%25a0%25b1%25e6%258a%2580%25e8%25a1%2593%25e8%2580%2585%25e8%25a9%25a6%25e9%25a8%2593fe%2F&amp;linkname=40%E4%BB%A3%E5%BE%8C%E5%8D%8A%E3%81%AE%E3%81%8A%E3%81%98%E3%81%95%E3%82%93%E3%81%8C%E4%BB%8A%E3%81%95%E3%82%89%E5%9F%BA%E6%9C%AC%E6%83%85%E5%A0%B1%E6%8A%80%E8%A1%93%E8%80%85%E8%A9%A6%E9%A8%93%28FE%29%E3%82%92%E5%8F%97%E3%81%91%E3%81%9F%E7%90%86%E7%94%B1" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=%2F2021%2F06%2F26%2F40%25e4%25bb%25a3%25e5%25be%258c%25e5%258d%258a%25e3%2581%25ae%25e3%2581%258a%25e3%2581%2598%25e3%2581%2595%25e3%2582%2593%25e3%2581%258c%25e4%25bb%258a%25e3%2581%2595%25e3%2582%2589%25e5%259f%25ba%25e6%259c%25ac%25e6%2583%2585%25e5%25a0%25b1%25e6%258a%2580%25e8%25a1%2593%25e8%2580%2585%25e8%25a9%25a6%25e9%25a8%2593fe%2F&amp;linkname=40%E4%BB%A3%E5%BE%8C%E5%8D%8A%E3%81%AE%E3%81%8A%E3%81%98%E3%81%95%E3%82%93%E3%81%8C%E4%BB%8A%E3%81%95%E3%82%89%E5%9F%BA%E6%9C%AC%E6%83%85%E5%A0%B1%E6%8A%80%E8%A1%93%E8%80%85%E8%A9%A6%E9%A8%93%28FE%29%E3%82%92%E5%8F%97%E3%81%91%E3%81%9F%E7%90%86%E7%94%B1" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=%2F2021%2F06%2F26%2F40%25e4%25bb%25a3%25e5%25be%258c%25e5%258d%258a%25e3%2581%25ae%25e3%2581%258a%25e3%2581%2598%25e3%2581%2595%25e3%2582%2593%25e3%2581%258c%25e4%25bb%258a%25e3%2581%2595%25e3%2582%2589%25e5%259f%25ba%25e6%259c%25ac%25e6%2583%2585%25e5%25a0%25b1%25e6%258a%2580%25e8%25a1%2593%25e8%2580%2585%25e8%25a9%25a6%25e9%25a8%2593fe%2F&amp;linkname=40%E4%BB%A3%E5%BE%8C%E5%8D%8A%E3%81%AE%E3%81%8A%E3%81%98%E3%81%95%E3%82%93%E3%81%8C%E4%BB%8A%E3%81%95%E3%82%89%E5%9F%BA%E6%9C%AC%E6%83%85%E5%A0%B1%E6%8A%80%E8%A1%93%E8%80%85%E8%A9%A6%E9%A8%93%28FE%29%E3%82%92%E5%8F%97%E3%81%91%E3%81%9F%E7%90%86%E7%94%B1" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=%2F2021%2F06%2F26%2F40%25e4%25bb%25a3%25e5%25be%258c%25e5%258d%258a%25e3%2581%25ae%25e3%2581%258a%25e3%2581%2598%25e3%2581%2595%25e3%2582%2593%25e3%2581%258c%25e4%25bb%258a%25e3%2581%2595%25e3%2582%2589%25e5%259f%25ba%25e6%259c%25ac%25e6%2583%2585%25e5%25a0%25b1%25e6%258a%2580%25e8%25a1%2593%25e8%2580%2585%25e8%25a9%25a6%25e9%25a8%2593fe%2F&#038;title=40%E4%BB%A3%E5%BE%8C%E5%8D%8A%E3%81%AE%E3%81%8A%E3%81%98%E3%81%95%E3%82%93%E3%81%8C%E4%BB%8A%E3%81%95%E3%82%89%E5%9F%BA%E6%9C%AC%E6%83%85%E5%A0%B1%E6%8A%80%E8%A1%93%E8%80%85%E8%A9%A6%E9%A8%93%28FE%29%E3%82%92%E5%8F%97%E3%81%91%E3%81%9F%E7%90%86%E7%94%B1" data-a2a-url="/2021/06/26/40%e4%bb%a3%e5%be%8c%e5%8d%8a%e3%81%ae%e3%81%8a%e3%81%98%e3%81%95%e3%82%93%e3%81%8c%e4%bb%8a%e3%81%95%e3%82%89%e5%9f%ba%e6%9c%ac%e6%83%85%e5%a0%b1%e6%8a%80%e8%a1%93%e8%80%85%e8%a9%a6%e9%a8%93fe/" data-a2a-title="40代後半のおじさんが今さら基本情報技術者試験(FE)を受けた理由"></a></p><p>The post <a href="/2021/06/26/40%e4%bb%a3%e5%be%8c%e5%8d%8a%e3%81%ae%e3%81%8a%e3%81%98%e3%81%95%e3%82%93%e3%81%8c%e4%bb%8a%e3%81%95%e3%82%89%e5%9f%ba%e6%9c%ac%e6%83%85%e5%a0%b1%e6%8a%80%e8%a1%93%e8%80%85%e8%a9%a6%e9%a8%93fe/">40代後半のおじさんが今さら基本情報技術者試験(FE)を受けた理由</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>/2021/06/26/40%e4%bb%a3%e5%be%8c%e5%8d%8a%e3%81%ae%e3%81%8a%e3%81%98%e3%81%95%e3%82%93%e3%81%8c%e4%bb%8a%e3%81%95%e3%82%89%e5%9f%ba%e6%9c%ac%e6%83%85%e5%a0%b1%e6%8a%80%e8%a1%93%e8%80%85%e8%a9%a6%e9%a8%93fe/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">476</post-id>	</item>
		<item>
		<title>[AWS+WordPress]今さら聞けない二段階認証(MFAデバイス)でのセキュリティ強化</title>
		<link>/2021/05/26/awswordpress%e4%bb%8a%e3%81%95%e3%82%89%e8%81%9e%e3%81%91%e3%81%aa%e3%81%84%e4%ba%8c%e6%ae%b5%e9%9a%8e%e8%aa%8d%e8%a8%bcmfa%e3%83%87%e3%83%90%e3%82%a4%e3%82%b9%e3%81%a7%e3%81%ae%e3%82%bb%e3%82%ad/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=awswordpress%25e4%25bb%258a%25e3%2581%2595%25e3%2582%2589%25e8%2581%259e%25e3%2581%2591%25e3%2581%25aa%25e3%2581%2584%25e4%25ba%258c%25e6%25ae%25b5%25e9%259a%258e%25e8%25aa%258d%25e8%25a8%25bcmfa%25e3%2583%2587%25e3%2583%2590%25e3%2582%25a4%25e3%2582%25b9%25e3%2581%25a7%25e3%2581%25ae%25e3%2582%25bb%25e3%2582%25ad</link>
					<comments>/2021/05/26/awswordpress%e4%bb%8a%e3%81%95%e3%82%89%e8%81%9e%e3%81%91%e3%81%aa%e3%81%84%e4%ba%8c%e6%ae%b5%e9%9a%8e%e8%aa%8d%e8%a8%bcmfa%e3%83%87%e3%83%90%e3%82%a4%e3%82%b9%e3%81%a7%e3%81%ae%e3%82%bb%e3%82%ad/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Wed, 26 May 2021 10:09:49 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[AWS]]></category>
		<category><![CDATA[MFA]]></category>
		<category><![CDATA[MFAデバイス]]></category>
		<category><![CDATA[RFC 6238]]></category>
		<category><![CDATA[TOTP]]></category>
		<category><![CDATA[WordPress]]></category>
		<category><![CDATA[ワンタイムパスワード]]></category>
		<category><![CDATA[二段階認証]]></category>
		<category><![CDATA[仮想MFAデバイス]]></category>
		<category><![CDATA[多要素認証]]></category>
		<category><![CDATA[情報セキュリティ]]></category>
		<category><![CDATA[認証アプリ]]></category>
		<guid isPermaLink="false">/?p=440</guid>

					<description><![CDATA[<p>聞くとヤバいので本当に今さら聞けないセキュリティ対策 　枯れた技術の入門記事で「今さら聞けない」を枕詞にしたものをよく見ますが、「本当に聞けない」のがセキュリティ対策です。なにせ「知らない」「やってない」ことがバレた時点&#8230; <a class="more-link" href="/2021/05/26/awswordpress%e4%bb%8a%e3%81%95%e3%82%89%e8%81%9e%e3%81%91%e3%81%aa%e3%81%84%e4%ba%8c%e6%ae%b5%e9%9a%8e%e8%aa%8d%e8%a8%bcmfa%e3%83%87%e3%83%90%e3%82%a4%e3%82%b9%e3%81%a7%e3%81%ae%e3%82%bb%e3%82%ad/">続きを読む <span class="screen-reader-text">[AWS+WordPress]今さら聞けない二段階認証(MFAデバイス)でのセキュリティ強化</span></a></p>
<p>The post <a href="/2021/05/26/awswordpress%e4%bb%8a%e3%81%95%e3%82%89%e8%81%9e%e3%81%91%e3%81%aa%e3%81%84%e4%ba%8c%e6%ae%b5%e9%9a%8e%e8%aa%8d%e8%a8%bcmfa%e3%83%87%e3%83%90%e3%82%a4%e3%82%b9%e3%81%a7%e3%81%ae%e3%82%bb%e3%82%ad/">[AWS+WordPress]今さら聞けない二段階認証(MFAデバイス)でのセキュリティ強化</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>聞くとヤバいので本当に今さら聞けないセキュリティ対策</h2>



<p>　枯れた技術の入門記事で「今さら聞けない」を枕詞にしたものをよく見ますが、「本当に聞けない」のが<strong>セキュリティ対策</strong>です。なにせ<span style="text-decoration: underline;">「知らない」「やってない」ことがバレた時点で「セキュリティ甘々なサイト」と他所様に認識されてしまう</span>のですから……。</p>



<p>　この数か月で少しAWSとWordPressに詳しくなったので、復習がてら導入のアドバイス・コンサルティングを始めました。お客様のお話をお伺いしていると情報セキュリティへのご関心が高いようです。WordPressは有名CMSなので、セキュリティホールを突く攻撃から面倒くさい<strong>コメントスパム</strong>、<strong>フォームスパム</strong>まで日々痛い目に遭っている方が多いようです。</p>



<p>　私自身は<strong>情報処理安全確保支援士</strong>(SC)の資格など持っていませんし、そもそもエンジニアですらありません(アドミン君でないとは言い切れませんが……)。従ってセキュリティを語る資格は無いのですが、現実問題としてウェブサイトを立てた瞬間からセキュリティのリスクと責任を負ってしまうので<s>どこぞの予約サイトのように</s>セキュリティを全く無視するわけにはいきません。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>今さら「入れない」では済まない二段階認証(多要素認証＝MFA)</h2>



<p>　昔は二段階認証と言えばオンラインバンキングなど金融系が中心でした。しかし、ここ数年でセキュリティ事故による情報流出が多発し、IDパスワードが攻撃者に奪われてしまいました。</p>



<p>　その結果、各種のサービスに不正取得したIDパスワードを使って侵入し不正送金などを行い、ユーザーが深刻な被害を受ける事件まで起こってしまいました。その結果、みんな大好きメルカリやYahoo!/PayPayを筆頭に、一般的なサービスでもすごい勢いでワンタイムパスワードによる二段階認証が普及しています。</p>



<p>　二段階認証で幅広く使われている方式は、下記となります：</p>



<ol><li>トークン(認証専用ハードウェア)による認証</li><li>携帯電話・スマホのSMSによる認証</li><li><mark>スマホの認証アプリによる認証</mark>(これが当記事のテーマです)</li></ol>



<p>　これらの方式をセキュリティ用語では『<strong>MFAデバイス</strong>』、特にスマホアプリによる方式を『<strong>仮想MFAデバイス</strong>』と呼びます。MFAはMulti-Factor Authenticationの略で、直訳すると『多要素認証』となります。</p>



<p>　個人サイトではトークンやSMSによる認証は難しいので、3.の『<strong>スマホの認証アプリによる認証</strong>』に頼ることとなります。しかし、予備知識がないと「<strong>認証アプリってなに？</strong>」「<strong>どの認証アプリを使えばいいの？</strong>」と頭がはてなマークで埋め尽くされてしまいます。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>ワンタイムパスワードには共通規格がある(RFC 6238 &#8211; TOTP)</h2>



<p>　結論から申し上げると、二段階認証で使われるワンタイムパスワードの方式には共通規格があります。『<strong>RFC 6238 &#8211; TOTP: Time-Based One-Time Password Algorithm</strong>』というもので、ざっくり言うとSSLなどと同じレベルです。</p>



<p>　従って、AWSやWordPressに二段階認証を入れようと思ったら、まず最初にやることは『<strong>TOTP対応の認証アプリ</strong>』のインストールです。「TOTP対応なら、どれでも良い」ということです。Googleで検索してみると、下記のような認証アプリがヒットします：</p>



<ul><li><a href="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&amp;hl=ja&amp;gl=US" target="_blank" rel="noreferrer noopener">Google 認証システム &#8211; Google Play のアプリ</a></li><li><a href="https://apps.apple.com/jp/app/microsoft-authenticator/id983156458" target="_blank" rel="noreferrer noopener">Microsoft Authenticator &#8211; App Storeプレビュー</a></li><li><a href="https://www.iij.ad.jp/smartkey/" target="_blank" rel="noreferrer noopener">IIJ SmartKey｜スライド認証・ワンタイムパスワード管理</a></li></ul>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>注意点①　アプリ認証はSMS認証に依存している</h2>



<p>　実際に認証アプリを使う前に、絶対に確認しておくべきことがあります。<span style="text-decoration: underline;">スマホをなくしたり壊したりしてしまったら、アプリ認証も出来なくなってしまいます</span>。従って、二段階認証を入れる前に、必ず<strong>認証アプリの機種変更方法</strong>を把握しておかなければいけません。私が使っているIIJ SmartKeyで機種変更を行うための本人確認は、<strong>SMS認証</strong>を用いています：</p>



<div class="wp-block-jetpack-tiled-gallery aligncenter is-style-rectangular"><div class="tiled-gallery__gallery"><div class="tiled-gallery__row"><div class="tiled-gallery__col" style="flex-basis:50.00000%"><figure class="tiled-gallery__item"><img srcset="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA3.png?strip=info&#038;w=600&#038;ssl=1 600w,https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA3.png?strip=info&#038;w=900&#038;ssl=1 900w,https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA3.png?strip=info&#038;w=1200&#038;ssl=1 1200w,https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA3.png?strip=info&#038;w=1300&#038;ssl=1 1300w" alt="" data-height="1300" data-id="450" data-link="/?attachment_id=450" data-url="/wp-content/uploads/2021/05/MFA3.png" data-width="750" src="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA3.png?ssl=1" data-amp-layout="responsive"/></figure></div><div class="tiled-gallery__col" style="flex-basis:50.00000%"><figure class="tiled-gallery__item"><img srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA4.png?strip=info&#038;w=600&#038;ssl=1 600w,https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA4.png?strip=info&#038;w=900&#038;ssl=1 900w,https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA4.png?strip=info&#038;w=1200&#038;ssl=1 1200w,https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA4.png?strip=info&#038;w=1300&#038;ssl=1 1300w" alt="" data-height="1300" data-id="451" data-link="/?attachment_id=451" data-url="/wp-content/uploads/2021/05/MFA4.png" data-width="750" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA4.png?ssl=1" data-amp-layout="responsive"/></figure></div></div></div></div>



<p>　これが意味することは、「<strong>電話番号</strong>を変えてしまったら認証アプリの機種変更が出来なくなり、<span style="text-decoration: underline;">ワンタイムパスワードも最終的には使えなくなる</span>」ということです。アプリによって本人確認の方法は異なる可能性がありますが、頭の片隅に置いておいて下さい。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>注意点②　AWSの二段階認証はルートユーザーとIAMユーザーの両方で必要</h2>



<p>　セキュリティ重視の方は、AWSでもユーザー登録時に付与される<strong>ルートユーザー</strong>ではなく別途<strong>IAMユーザー</strong>を作成して運用していることも多いかと思います。しかし当然ながら、仮にふだんは使っていないとしても、<span style="text-decoration: underline;">ルートユーザーも二段階認証を入れないとIDパスワードを抜かれたら終わり</span>です。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="726" height="598" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA5.png?resize=726%2C598&#038;ssl=1" alt="" class="wp-image-452" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA5.png?w=726&amp;ssl=1 726w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA5.png?resize=300%2C247&amp;ssl=1 300w" sizes="(max-width: 726px) 100vw, 726px" data-recalc-dims="1" /><figcaption>ルートユーザーに二段階認証を入れるメニューは『マイセキュリティ資格情報』(2021年5月現在)</figcaption></figure>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="406" src="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA6.png?resize=750%2C406&#038;ssl=1" alt="" class="wp-image-453" srcset="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA6.png?resize=1024%2C555&amp;ssl=1 1024w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA6.png?resize=300%2C163&amp;ssl=1 300w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA6.png?resize=768%2C416&amp;ssl=1 768w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA6.png?resize=1536%2C832&amp;ssl=1 1536w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA6.png?resize=2048%2C1110&amp;ssl=1 2048w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA6.png?resize=1568%2C850&amp;ssl=1 1568w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /><figcaption>AWSの二段階認証は『多要素認証(MFA)』という名称</figcaption></figure>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>注意点③　WordPress自体にも二段階認証を入れないと意味がない</h2>



<p>　WordPressは一般的にブログなどを公開するウェブサイトと同じサーバーに管理画面があり、ウェブ上で記事を編集します。WordPressは5.xの時点では<span style="text-decoration: underline;">本体に二段階認証の機能がない</span>ため、サードパーティーの認証プラグインを入れる必要があります。WordPress 6.xでは絶対に改善してもらわないと困る状況ですが、いま出来ることとして<a href="https://wordpress.org/plugins/wordfence/" target="_blank" rel="noreferrer noopener">Wordfence Security – Firewall &amp; Malware Scan</a>を入れています。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="516" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA7.png?resize=750%2C516&#038;ssl=1" alt="" class="wp-image-455" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA7.png?resize=1024%2C705&amp;ssl=1 1024w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA7.png?resize=300%2C207&amp;ssl=1 300w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA7.png?resize=768%2C529&amp;ssl=1 768w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA7.png?resize=1536%2C1057&amp;ssl=1 1536w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA7.png?resize=1568%2C1079&amp;ssl=1 1568w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/05/MFA7.png?w=1938&amp;ssl=1 1938w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　正直、CMS全体の動作に大きな影響を与えるセキュリティ関連でサードパーティーのプラグインを入れるのは怖いので、「<strong>インスタンスのバックアップ</strong>を取った上で恐る恐る入れている」というのが本音です。</p>



<p>　私自身は無職でノマド()なのでWordPressに接続するIPアドレスを固定するのが難しい状況ですが、企業ユーザーの方などで<strong>IPアドレスの固定</strong>が可能な方は、<span style="text-decoration: underline;">IPアドレスの指定による管理画面へのアクセス制限</span>が可能かどうか、併せてご検討されるのがよろしいかと思います。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>まだの方は今すぐ始めて下さい</h2>



<p>　正直、情報セキュリティ関連の投稿は、自分の手口を明かしてしまう上に本職のエンジニア様などによる<strong>恐ろしいマサカリ</strong>にも晒されているので「書きたくない<img src="https://s.w.org/images/core/emoji/13.0.1/72x72/1f62d.png" alt="😭" class="wp-smiley" style="height: 1em; max-height: 1em;" />」のが本音です。</p>



<p>　しかし、非エンジニアの方が多く利用しているWordPressがセキュリティ面で脆弱な状況に置かれている現状は非常にまずいと感じたため、敢えて二段階認証の投稿をするという決断をしました。</p>



<p>　このような状況ですので、セキュリティが本職の皆さまが当記事に問題を発見した場合は、何卒、優しくご指摘ください。<a href="/%e3%81%8a%e5%95%8f%e3%81%84%e5%90%88%e3%82%8f%e3%81%9b/" target="_blank" rel="noreferrer noopener">ご指摘</a>そのものは、当サイトのセキュリティ改善につながるので歓迎です。</p>
		<div class="wpulike wpulike-default " ><div class="wp_ulike_general_class wp_ulike_is_not_liked"><button type="button"
					aria-label="いいねボタン"
					data-ulike-id="440"
					data-ulike-nonce="05f535e01c"
					data-ulike-type="post"
					data-ulike-template="wpulike-default"
					data-ulike-display-likers=""
					data-ulike-likers-style="popover"
					class="wp_ulike_btn wp_ulike_put_image wp_post_btn_440"></button><span class="count-box wp_ulike_counter_up" data-ulike-counter-value="0"></span>			</div></div>
	<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=%2F2021%2F05%2F26%2Fawswordpress%25e4%25bb%258a%25e3%2581%2595%25e3%2582%2589%25e8%2581%259e%25e3%2581%2591%25e3%2581%25aa%25e3%2581%2584%25e4%25ba%258c%25e6%25ae%25b5%25e9%259a%258e%25e8%25aa%258d%25e8%25a8%25bcmfa%25e3%2583%2587%25e3%2583%2590%25e3%2582%25a4%25e3%2582%25b9%25e3%2581%25a7%25e3%2581%25ae%25e3%2582%25bb%25e3%2582%25ad%2F&amp;linkname=%5BAWS%2BWordPress%5D%E4%BB%8A%E3%81%95%E3%82%89%E8%81%9E%E3%81%91%E3%81%AA%E3%81%84%E4%BA%8C%E6%AE%B5%E9%9A%8E%E8%AA%8D%E8%A8%BC%28MFA%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%29%E3%81%A7%E3%81%AE%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E5%BC%B7%E5%8C%96" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=%2F2021%2F05%2F26%2Fawswordpress%25e4%25bb%258a%25e3%2581%2595%25e3%2582%2589%25e8%2581%259e%25e3%2581%2591%25e3%2581%25aa%25e3%2581%2584%25e4%25ba%258c%25e6%25ae%25b5%25e9%259a%258e%25e8%25aa%258d%25e8%25a8%25bcmfa%25e3%2583%2587%25e3%2583%2590%25e3%2582%25a4%25e3%2582%25b9%25e3%2581%25a7%25e3%2581%25ae%25e3%2582%25bb%25e3%2582%25ad%2F&amp;linkname=%5BAWS%2BWordPress%5D%E4%BB%8A%E3%81%95%E3%82%89%E8%81%9E%E3%81%91%E3%81%AA%E3%81%84%E4%BA%8C%E6%AE%B5%E9%9A%8E%E8%AA%8D%E8%A8%BC%28MFA%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%29%E3%81%A7%E3%81%AE%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E5%BC%B7%E5%8C%96" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=%2F2021%2F05%2F26%2Fawswordpress%25e4%25bb%258a%25e3%2581%2595%25e3%2582%2589%25e8%2581%259e%25e3%2581%2591%25e3%2581%25aa%25e3%2581%2584%25e4%25ba%258c%25e6%25ae%25b5%25e9%259a%258e%25e8%25aa%258d%25e8%25a8%25bcmfa%25e3%2583%2587%25e3%2583%2590%25e3%2582%25a4%25e3%2582%25b9%25e3%2581%25a7%25e3%2581%25ae%25e3%2582%25bb%25e3%2582%25ad%2F&amp;linkname=%5BAWS%2BWordPress%5D%E4%BB%8A%E3%81%95%E3%82%89%E8%81%9E%E3%81%91%E3%81%AA%E3%81%84%E4%BA%8C%E6%AE%B5%E9%9A%8E%E8%AA%8D%E8%A8%BC%28MFA%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%29%E3%81%A7%E3%81%AE%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E5%BC%B7%E5%8C%96" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=%2F2021%2F05%2F26%2Fawswordpress%25e4%25bb%258a%25e3%2581%2595%25e3%2582%2589%25e8%2581%259e%25e3%2581%2591%25e3%2581%25aa%25e3%2581%2584%25e4%25ba%258c%25e6%25ae%25b5%25e9%259a%258e%25e8%25aa%258d%25e8%25a8%25bcmfa%25e3%2583%2587%25e3%2583%2590%25e3%2582%25a4%25e3%2582%25b9%25e3%2581%25a7%25e3%2581%25ae%25e3%2582%25bb%25e3%2582%25ad%2F&amp;linkname=%5BAWS%2BWordPress%5D%E4%BB%8A%E3%81%95%E3%82%89%E8%81%9E%E3%81%91%E3%81%AA%E3%81%84%E4%BA%8C%E6%AE%B5%E9%9A%8E%E8%AA%8D%E8%A8%BC%28MFA%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%29%E3%81%A7%E3%81%AE%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E5%BC%B7%E5%8C%96" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=%2F2021%2F05%2F26%2Fawswordpress%25e4%25bb%258a%25e3%2581%2595%25e3%2582%2589%25e8%2581%259e%25e3%2581%2591%25e3%2581%25aa%25e3%2581%2584%25e4%25ba%258c%25e6%25ae%25b5%25e9%259a%258e%25e8%25aa%258d%25e8%25a8%25bcmfa%25e3%2583%2587%25e3%2583%2590%25e3%2582%25a4%25e3%2582%25b9%25e3%2581%25a7%25e3%2581%25ae%25e3%2582%25bb%25e3%2582%25ad%2F&amp;linkname=%5BAWS%2BWordPress%5D%E4%BB%8A%E3%81%95%E3%82%89%E8%81%9E%E3%81%91%E3%81%AA%E3%81%84%E4%BA%8C%E6%AE%B5%E9%9A%8E%E8%AA%8D%E8%A8%BC%28MFA%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%29%E3%81%A7%E3%81%AE%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E5%BC%B7%E5%8C%96" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=%2F2021%2F05%2F26%2Fawswordpress%25e4%25bb%258a%25e3%2581%2595%25e3%2582%2589%25e8%2581%259e%25e3%2581%2591%25e3%2581%25aa%25e3%2581%2584%25e4%25ba%258c%25e6%25ae%25b5%25e9%259a%258e%25e8%25aa%258d%25e8%25a8%25bcmfa%25e3%2583%2587%25e3%2583%2590%25e3%2582%25a4%25e3%2582%25b9%25e3%2581%25a7%25e3%2581%25ae%25e3%2582%25bb%25e3%2582%25ad%2F&#038;title=%5BAWS%2BWordPress%5D%E4%BB%8A%E3%81%95%E3%82%89%E8%81%9E%E3%81%91%E3%81%AA%E3%81%84%E4%BA%8C%E6%AE%B5%E9%9A%8E%E8%AA%8D%E8%A8%BC%28MFA%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%29%E3%81%A7%E3%81%AE%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E5%BC%B7%E5%8C%96" data-a2a-url="/2021/05/26/awswordpress%e4%bb%8a%e3%81%95%e3%82%89%e8%81%9e%e3%81%91%e3%81%aa%e3%81%84%e4%ba%8c%e6%ae%b5%e9%9a%8e%e8%aa%8d%e8%a8%bcmfa%e3%83%87%e3%83%90%e3%82%a4%e3%82%b9%e3%81%a7%e3%81%ae%e3%82%bb%e3%82%ad/" data-a2a-title="[AWS+WordPress]今さら聞けない二段階認証(MFAデバイス)でのセキュリティ強化"></a></p><p>The post <a href="/2021/05/26/awswordpress%e4%bb%8a%e3%81%95%e3%82%89%e8%81%9e%e3%81%91%e3%81%aa%e3%81%84%e4%ba%8c%e6%ae%b5%e9%9a%8e%e8%aa%8d%e8%a8%bcmfa%e3%83%87%e3%83%90%e3%82%a4%e3%82%b9%e3%81%a7%e3%81%ae%e3%82%bb%e3%82%ad/">[AWS+WordPress]今さら聞けない二段階認証(MFAデバイス)でのセキュリティ強化</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>/2021/05/26/awswordpress%e4%bb%8a%e3%81%95%e3%82%89%e8%81%9e%e3%81%91%e3%81%aa%e3%81%84%e4%ba%8c%e6%ae%b5%e9%9a%8e%e8%aa%8d%e8%a8%bcmfa%e3%83%87%e3%83%90%e3%82%a4%e3%82%b9%e3%81%a7%e3%81%ae%e3%82%bb%e3%82%ad/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">440</post-id>	</item>
		<item>
		<title>Google広告を出稿してキーワードプランナーを使い倒す</title>
		<link>/2021/05/08/google%e5%ba%83%e5%91%8a%e3%82%92%e5%87%ba%e7%a8%bf%e3%81%97%e3%81%a6%e3%82%ad%e3%83%bc%e3%83%af%e3%83%bc%e3%83%89%e3%83%97%e3%83%a9%e3%83%b3%e3%83%8a%e3%83%bc%e3%82%92%e4%bd%bf%e3%81%84%e5%80%92/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=google%25e5%25ba%2583%25e5%2591%258a%25e3%2582%2592%25e5%2587%25ba%25e7%25a8%25bf%25e3%2581%2597%25e3%2581%25a6%25e3%2582%25ad%25e3%2583%25bc%25e3%2583%25af%25e3%2583%25bc%25e3%2583%2589%25e3%2583%2597%25e3%2583%25a9%25e3%2583%25b3%25e3%2583%258a%25e3%2583%25bc%25e3%2582%2592%25e4%25bd%25bf%25e3%2581%2584%25e5%2580%2592</link>
					<comments>/2021/05/08/google%e5%ba%83%e5%91%8a%e3%82%92%e5%87%ba%e7%a8%bf%e3%81%97%e3%81%a6%e3%82%ad%e3%83%bc%e3%83%af%e3%83%bc%e3%83%89%e3%83%97%e3%83%a9%e3%83%b3%e3%83%8a%e3%83%bc%e3%82%92%e4%bd%bf%e3%81%84%e5%80%92/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Sat, 08 May 2021 08:49:47 +0000</pubDate>
				<category><![CDATA[Webマーケティング]]></category>
		<category><![CDATA[Google広告]]></category>
		<category><![CDATA[キーワードプランナー]]></category>
		<category><![CDATA[コンテンツマーケティング]]></category>
		<guid isPermaLink="false">/?p=432</guid>

					<description><![CDATA[<p>売りたいモノが(自分自身以外)無くても広告を出稿しよう 　検索広告の存在は誰でも（嫌というほど）知っていますが、広告の出稿方法を実際に知っている人は「仕事で使ったことがある」方以外にはあまり居ないと思います。 　しかし、&#8230; <a class="more-link" href="/2021/05/08/google%e5%ba%83%e5%91%8a%e3%82%92%e5%87%ba%e7%a8%bf%e3%81%97%e3%81%a6%e3%82%ad%e3%83%bc%e3%83%af%e3%83%bc%e3%83%89%e3%83%97%e3%83%a9%e3%83%b3%e3%83%8a%e3%83%bc%e3%82%92%e4%bd%bf%e3%81%84%e5%80%92/">続きを読む <span class="screen-reader-text">Google広告を出稿してキーワードプランナーを使い倒す</span></a></p>
<p>The post <a href="/2021/05/08/google%e5%ba%83%e5%91%8a%e3%82%92%e5%87%ba%e7%a8%bf%e3%81%97%e3%81%a6%e3%82%ad%e3%83%bc%e3%83%af%e3%83%bc%e3%83%89%e3%83%97%e3%83%a9%e3%83%b3%e3%83%8a%e3%83%bc%e3%82%92%e4%bd%bf%e3%81%84%e5%80%92/">Google広告を出稿してキーワードプランナーを使い倒す</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>売りたいモノが(自分自身以外)無くても広告を出稿しよう</h2>



<p>　検索広告の存在は誰でも（嫌というほど）知っていますが、広告の出稿方法を実際に知っている人は「仕事で使ったことがある」方以外にはあまり居ないと思います。</p>



<p>　しかし、can.ne.jpでは敢えて皆さんにお勧めします。</p>



<p class="has-text-align-center has-white-background-color has-text-color has-background" style="color:#a34200;font-size:34px"><strong>誰でも広告を出稿しておこう</strong></p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>理由①　お金はあまりかからない</h2>



<p>　Web広告の基本であり王道である『キーワード広告』。CPC(Cost Per Click)と呼ばれ、クリック毎に課金されます。キーワードごとにクリック単価が設定されており、<span style="text-decoration: underline;">出稿出来る総量も決まっています</span>（検索されないと表示されないので）。</p>



<p>　つまり、「出稿量が少なくクリック単価も低い広告であれば、出稿しても<span style="text-decoration: underline;">微課金で済む</span>(もちろん流入もそれなり)」ということです。そこで、私も実際に<a href="https://ads.google.com/intl/ja_JP/home/" target="_blank" rel="noreferrer noopener">Google広告</a>を出稿しています<img src="https://s.w.org/images/core/emoji/13.0.1/72x72/263a.png" alt="☺" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="428" src="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads.png?resize=750%2C428&#038;ssl=1" alt="" class="wp-image-434" srcset="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads.png?resize=1024%2C585&amp;ssl=1 1024w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads.png?resize=300%2C171&amp;ssl=1 300w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads.png?resize=768%2C438&amp;ssl=1 768w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads.png?resize=1536%2C877&amp;ssl=1 1536w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads.png?resize=2048%2C1169&amp;ssl=1 2048w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads.png?resize=1568%2C895&amp;ssl=1 1568w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads.png?w=2250&amp;ssl=1 2250w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　わずかではありますが、実際に広告をクリックしてcan.ne.jpをご訪問頂いた方もいらっしゃいます！</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>理由②　Google Analyticsの勉強になる</h2>



<figure class="wp-block-image size-large"><img loading="lazy" width="644" height="568" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/05/cpc.png?resize=644%2C568&#038;ssl=1" alt="" class="wp-image-435" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/05/cpc.png?w=644&amp;ssl=1 644w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/05/cpc.png?resize=300%2C265&amp;ssl=1 300w" sizes="(max-width: 644px) 100vw, 644px" data-recalc-dims="1" /></figure>



<p>　Google Analyticsのキャンペーンメニューを見ると、『上位のキャンペーン』に『cpc』が表示されています。これがGoogle広告経由での流入となります。</p>



<p>　もちろん、この項目は広告を出稿しないと表示されません。<span style="text-decoration: underline;">実際に広告を出稿</span>してみて初めて、GAが広告出稿をどのように捕捉するかが分かることになります。しかし、ふつうは仕事で広告に関わっていないと肌感覚で「広告出稿～効果測定」の流れを知ることが出来ません。運よく仕事（会社のカネ！）で広告出稿をする機会があれば自腹を切る必要はありませんが、そうでなければ自分で広告を出稿するしかありません。</p>



<p>　同じ発想で言えば、自分のショッピングカートや自分の商品もサイト上に置いておくべきです（can.ne.jpではまだ出来ていませんが）。「さすがにそこまでやるのは面倒すぎる」という方は、B2Bのお約束である『資料請求フォーム』を用意してリード獲得のコンバージョンを設定するのが良いでしょう。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>　理由③　キーワードプランナーが使える</h2>



<p>　これが私がGoogle広告を登録した最大の理由です。広告を出稿したことがない方でも<a href="https://trends.google.co.jp/trends/?geo=JP" target="_blank" rel="noreferrer noopener">Googleトレンド</a>などでキーワードごとの検索動向をチェックしたことがあるかも知れません。</p>



<p>　しかし、Googleトレンドではグラフが出るだけで、実数として検索数を取得することは出来ません。実は、Google広告に付属の『キーワード プランナー』というツールを使えば、<strong>とてもざっくり</strong>とではありますが<span style="text-decoration: underline;">任意のキーワードに対する検索数を取得出来ます</span>。</p>



<figure class="wp-block-image size-large is-resized"><img loading="lazy" src="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads_search_volume-1.png?resize=610%2C432&#038;ssl=1" alt="" class="wp-image-436" width="610" height="432" srcset="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads_search_volume-1.png?resize=1024%2C725&amp;ssl=1 1024w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads_search_volume-1.png?resize=300%2C213&amp;ssl=1 300w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads_search_volume-1.png?resize=768%2C544&amp;ssl=1 768w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads_search_volume-1.png?resize=1536%2C1088&amp;ssl=1 1536w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads_search_volume-1.png?resize=2048%2C1451&amp;ssl=1 2048w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads_search_volume-1.png?resize=1568%2C1111&amp;ssl=1 1568w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/05/Google_Ads_search_volume-1.png?w=2250&amp;ssl=1 2250w" sizes="(max-width: 610px) 100vw, 610px" data-recalc-dims="1" /></figure>



<p>　　本来は出稿するキーワードやフレーズを検討するためのツールですが、とても<span style="text-decoration: underline;">自分では出稿出来ないようなビッグワード</span>の検索推移なども把握できます。このツールを用いて、「どのような検索ワードの人気があるか」「どのようなテーマの人気が上がってきているか」が分かるので、</p>



<p class="has-text-align-center has-white-background-color has-text-color has-background has-large-font-size" style="color:#a34200"><strong>どんなテーマでブログを書けば人が来るか分かる</strong></p>



<p>ということになります。私は実際に仕事でキーワードプランナーを用いてニーズが高まっているテーマを見つけて、人気ページに育てた経験があります。このような分野を『コンテンツマーケティング』と呼びます。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>コンテンツマーケティングの光と陰</h2>



<p>　ただし、アクセスがどんどん増えていったものの、取扱商品の売上はさっぱり伸びませんでした(苦笑)。アクセスさえ稼げばお金になるのはニュースサイトなどメディア系だけで、Eコマースでは「テーマへの関心」から「商品への関心」を引き出す『コンバージョン』というプロセスが欠かせません。</p>



<p>　コンテンツマーケティングは「ひたすら書くだけで、お金がかからない」という性質があるので、中小サイトではコンバージョンの有無に関わらず考え付く限りの関連ページを量産するのが普通です。しかし、人生もお金も有限なので、仕事である限りはコンバージョン率を常に念頭に置いてコンテンツマーケティングにも取り組むべきだと思います。</p>



<p>　Webは良くも悪しくも「無料が当たり前」の世界です。Webが好きな人はボランティア精神に溢れた方が多く、多くのアクセスや『いいね』をもらえれば、お金にならなくても熱心にコンテンツを作る方が少なくありません。</p>



<p>　しかし、私のように食うのにも困る状況になってしまっては元も子もありません。仕事では心を鬼にして、「いまのWeb作業はマネタイズにつながっているか」を常に意識する必要があります（自戒をこめて）。</p>
		<div class="wpulike wpulike-default " ><div class="wp_ulike_general_class wp_ulike_is_not_liked"><button type="button"
					aria-label="いいねボタン"
					data-ulike-id="432"
					data-ulike-nonce="9f93037933"
					data-ulike-type="post"
					data-ulike-template="wpulike-default"
					data-ulike-display-likers=""
					data-ulike-likers-style="popover"
					class="wp_ulike_btn wp_ulike_put_image wp_post_btn_432"></button><span class="count-box wp_ulike_counter_up" data-ulike-counter-value="0"></span>			</div></div>
	<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=%2F2021%2F05%2F08%2Fgoogle%25e5%25ba%2583%25e5%2591%258a%25e3%2582%2592%25e5%2587%25ba%25e7%25a8%25bf%25e3%2581%2597%25e3%2581%25a6%25e3%2582%25ad%25e3%2583%25bc%25e3%2583%25af%25e3%2583%25bc%25e3%2583%2589%25e3%2583%2597%25e3%2583%25a9%25e3%2583%25b3%25e3%2583%258a%25e3%2583%25bc%25e3%2582%2592%25e4%25bd%25bf%25e3%2581%2584%25e5%2580%2592%2F&amp;linkname=Google%E5%BA%83%E5%91%8A%E3%82%92%E5%87%BA%E7%A8%BF%E3%81%97%E3%81%A6%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E3%83%97%E3%83%A9%E3%83%B3%E3%83%8A%E3%83%BC%E3%82%92%E4%BD%BF%E3%81%84%E5%80%92%E3%81%99" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=%2F2021%2F05%2F08%2Fgoogle%25e5%25ba%2583%25e5%2591%258a%25e3%2582%2592%25e5%2587%25ba%25e7%25a8%25bf%25e3%2581%2597%25e3%2581%25a6%25e3%2582%25ad%25e3%2583%25bc%25e3%2583%25af%25e3%2583%25bc%25e3%2583%2589%25e3%2583%2597%25e3%2583%25a9%25e3%2583%25b3%25e3%2583%258a%25e3%2583%25bc%25e3%2582%2592%25e4%25bd%25bf%25e3%2581%2584%25e5%2580%2592%2F&amp;linkname=Google%E5%BA%83%E5%91%8A%E3%82%92%E5%87%BA%E7%A8%BF%E3%81%97%E3%81%A6%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E3%83%97%E3%83%A9%E3%83%B3%E3%83%8A%E3%83%BC%E3%82%92%E4%BD%BF%E3%81%84%E5%80%92%E3%81%99" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=%2F2021%2F05%2F08%2Fgoogle%25e5%25ba%2583%25e5%2591%258a%25e3%2582%2592%25e5%2587%25ba%25e7%25a8%25bf%25e3%2581%2597%25e3%2581%25a6%25e3%2582%25ad%25e3%2583%25bc%25e3%2583%25af%25e3%2583%25bc%25e3%2583%2589%25e3%2583%2597%25e3%2583%25a9%25e3%2583%25b3%25e3%2583%258a%25e3%2583%25bc%25e3%2582%2592%25e4%25bd%25bf%25e3%2581%2584%25e5%2580%2592%2F&amp;linkname=Google%E5%BA%83%E5%91%8A%E3%82%92%E5%87%BA%E7%A8%BF%E3%81%97%E3%81%A6%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E3%83%97%E3%83%A9%E3%83%B3%E3%83%8A%E3%83%BC%E3%82%92%E4%BD%BF%E3%81%84%E5%80%92%E3%81%99" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=%2F2021%2F05%2F08%2Fgoogle%25e5%25ba%2583%25e5%2591%258a%25e3%2582%2592%25e5%2587%25ba%25e7%25a8%25bf%25e3%2581%2597%25e3%2581%25a6%25e3%2582%25ad%25e3%2583%25bc%25e3%2583%25af%25e3%2583%25bc%25e3%2583%2589%25e3%2583%2597%25e3%2583%25a9%25e3%2583%25b3%25e3%2583%258a%25e3%2583%25bc%25e3%2582%2592%25e4%25bd%25bf%25e3%2581%2584%25e5%2580%2592%2F&amp;linkname=Google%E5%BA%83%E5%91%8A%E3%82%92%E5%87%BA%E7%A8%BF%E3%81%97%E3%81%A6%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E3%83%97%E3%83%A9%E3%83%B3%E3%83%8A%E3%83%BC%E3%82%92%E4%BD%BF%E3%81%84%E5%80%92%E3%81%99" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=%2F2021%2F05%2F08%2Fgoogle%25e5%25ba%2583%25e5%2591%258a%25e3%2582%2592%25e5%2587%25ba%25e7%25a8%25bf%25e3%2581%2597%25e3%2581%25a6%25e3%2582%25ad%25e3%2583%25bc%25e3%2583%25af%25e3%2583%25bc%25e3%2583%2589%25e3%2583%2597%25e3%2583%25a9%25e3%2583%25b3%25e3%2583%258a%25e3%2583%25bc%25e3%2582%2592%25e4%25bd%25bf%25e3%2581%2584%25e5%2580%2592%2F&amp;linkname=Google%E5%BA%83%E5%91%8A%E3%82%92%E5%87%BA%E7%A8%BF%E3%81%97%E3%81%A6%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E3%83%97%E3%83%A9%E3%83%B3%E3%83%8A%E3%83%BC%E3%82%92%E4%BD%BF%E3%81%84%E5%80%92%E3%81%99" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=%2F2021%2F05%2F08%2Fgoogle%25e5%25ba%2583%25e5%2591%258a%25e3%2582%2592%25e5%2587%25ba%25e7%25a8%25bf%25e3%2581%2597%25e3%2581%25a6%25e3%2582%25ad%25e3%2583%25bc%25e3%2583%25af%25e3%2583%25bc%25e3%2583%2589%25e3%2583%2597%25e3%2583%25a9%25e3%2583%25b3%25e3%2583%258a%25e3%2583%25bc%25e3%2582%2592%25e4%25bd%25bf%25e3%2581%2584%25e5%2580%2592%2F&#038;title=Google%E5%BA%83%E5%91%8A%E3%82%92%E5%87%BA%E7%A8%BF%E3%81%97%E3%81%A6%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E3%83%97%E3%83%A9%E3%83%B3%E3%83%8A%E3%83%BC%E3%82%92%E4%BD%BF%E3%81%84%E5%80%92%E3%81%99" data-a2a-url="/2021/05/08/google%e5%ba%83%e5%91%8a%e3%82%92%e5%87%ba%e7%a8%bf%e3%81%97%e3%81%a6%e3%82%ad%e3%83%bc%e3%83%af%e3%83%bc%e3%83%89%e3%83%97%e3%83%a9%e3%83%b3%e3%83%8a%e3%83%bc%e3%82%92%e4%bd%bf%e3%81%84%e5%80%92/" data-a2a-title="Google広告を出稿してキーワードプランナーを使い倒す"></a></p><p>The post <a href="/2021/05/08/google%e5%ba%83%e5%91%8a%e3%82%92%e5%87%ba%e7%a8%bf%e3%81%97%e3%81%a6%e3%82%ad%e3%83%bc%e3%83%af%e3%83%bc%e3%83%89%e3%83%97%e3%83%a9%e3%83%b3%e3%83%8a%e3%83%bc%e3%82%92%e4%bd%bf%e3%81%84%e5%80%92/">Google広告を出稿してキーワードプランナーを使い倒す</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>/2021/05/08/google%e5%ba%83%e5%91%8a%e3%82%92%e5%87%ba%e7%a8%bf%e3%81%97%e3%81%a6%e3%82%ad%e3%83%bc%e3%83%af%e3%83%bc%e3%83%89%e3%83%97%e3%83%a9%e3%83%b3%e3%83%8a%e3%83%bc%e3%82%92%e4%bd%bf%e3%81%84%e5%80%92/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">432</post-id>	</item>
		<item>
		<title>Oracle Cloudの無料枠が太っ腹（ただし初心者向きではない）</title>
		<link>/2021/04/17/oracle-cloud%e3%81%ae%e7%84%a1%e6%96%99%e6%9e%a0%e3%81%8c%e5%a4%aa%e3%81%a3%e8%85%b9%ef%bc%88%e3%81%9f%e3%81%a0%e3%81%97%e5%88%9d%e5%bf%83%e8%80%85%e5%90%91%e3%81%8d%e3%81%a7%e3%81%af%e3%81%aa/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=oracle-cloud%25e3%2581%25ae%25e7%2584%25a1%25e6%2596%2599%25e6%259e%25a0%25e3%2581%258c%25e5%25a4%25aa%25e3%2581%25a3%25e8%2585%25b9%25ef%25bc%2588%25e3%2581%259f%25e3%2581%25a0%25e3%2581%2597%25e5%2588%259d%25e5%25bf%2583%25e8%2580%2585%25e5%2590%2591%25e3%2581%258d%25e3%2581%25a7%25e3%2581%25af%25e3%2581%25aa</link>
					<comments>/2021/04/17/oracle-cloud%e3%81%ae%e7%84%a1%e6%96%99%e6%9e%a0%e3%81%8c%e5%a4%aa%e3%81%a3%e8%85%b9%ef%bc%88%e3%81%9f%e3%81%a0%e3%81%97%e5%88%9d%e5%bf%83%e8%80%85%e5%90%91%e3%81%8d%e3%81%a7%e3%81%af%e3%81%aa/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Sat, 17 Apr 2021 07:16:58 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[Webデザイン]]></category>
		<category><![CDATA[データ分析]]></category>
		<category><![CDATA[Always Freeリソース]]></category>
		<category><![CDATA[OCI]]></category>
		<category><![CDATA[Oracle Cloud Infrastructure]]></category>
		<category><![CDATA[Oracle Linux]]></category>
		<guid isPermaLink="false">/?p=418</guid>

					<description><![CDATA[<p>AWS以外のクラウドには仮想マシンの無料枠がある 　AWSで構築したcan.ne.jpですが、維持費に毎月数ドルかかります。「AWSのメールマガジンで毎月バウチャーをもらえばホニャララ」という話もあるのですが、AWSでW&#8230; <a class="more-link" href="/2021/04/17/oracle-cloud%e3%81%ae%e7%84%a1%e6%96%99%e6%9e%a0%e3%81%8c%e5%a4%aa%e3%81%a3%e8%85%b9%ef%bc%88%e3%81%9f%e3%81%a0%e3%81%97%e5%88%9d%e5%bf%83%e8%80%85%e5%90%91%e3%81%8d%e3%81%a7%e3%81%af%e3%81%aa/">続きを読む <span class="screen-reader-text">Oracle Cloudの無料枠が太っ腹（ただし初心者向きではない）</span></a></p>
<p>The post <a href="/2021/04/17/oracle-cloud%e3%81%ae%e7%84%a1%e6%96%99%e6%9e%a0%e3%81%8c%e5%a4%aa%e3%81%a3%e8%85%b9%ef%bc%88%e3%81%9f%e3%81%a0%e3%81%97%e5%88%9d%e5%bf%83%e8%80%85%e5%90%91%e3%81%8d%e3%81%a7%e3%81%af%e3%81%aa/">Oracle Cloudの無料枠が太っ腹（ただし初心者向きではない）</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>AWS以外のクラウドには仮想マシンの無料枠がある</h2>



<p>　AWSで構築したcan.ne.jpですが、維持費に毎月数ドルかかります。「AWSのメールマガジンで毎月バウチャーをもらえばホニャララ」という話もあるのですが、AWSでWebサイトを作ると初年無料を除けば基本的に有料です(2021年4月現在)。</p>



<p>　一方で、AWSに対して出遅れ感があるGCP(Google Compute Engine)やOCI(Oracle Cloud Infrastructure)は<strong>永年無料</strong>でWebサイトを構築出来る仮想マシン(Virtural Machine, VM)を立てられます。</p>



<p>　クラウドに慣れる目的もあり、GCPとOCIの双方で仮想マシンを立ててみましたが、特にオラクルのOCIが太っ腹だったのでご紹介します。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>無料枠なのにAWSのLightSailよりハイスペック</h2>



<p>　OCIの無料枠『<a href="https://docs.oracle.com/ja-jp/iaas/Content/FreeTier/resourceref.htm" target="_blank" rel="noreferrer noopener">Always Freeリソース</a>』にはデータベースやストレージもありますが、好きなデータベースをインストールして使えるのは<strong>Always Freeコンピュート仮想マシン(VM)インスタンス</strong>です。スペックは</p>



<ul><li><strong>シェイプ:</strong> VM.Standard.E2.1.Micro</li><li><strong>プロセッサ:</strong> 追加のCPUリソースを使用する機能を持つ1/8 OCPU</li><li><strong>メモリー:</strong> <strong>1 GB</strong></li><li><strong>ネットワーキング:</strong> 1つのパブリックIPアドレスと最大480 Mbpsネットワーク帯域幅を持つ1つの<strong>VNIC</strong>が含まれます</li><li><strong>オペレーティング・システム:</strong> 次のいずれかのAlways Free対応オペレーティング・システムを選択できます:<ul><li>Oracle Linux (Oracle Autonomous Linuxを含む)</li><li>Canonical <strong>Ubuntu</strong> Linux</li><li><strong>CentOS</strong> Linux</li></ul></li></ul>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>1/8 OCPUってなんぞや？</h2>



<p> 　「1/8 OCPUってなんぞや？」と調べてみたところ、AMD EPYC 7551 32-Core ProcessorというCPUの1コアが割り当てられていました。<a href="https://www.amd.com/ja/products/apu/amd-ryzen-5-pro-4650ge" target="_blank" rel="noreferrer noopener" class="broken_link">最近のCPU</a>は6コア12スレッドくらいあるので、その1コアぶんくらいでしょう。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>[opc@mysql ~]$ sudo cat /proc/cpuinfo
processor	: 0
vendor_id	: AuthenticAMD
cpu family	: 23
model		: 1
model name	: AMD EPYC 7551 32-Core Processor
stepping	: 2
microcode	: 0x1000065
cpu MHz		: 1996.249
cache size	: 512 KB
physical id	: 0
siblings	: 2
core id		: 0
cpu cores	: 1
apicid		: 0
initial apicid	: 0
fpu		: yes
fpu_exception	: yes
cpuid level	: 13
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm rep_good nopl cpuid extd_apicid tsc_known_freq pni pclmulqdq ssse3 fma cx16 sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm cmp_legacy svm cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw topoext perfctr_core ssbd ibpb vmmcall fsgsbase tsc_adjust bmi1 avx2 smep bmi2 rdseed adx smap clflushopt sha_ni xsaveopt xsavec xgetbv1 nt_good virt_ssbd arat npt nrip_save
bugs		: fxsave_leak sysret_ss_attrs null_seg spectre_v1 spectre_v2 spec_store_bypass
bogomips	: 3992.49
TLB size	: 1024 4K pages
clflush size	: 64
cache_alignment	: 64
address sizes	: 40 bits physical, 48 bits virtual
power management:

processor	: 1
vendor_id	: AuthenticAMD
cpu family	: 23
model		: 1
model name	: AMD EPYC 7551 32-Core Processor
stepping	: 2
microcode	: 0x1000065
cpu MHz		: 1996.249
cache size	: 512 KB
physical id	: 0
siblings	: 2
core id		: 0
cpu cores	: 1
apicid		: 1
initial apicid	: 1
fpu		: yes
fpu_exception	: yes
cpuid level	: 13
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm rep_good nopl cpuid extd_apicid tsc_known_freq pni pclmulqdq ssse3 fma cx16 sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm cmp_legacy svm cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw topoext perfctr_core ssbd ibpb vmmcall fsgsbase tsc_adjust bmi1 avx2 smep bmi2 rdseed adx smap clflushopt sha_ni xsaveopt xsavec xgetbv1 nt_good virt_ssbd arat npt nrip_save
bugs		: fxsave_leak sysret_ss_attrs null_seg spectre_v1 spectre_v2 spec_store_bypass
bogomips	: 3992.49
TLB size	: 1024 4K pages
clflush size	: 64
cache_alignment	: 64
address sizes	: 40 bits physical, 48 bits virtual
</code></pre></div>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>メモリー１GBは余裕がある</h2>



<p>　can.ne.jpが動いているAWS LightSailは最安プランではメモリが512MBしかありません。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="538" height="193" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/LightSail-memory.png?resize=538%2C193&#038;ssl=1" alt="" class="wp-image-425" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/LightSail-memory.png?w=538&amp;ssl=1 538w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/LightSail-memory.png?resize=300%2C108&amp;ssl=1 300w" sizes="(max-width: 538px) 100vw, 538px" data-recalc-dims="1" /><figcaption>LightSailの最安プランはメモリが512MBしかない</figcaption></figure>



<p>　OCIの仮想マシンはメモリが2倍の1GBあるので、アクセス負荷への耐性がLightSailの最安プランよりずっと高いと思われます。今から自分がWordPressのブログサイトを作るなら、少し面倒でもOCIで自分で構築すると思います。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>ストレージは100GBまでいけそう</h2>



<p>　画像をたくさん置くブログでは気になるストレージ容量ですが、「コンピュート・インスタンスをプロビジョニングする場合、インスタンスはストレージ用に50 GBのブート・ボリュームを自動的に受け取ります」との記述があり基本50GBです。</p>



<p>　さらに「ブロック・ボリュームを作成してアタッチすると、コンピュート・インスタンスのストレージ容量を拡張できます」「すべてのテナンシは、合計100 GBのAlways Freeブロック・ボリューム・ストレージと、5つのボリューム・バックアップを受け取ります」とあるので、ブロックボリュームをアタッチすることで<strong>100GBまで拡張出来る</strong>と思われます。</p>



<p>　上のLightSailプランの5倍ですね……。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>やっちまった…… Oracle Linuxってなに？？</h2>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="452" src="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/oracle_cloud_1.png?resize=750%2C452&#038;ssl=1" alt="" class="wp-image-422" srcset="https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/oracle_cloud_1.png?resize=1024%2C617&amp;ssl=1 1024w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/oracle_cloud_1.png?resize=300%2C181&amp;ssl=1 300w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/oracle_cloud_1.png?resize=768%2C463&amp;ssl=1 768w, https://i1.wp.com/can.ne.jp/wp-content/uploads/2021/04/oracle_cloud_1.png?w=1251&amp;ssl=1 1251w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　深く考えずにポチポチして仮想マシンを作ったところ、Oracle Linux 7.9という独自Linuxが入ってしまいました。Red Hat Enterprise Linuxのクローンなのでコマンド周りはCentOSに近いのですが、正直</p>



<p>「特に理由が無いのに、よく知らないOSは使いたくない。面倒くさい」</p>



<p>　というのが本音です。UbuntuやCentOSも選べるらしいので、これからOCIを始める方はOS選びに気をつけて下さい。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>セキュリティ周りが面倒くさい(間違ってはいないけど)</h2>



<p>　OCIでインスタンスを作ると、他社とは異なりデフォルトでファイアウォールが有効になっています。<a href="https://cloudii.jp/news/blog/oracle-cloud/20200519-1589854668/" target="_blank" rel="noreferrer noopener">ファイアウォールを設定してポート開放しないとWebサイトすら公開出来ない</a>ので、初心者向きではありません。</p>



<p>　とは言え、セキュリティの問題はサイトを公開する以上は避けて通れないので、敢えて苦しんで設定してみるのも良いかと思います。</p>



<p>　また、AWSやGCPには標準で備わっている『Webブラウザ版のSSHクライアント』が無い(ような)ので、<a href="http://nanno.dip.jp/softlib/man/rlogin/" target="_blank" rel="noreferrer noopener" class="broken_link">RLogin</a>などのSSHクライアントをインストールするかシェル版のsshを長いコマンドを打って起動する必要があります。こういった「とっつきやすさ」では、OCIはまだAWSやGCPより一歩遅れているように思います。</p>



<p>　オラクルのビジネスモデルを考えると、そもそも初心者やライトユーザーは見込み顧客として想定していないと思いますが……<img src="https://s.w.org/images/core/emoji/13.0.1/72x72/1f4a6.png" alt="💦" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
		<div class="wpulike wpulike-default " ><div class="wp_ulike_general_class wp_ulike_is_not_liked"><button type="button"
					aria-label="いいねボタン"
					data-ulike-id="418"
					data-ulike-nonce="6be6aae8d1"
					data-ulike-type="post"
					data-ulike-template="wpulike-default"
					data-ulike-display-likers=""
					data-ulike-likers-style="popover"
					class="wp_ulike_btn wp_ulike_put_image wp_post_btn_418"></button><span class="count-box wp_ulike_counter_up" data-ulike-counter-value="0"></span>			</div></div>
	<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=%2F2021%2F04%2F17%2Foracle-cloud%25e3%2581%25ae%25e7%2584%25a1%25e6%2596%2599%25e6%259e%25a0%25e3%2581%258c%25e5%25a4%25aa%25e3%2581%25a3%25e8%2585%25b9%25ef%25bc%2588%25e3%2581%259f%25e3%2581%25a0%25e3%2581%2597%25e5%2588%259d%25e5%25bf%2583%25e8%2580%2585%25e5%2590%2591%25e3%2581%258d%25e3%2581%25a7%25e3%2581%25af%25e3%2581%25aa%2F&amp;linkname=Oracle%20Cloud%E3%81%AE%E7%84%A1%E6%96%99%E6%9E%A0%E3%81%8C%E5%A4%AA%E3%81%A3%E8%85%B9%EF%BC%88%E3%81%9F%E3%81%A0%E3%81%97%E5%88%9D%E5%BF%83%E8%80%85%E5%90%91%E3%81%8D%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%84%EF%BC%89" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=%2F2021%2F04%2F17%2Foracle-cloud%25e3%2581%25ae%25e7%2584%25a1%25e6%2596%2599%25e6%259e%25a0%25e3%2581%258c%25e5%25a4%25aa%25e3%2581%25a3%25e8%2585%25b9%25ef%25bc%2588%25e3%2581%259f%25e3%2581%25a0%25e3%2581%2597%25e5%2588%259d%25e5%25bf%2583%25e8%2580%2585%25e5%2590%2591%25e3%2581%258d%25e3%2581%25a7%25e3%2581%25af%25e3%2581%25aa%2F&amp;linkname=Oracle%20Cloud%E3%81%AE%E7%84%A1%E6%96%99%E6%9E%A0%E3%81%8C%E5%A4%AA%E3%81%A3%E8%85%B9%EF%BC%88%E3%81%9F%E3%81%A0%E3%81%97%E5%88%9D%E5%BF%83%E8%80%85%E5%90%91%E3%81%8D%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%84%EF%BC%89" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=%2F2021%2F04%2F17%2Foracle-cloud%25e3%2581%25ae%25e7%2584%25a1%25e6%2596%2599%25e6%259e%25a0%25e3%2581%258c%25e5%25a4%25aa%25e3%2581%25a3%25e8%2585%25b9%25ef%25bc%2588%25e3%2581%259f%25e3%2581%25a0%25e3%2581%2597%25e5%2588%259d%25e5%25bf%2583%25e8%2580%2585%25e5%2590%2591%25e3%2581%258d%25e3%2581%25a7%25e3%2581%25af%25e3%2581%25aa%2F&amp;linkname=Oracle%20Cloud%E3%81%AE%E7%84%A1%E6%96%99%E6%9E%A0%E3%81%8C%E5%A4%AA%E3%81%A3%E8%85%B9%EF%BC%88%E3%81%9F%E3%81%A0%E3%81%97%E5%88%9D%E5%BF%83%E8%80%85%E5%90%91%E3%81%8D%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%84%EF%BC%89" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=%2F2021%2F04%2F17%2Foracle-cloud%25e3%2581%25ae%25e7%2584%25a1%25e6%2596%2599%25e6%259e%25a0%25e3%2581%258c%25e5%25a4%25aa%25e3%2581%25a3%25e8%2585%25b9%25ef%25bc%2588%25e3%2581%259f%25e3%2581%25a0%25e3%2581%2597%25e5%2588%259d%25e5%25bf%2583%25e8%2580%2585%25e5%2590%2591%25e3%2581%258d%25e3%2581%25a7%25e3%2581%25af%25e3%2581%25aa%2F&amp;linkname=Oracle%20Cloud%E3%81%AE%E7%84%A1%E6%96%99%E6%9E%A0%E3%81%8C%E5%A4%AA%E3%81%A3%E8%85%B9%EF%BC%88%E3%81%9F%E3%81%A0%E3%81%97%E5%88%9D%E5%BF%83%E8%80%85%E5%90%91%E3%81%8D%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%84%EF%BC%89" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=%2F2021%2F04%2F17%2Foracle-cloud%25e3%2581%25ae%25e7%2584%25a1%25e6%2596%2599%25e6%259e%25a0%25e3%2581%258c%25e5%25a4%25aa%25e3%2581%25a3%25e8%2585%25b9%25ef%25bc%2588%25e3%2581%259f%25e3%2581%25a0%25e3%2581%2597%25e5%2588%259d%25e5%25bf%2583%25e8%2580%2585%25e5%2590%2591%25e3%2581%258d%25e3%2581%25a7%25e3%2581%25af%25e3%2581%25aa%2F&amp;linkname=Oracle%20Cloud%E3%81%AE%E7%84%A1%E6%96%99%E6%9E%A0%E3%81%8C%E5%A4%AA%E3%81%A3%E8%85%B9%EF%BC%88%E3%81%9F%E3%81%A0%E3%81%97%E5%88%9D%E5%BF%83%E8%80%85%E5%90%91%E3%81%8D%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%84%EF%BC%89" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=%2F2021%2F04%2F17%2Foracle-cloud%25e3%2581%25ae%25e7%2584%25a1%25e6%2596%2599%25e6%259e%25a0%25e3%2581%258c%25e5%25a4%25aa%25e3%2581%25a3%25e8%2585%25b9%25ef%25bc%2588%25e3%2581%259f%25e3%2581%25a0%25e3%2581%2597%25e5%2588%259d%25e5%25bf%2583%25e8%2580%2585%25e5%2590%2591%25e3%2581%258d%25e3%2581%25a7%25e3%2581%25af%25e3%2581%25aa%2F&#038;title=Oracle%20Cloud%E3%81%AE%E7%84%A1%E6%96%99%E6%9E%A0%E3%81%8C%E5%A4%AA%E3%81%A3%E8%85%B9%EF%BC%88%E3%81%9F%E3%81%A0%E3%81%97%E5%88%9D%E5%BF%83%E8%80%85%E5%90%91%E3%81%8D%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%84%EF%BC%89" data-a2a-url="/2021/04/17/oracle-cloud%e3%81%ae%e7%84%a1%e6%96%99%e6%9e%a0%e3%81%8c%e5%a4%aa%e3%81%a3%e8%85%b9%ef%bc%88%e3%81%9f%e3%81%a0%e3%81%97%e5%88%9d%e5%bf%83%e8%80%85%e5%90%91%e3%81%8d%e3%81%a7%e3%81%af%e3%81%aa/" data-a2a-title="Oracle Cloudの無料枠が太っ腹（ただし初心者向きではない）"></a></p><p>The post <a href="/2021/04/17/oracle-cloud%e3%81%ae%e7%84%a1%e6%96%99%e6%9e%a0%e3%81%8c%e5%a4%aa%e3%81%a3%e8%85%b9%ef%bc%88%e3%81%9f%e3%81%a0%e3%81%97%e5%88%9d%e5%bf%83%e8%80%85%e5%90%91%e3%81%8d%e3%81%a7%e3%81%af%e3%81%aa/">Oracle Cloudの無料枠が太っ腹（ただし初心者向きではない）</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>/2021/04/17/oracle-cloud%e3%81%ae%e7%84%a1%e6%96%99%e6%9e%a0%e3%81%8c%e5%a4%aa%e3%81%a3%e8%85%b9%ef%bc%88%e3%81%9f%e3%81%a0%e3%81%97%e5%88%9d%e5%bf%83%e8%80%85%e5%90%91%e3%81%8d%e3%81%a7%e3%81%af%e3%81%aa/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">418</post-id>	</item>
		<item>
		<title>CloudFront+LightSailでスケーラビリティが(それなりに)あるサイトを安く作る</title>
		<link>/2021/04/16/cloudfrontlightsail%e3%81%a7%e3%82%b9%e3%82%b1%e3%83%bc%e3%83%a9%e3%83%93%e3%83%aa%e3%83%86%e3%82%a3%e3%81%8c%e3%81%9d%e3%82%8c%e3%81%aa%e3%82%8a%e3%81%ab%e3%81%82%e3%82%8b%e3%82%b5%e3%82%a4/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=cloudfrontlightsail%25e3%2581%25a7%25e3%2582%25b9%25e3%2582%25b1%25e3%2583%25bc%25e3%2583%25a9%25e3%2583%2593%25e3%2583%25aa%25e3%2583%2586%25e3%2582%25a3%25e3%2581%258c%25e3%2581%259d%25e3%2582%258c%25e3%2581%25aa%25e3%2582%258a%25e3%2581%25ab%25e3%2581%2582%25e3%2582%258b%25e3%2582%25b5%25e3%2582%25a4</link>
					<comments>/2021/04/16/cloudfrontlightsail%e3%81%a7%e3%82%b9%e3%82%b1%e3%83%bc%e3%83%a9%e3%83%93%e3%83%aa%e3%83%86%e3%82%a3%e3%81%8c%e3%81%9d%e3%82%8c%e3%81%aa%e3%82%8a%e3%81%ab%e3%81%82%e3%82%8b%e3%82%b5%e3%82%a4/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Fri, 16 Apr 2021 08:33:46 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[Webマーケティング]]></category>
		<category><![CDATA[CDN]]></category>
		<category><![CDATA[Cloudflare]]></category>
		<category><![CDATA[Cloudfront]]></category>
		<category><![CDATA[Lightsail]]></category>
		<category><![CDATA[Route 53]]></category>
		<category><![CDATA[WordPress]]></category>
		<category><![CDATA[エッジサーバー]]></category>
		<category><![CDATA[オリジンサーバー]]></category>
		<category><![CDATA[コンテンツ配信]]></category>
		<guid isPermaLink="false">/?p=412</guid>

					<description><![CDATA[<p>敢えてサイト丸ごとCDNにしない 　can.ne.jpではサイトを丸ごとCDN(配信サービス)で配信しないようにしています。CloudFrontなどのCDNはそれなりにお高い上に、フォームを置いたインタラクティブなサイト&#8230; <a class="more-link" href="/2021/04/16/cloudfrontlightsail%e3%81%a7%e3%82%b9%e3%82%b1%e3%83%bc%e3%83%a9%e3%83%93%e3%83%aa%e3%83%86%e3%82%a3%e3%81%8c%e3%81%9d%e3%82%8c%e3%81%aa%e3%82%8a%e3%81%ab%e3%81%82%e3%82%8b%e3%82%b5%e3%82%a4/">続きを読む <span class="screen-reader-text">CloudFront+LightSailでスケーラビリティが(それなりに)あるサイトを安く作る</span></a></p>
<p>The post <a href="/2021/04/16/cloudfrontlightsail%e3%81%a7%e3%82%b9%e3%82%b1%e3%83%bc%e3%83%a9%e3%83%93%e3%83%aa%e3%83%86%e3%82%a3%e3%81%8c%e3%81%9d%e3%82%8c%e3%81%aa%e3%82%8a%e3%81%ab%e3%81%82%e3%82%8b%e3%82%b5%e3%82%a4/">CloudFront+LightSailでスケーラビリティが(それなりに)あるサイトを安く作る</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>敢えてサイト丸ごとCDNにしない</h2>



<p>　can.ne.jpではサイトを丸ごとCDN(配信サービス)で配信しないようにしています。CloudFrontなどのCDNはそれなりにお高い上に、フォームを置いたインタラクティブなサイトでトラブルが生じる可能性を否定出来ないからです。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>動画や画像だけCDNに置く</h2>



<p>　can.ne.jpが使っているWordPressというCMSは基本的にはローカルでファイルを管理します。ただし、『HTMLブロック』機能でリンクを手書きすれば外部の画像を表示出来ます。</p>



<p>　また、WordPressプラグインの動画プレイヤー『<a href="https://ja.wordpress.org/plugins/fv-wordpress-flowplayer/" target="_blank" rel="noreferrer noopener">FV Flowplayer Video Player</a>』や音声プレイヤー『<a href="https://ja.wordpress.org/plugins/mp3-music-player-by-sonaar/" target="_blank" rel="noreferrer noopener">MP3 Music Player by Sonaar</a>』はURL指定で外部ファイルを再生できます。</p>



<p>　これらを使うことで、ファイルサイズが大きい動画や画像だけをCDNに置くことが出来ます。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>2サーバー＋CloudFront構成で大きなファイルだけCDN配信する</h2>



<p>　これらを念頭に置いて構築したcan.ne.jpの構成図は下記となります。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="422" src="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/cloudFront_can.png?resize=750%2C422&#038;ssl=1" alt="can.ne.jpのCDN構成図" class="wp-image-413" srcset="https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/cloudFront_can.png?resize=1024%2C576&amp;ssl=1 1024w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/cloudFront_can.png?resize=300%2C169&amp;ssl=1 300w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/cloudFront_can.png?resize=768%2C432&amp;ssl=1 768w, https://i2.wp.com/can.ne.jp/wp-content/uploads/2021/04/cloudFront_can.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　まず、WordPress MultiSiteを設置したブログサーバー(can.ne.jp)とは別に配信サーバー(cloudfront.can.ne.jp)をLightSailで作ります。ただのファイル置き場なのでCMSなどは動かさず、Webサーバーも高速と言われるNginxを選びました。このようなサーバーを『オリジンサーバー』と呼びます。オリジンサーバーは外部からのアクセスを想定しないため、SSL証明書は不要です。</p>



<p>　次に、CloudFrontのインスタンス(cf.can.ne.jp)を作成してSSL証明書を取得します。can.ne.jpのドメインはAWSのDNSサーバー『Route 53』に置いているので、cf.can.ne.jpへのアクセスをCloudFrontに流し込む設定を簡単に行えます。</p>



<p>　なお、CloudFrontのようにサイト訪問者に最寄りから高速にデータを配信するサーバーを『エッジサーバー』と呼びます。各種設定の際は、オリジンサーバーとエッジサーバーが別のサーバー名(FQDN)になる点に気を付けて下さい。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>Amazonの回し者のような図をついに描いてしまいましたが</h2>



<p>　AWSがAmazonの利益率が高い事業であることは知っているので、AWSが決して『最安』ではないとの認識です(Amazonの商品が必ずしも最安ではないように)。</p>



<p>　CDNの導入にあたっては、<a href="https://www.cloudflare.com/ja-jp/" target="_blank" rel="noreferrer noopener">無料枠があるCloudflare</a>も検討しました。しかしDNSをRoute 53からCloudflareに移さなければならないことが分かったため断念しました。とにかく安くサイトを運営したいなら、DNSを設置する段階からCloudflareを選んでおくのが良いと思います。</p>



<p>　また、CDNを選ぶ際はエッジサーバーが<strong>日本国内で</strong>どの程度配備されているかが重要なポイントとなります。個人サイトなら落ちさえしなければ遅くても構いません(笑)。しかしビジネス目的なら<strong>国内に</strong>多数のエッジロケーションがあるかどうかが配信速度を左右しますので、無難にCloudFrontや、お高いことで有名なAxxxxxなど有名なサービスを選ぶことになると思います。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>CDNは「逃げられるようにしておく」のが大事</h2>



<p>　ロートルWeb担当者なら身に覚えがあるかも知れませんが、昔はCDNと言えばAxxxxx社だったので、CDNを入れるイコール「青天井の予算を組む」という恐ろしいタスクでした。</p>



<p>　特に企業サイトでは新製品発表など訪問者がスパイクするタイミングで波の大きさがどれくらいになるか、なかなか読めないものです。発表日にはCDNのコンソール画面に貼りついて、アクセスが殺到して予算超過にならないか見張らなければなりません。</p>



<p>　「いよいよ予算的にヤバイ」となれば、泣きながら手動でリンクをオリジンサーバーに付け替えるわけです。これでサーバーが重くなったり最悪落ちるかも知れませんが、CDNの青天井課金から逃げることだけは出来ます。</p>



<p>　「そもそもアクセスが殺到しても耐えられるくらい予算を確保(できる会社に就職)しておけよ」という正論が聞こえてきますが、悲しきかな日本の社畜はそうも行かないのが常です。保身の手段として覚えておくと良い、かも知れません。</p>
		<div class="wpulike wpulike-default " ><div class="wp_ulike_general_class wp_ulike_is_not_liked"><button type="button"
					aria-label="いいねボタン"
					data-ulike-id="412"
					data-ulike-nonce="677f330df7"
					data-ulike-type="post"
					data-ulike-template="wpulike-default"
					data-ulike-display-likers=""
					data-ulike-likers-style="popover"
					class="wp_ulike_btn wp_ulike_put_image wp_post_btn_412"></button><span class="count-box wp_ulike_counter_up" data-ulike-counter-value="0"></span>			</div></div>
	<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=%2F2021%2F04%2F16%2Fcloudfrontlightsail%25e3%2581%25a7%25e3%2582%25b9%25e3%2582%25b1%25e3%2583%25bc%25e3%2583%25a9%25e3%2583%2593%25e3%2583%25aa%25e3%2583%2586%25e3%2582%25a3%25e3%2581%258c%25e3%2581%259d%25e3%2582%258c%25e3%2581%25aa%25e3%2582%258a%25e3%2581%25ab%25e3%2581%2582%25e3%2582%258b%25e3%2582%25b5%25e3%2582%25a4%2F&amp;linkname=CloudFront%2BLightSail%E3%81%A7%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%A9%E3%83%93%E3%83%AA%E3%83%86%E3%82%A3%E3%81%8C%28%E3%81%9D%E3%82%8C%E3%81%AA%E3%82%8A%E3%81%AB%29%E3%81%82%E3%82%8B%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E5%AE%89%E3%81%8F%E4%BD%9C%E3%82%8B" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=%2F2021%2F04%2F16%2Fcloudfrontlightsail%25e3%2581%25a7%25e3%2582%25b9%25e3%2582%25b1%25e3%2583%25bc%25e3%2583%25a9%25e3%2583%2593%25e3%2583%25aa%25e3%2583%2586%25e3%2582%25a3%25e3%2581%258c%25e3%2581%259d%25e3%2582%258c%25e3%2581%25aa%25e3%2582%258a%25e3%2581%25ab%25e3%2581%2582%25e3%2582%258b%25e3%2582%25b5%25e3%2582%25a4%2F&amp;linkname=CloudFront%2BLightSail%E3%81%A7%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%A9%E3%83%93%E3%83%AA%E3%83%86%E3%82%A3%E3%81%8C%28%E3%81%9D%E3%82%8C%E3%81%AA%E3%82%8A%E3%81%AB%29%E3%81%82%E3%82%8B%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E5%AE%89%E3%81%8F%E4%BD%9C%E3%82%8B" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=%2F2021%2F04%2F16%2Fcloudfrontlightsail%25e3%2581%25a7%25e3%2582%25b9%25e3%2582%25b1%25e3%2583%25bc%25e3%2583%25a9%25e3%2583%2593%25e3%2583%25aa%25e3%2583%2586%25e3%2582%25a3%25e3%2581%258c%25e3%2581%259d%25e3%2582%258c%25e3%2581%25aa%25e3%2582%258a%25e3%2581%25ab%25e3%2581%2582%25e3%2582%258b%25e3%2582%25b5%25e3%2582%25a4%2F&amp;linkname=CloudFront%2BLightSail%E3%81%A7%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%A9%E3%83%93%E3%83%AA%E3%83%86%E3%82%A3%E3%81%8C%28%E3%81%9D%E3%82%8C%E3%81%AA%E3%82%8A%E3%81%AB%29%E3%81%82%E3%82%8B%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E5%AE%89%E3%81%8F%E4%BD%9C%E3%82%8B" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=%2F2021%2F04%2F16%2Fcloudfrontlightsail%25e3%2581%25a7%25e3%2582%25b9%25e3%2582%25b1%25e3%2583%25bc%25e3%2583%25a9%25e3%2583%2593%25e3%2583%25aa%25e3%2583%2586%25e3%2582%25a3%25e3%2581%258c%25e3%2581%259d%25e3%2582%258c%25e3%2581%25aa%25e3%2582%258a%25e3%2581%25ab%25e3%2581%2582%25e3%2582%258b%25e3%2582%25b5%25e3%2582%25a4%2F&amp;linkname=CloudFront%2BLightSail%E3%81%A7%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%A9%E3%83%93%E3%83%AA%E3%83%86%E3%82%A3%E3%81%8C%28%E3%81%9D%E3%82%8C%E3%81%AA%E3%82%8A%E3%81%AB%29%E3%81%82%E3%82%8B%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E5%AE%89%E3%81%8F%E4%BD%9C%E3%82%8B" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=%2F2021%2F04%2F16%2Fcloudfrontlightsail%25e3%2581%25a7%25e3%2582%25b9%25e3%2582%25b1%25e3%2583%25bc%25e3%2583%25a9%25e3%2583%2593%25e3%2583%25aa%25e3%2583%2586%25e3%2582%25a3%25e3%2581%258c%25e3%2581%259d%25e3%2582%258c%25e3%2581%25aa%25e3%2582%258a%25e3%2581%25ab%25e3%2581%2582%25e3%2582%258b%25e3%2582%25b5%25e3%2582%25a4%2F&amp;linkname=CloudFront%2BLightSail%E3%81%A7%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%A9%E3%83%93%E3%83%AA%E3%83%86%E3%82%A3%E3%81%8C%28%E3%81%9D%E3%82%8C%E3%81%AA%E3%82%8A%E3%81%AB%29%E3%81%82%E3%82%8B%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E5%AE%89%E3%81%8F%E4%BD%9C%E3%82%8B" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=%2F2021%2F04%2F16%2Fcloudfrontlightsail%25e3%2581%25a7%25e3%2582%25b9%25e3%2582%25b1%25e3%2583%25bc%25e3%2583%25a9%25e3%2583%2593%25e3%2583%25aa%25e3%2583%2586%25e3%2582%25a3%25e3%2581%258c%25e3%2581%259d%25e3%2582%258c%25e3%2581%25aa%25e3%2582%258a%25e3%2581%25ab%25e3%2581%2582%25e3%2582%258b%25e3%2582%25b5%25e3%2582%25a4%2F&#038;title=CloudFront%2BLightSail%E3%81%A7%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%A9%E3%83%93%E3%83%AA%E3%83%86%E3%82%A3%E3%81%8C%28%E3%81%9D%E3%82%8C%E3%81%AA%E3%82%8A%E3%81%AB%29%E3%81%82%E3%82%8B%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E5%AE%89%E3%81%8F%E4%BD%9C%E3%82%8B" data-a2a-url="/2021/04/16/cloudfrontlightsail%e3%81%a7%e3%82%b9%e3%82%b1%e3%83%bc%e3%83%a9%e3%83%93%e3%83%aa%e3%83%86%e3%82%a3%e3%81%8c%e3%81%9d%e3%82%8c%e3%81%aa%e3%82%8a%e3%81%ab%e3%81%82%e3%82%8b%e3%82%b5%e3%82%a4/" data-a2a-title="CloudFront+LightSailでスケーラビリティが(それなりに)あるサイトを安く作る"></a></p><p>The post <a href="/2021/04/16/cloudfrontlightsail%e3%81%a7%e3%82%b9%e3%82%b1%e3%83%bc%e3%83%a9%e3%83%93%e3%83%aa%e3%83%86%e3%82%a3%e3%81%8c%e3%81%9d%e3%82%8c%e3%81%aa%e3%82%8a%e3%81%ab%e3%81%82%e3%82%8b%e3%82%b5%e3%82%a4/">CloudFront+LightSailでスケーラビリティが(それなりに)あるサイトを安く作る</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>/2021/04/16/cloudfrontlightsail%e3%81%a7%e3%82%b9%e3%82%b1%e3%83%bc%e3%83%a9%e3%83%93%e3%83%aa%e3%83%86%e3%82%a3%e3%81%8c%e3%81%9d%e3%82%8c%e3%81%aa%e3%82%8a%e3%81%ab%e3%81%82%e3%82%8b%e3%82%b5%e3%82%a4/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">412</post-id>	</item>
		<item>
		<title>Next.jsで苦しんでいます</title>
		<link>/2021/04/15/next-js%e3%81%a7%e8%8b%a6%e3%81%97%e3%82%93%e3%81%a7%e3%81%84%e3%81%be%e3%81%99/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=next-js%25e3%2581%25a7%25e8%258b%25a6%25e3%2581%2597%25e3%2582%2593%25e3%2581%25a7%25e3%2581%2584%25e3%2581%25be%25e3%2581%2599</link>
					<comments>/2021/04/15/next-js%e3%81%a7%e8%8b%a6%e3%81%97%e3%82%93%e3%81%a7%e3%81%84%e3%81%be%e3%81%99/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Wed, 14 Apr 2021 16:22:55 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[Webデザイン]]></category>
		<category><![CDATA[Next.js]]></category>
		<category><![CDATA[node.js]]></category>
		<category><![CDATA[React]]></category>
		<category><![CDATA[TypeScript]]></category>
		<guid isPermaLink="false">/?p=407</guid>

					<description><![CDATA[<p>Node.js以来、Web周辺の技術はすっかり変わってしまった 　WordPressによるサイト構築で苦しむことはなかった私ですが、Node.js以降時代が変わりSPA(Single Page Application)や&#8230; <a class="more-link" href="/2021/04/15/next-js%e3%81%a7%e8%8b%a6%e3%81%97%e3%82%93%e3%81%a7%e3%81%84%e3%81%be%e3%81%99/">続きを読む <span class="screen-reader-text">Next.jsで苦しんでいます</span></a></p>
<p>The post <a href="/2021/04/15/next-js%e3%81%a7%e8%8b%a6%e3%81%97%e3%82%93%e3%81%a7%e3%81%84%e3%81%be%e3%81%99/">Next.jsで苦しんでいます</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>Node.js以来、Web周辺の技術はすっかり変わってしまった</h2>



<p>　WordPressによるサイト構築で苦しむことはなかった私ですが、Node.js以降時代が変わりSPA(Single Page Application)やJamstack(JavaScript/APIs/Markup)など訳の分からない技術であふれています。</p>



<p>　「<strong>PHPのままでいいじゃん</strong>」と正直思っているのですが、時代の変化から目を背けるとどんどん「昔の人」になり、「仕事では使えねーやつ」と若い人から後ろ指を差されてしまいます。</p>



<p>　基本的にはJavaScriptを用いたWebサイトの高速化とアプリ化、API連携あたりがトレンドなのだろうとは理解していますが、あまりにも複雑過ぎて手を出せないまま今日まで来てしまいました。さらにTypeScriptなる派生言語まで出てきて、おじさんはどこから始めたら良いかすら分からず頭を抱えています。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>またインストールおじさんに</h2>



<p>　取り敢えず環境を構築してみないと分かるか分からないかも分からないので、泣きながら環境構築を始めました。</p>



<p>　しかしフロントエンド周りの環境は複雑を極めており、エラーと試行錯誤とフォルダごと削除を何時間も繰り返すような地獄の様相です。素人なので確たることは言えませんが、フレームワークが林立して「混乱している」ように感じます。npm?npx?yarn?と首をかしげているうちに環境がぶっ壊れてしまいます。</p>



<p>　一番きつかったのが、またもやAnacondaとの競合です。Anacondaが起因と見られるエラーでインストールが止まってしまいました。仮想環境を切り替えても解決しなかったので、止むなくUbuntu LinuxにWeb専用のアカウントを追加し、そちらで作業することで何とかHello Worldまではこぎつけることが出来ました。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>データ分析用とWeb開発用はアカウントを分けた方が良い</h2>



<p>　完璧な設定をすればデータ分析用とWeb開発用で共通のアカウントを使うことも出来るのでしょう。しかし複数のフレームワークが混ざることに伴うトラブルシューティングの手間を考えれば、<strong>最初から</strong>Web開発用のアカウントを別途作成した方が苦しまずに済むのではないかと思います。</p>



<p>　半日環境構築で格闘して皆さまのお役に立てそうなTipsはこれだけでした……。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>今のフロントエンドは『プログラマー』になる覚悟が必要</h2>



<p>　HTML/CSS、PHPあたりを軽くかじってWordPressなどのCMSをポチポチしてきただけの人には、相当厳しいと思います。今のフロントエンドは、Pythonなどと同様『プログラマー』になる覚悟が必要です。</p>



<p>　WordPressですべての用が足りている人は、無理に次のトレンドに乗る必要はないと思います。しかし、私のようにWeb担当の経験くらいしか売りモノがないおじさんは、この塹壕戦から逃れることが出来ません。</p>



<p>　正直、なぜフロントエンドをここまで複雑にしなければならないのか、未だに腑に落ちないところがあります。しかし時代の変化を嘆いていても仕方ないので、可能な限りキャッチアップしていきたいと思います。</p>



<p>　そんなわけで、更新が滞り気味な私の近況報告でした。</p>
		<div class="wpulike wpulike-default " ><div class="wp_ulike_general_class wp_ulike_is_not_liked"><button type="button"
					aria-label="いいねボタン"
					data-ulike-id="407"
					data-ulike-nonce="8c63f2da1d"
					data-ulike-type="post"
					data-ulike-template="wpulike-default"
					data-ulike-display-likers=""
					data-ulike-likers-style="popover"
					class="wp_ulike_btn wp_ulike_put_image wp_post_btn_407"></button><span class="count-box wp_ulike_counter_up" data-ulike-counter-value="0"></span>			</div></div>
	<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=%2F2021%2F04%2F15%2Fnext-js%25e3%2581%25a7%25e8%258b%25a6%25e3%2581%2597%25e3%2582%2593%25e3%2581%25a7%25e3%2581%2584%25e3%2581%25be%25e3%2581%2599%2F&amp;linkname=Next.js%E3%81%A7%E8%8B%A6%E3%81%97%E3%82%93%E3%81%A7%E3%81%84%E3%81%BE%E3%81%99" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=%2F2021%2F04%2F15%2Fnext-js%25e3%2581%25a7%25e8%258b%25a6%25e3%2581%2597%25e3%2582%2593%25e3%2581%25a7%25e3%2581%2584%25e3%2581%25be%25e3%2581%2599%2F&amp;linkname=Next.js%E3%81%A7%E8%8B%A6%E3%81%97%E3%82%93%E3%81%A7%E3%81%84%E3%81%BE%E3%81%99" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=%2F2021%2F04%2F15%2Fnext-js%25e3%2581%25a7%25e8%258b%25a6%25e3%2581%2597%25e3%2582%2593%25e3%2581%25a7%25e3%2581%2584%25e3%2581%25be%25e3%2581%2599%2F&amp;linkname=Next.js%E3%81%A7%E8%8B%A6%E3%81%97%E3%82%93%E3%81%A7%E3%81%84%E3%81%BE%E3%81%99" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=%2F2021%2F04%2F15%2Fnext-js%25e3%2581%25a7%25e8%258b%25a6%25e3%2581%2597%25e3%2582%2593%25e3%2581%25a7%25e3%2581%2584%25e3%2581%25be%25e3%2581%2599%2F&amp;linkname=Next.js%E3%81%A7%E8%8B%A6%E3%81%97%E3%82%93%E3%81%A7%E3%81%84%E3%81%BE%E3%81%99" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=%2F2021%2F04%2F15%2Fnext-js%25e3%2581%25a7%25e8%258b%25a6%25e3%2581%2597%25e3%2582%2593%25e3%2581%25a7%25e3%2581%2584%25e3%2581%25be%25e3%2581%2599%2F&amp;linkname=Next.js%E3%81%A7%E8%8B%A6%E3%81%97%E3%82%93%E3%81%A7%E3%81%84%E3%81%BE%E3%81%99" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=%2F2021%2F04%2F15%2Fnext-js%25e3%2581%25a7%25e8%258b%25a6%25e3%2581%2597%25e3%2582%2593%25e3%2581%25a7%25e3%2581%2584%25e3%2581%25be%25e3%2581%2599%2F&#038;title=Next.js%E3%81%A7%E8%8B%A6%E3%81%97%E3%82%93%E3%81%A7%E3%81%84%E3%81%BE%E3%81%99" data-a2a-url="/2021/04/15/next-js%e3%81%a7%e8%8b%a6%e3%81%97%e3%82%93%e3%81%a7%e3%81%84%e3%81%be%e3%81%99/" data-a2a-title="Next.jsで苦しんでいます"></a></p><p>The post <a href="/2021/04/15/next-js%e3%81%a7%e8%8b%a6%e3%81%97%e3%82%93%e3%81%a7%e3%81%84%e3%81%be%e3%81%99/">Next.jsで苦しんでいます</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>/2021/04/15/next-js%e3%81%a7%e8%8b%a6%e3%81%97%e3%82%93%e3%81%a7%e3%81%84%e3%81%be%e3%81%99/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">407</post-id>	</item>
		<item>
		<title>Cloudfront+LightSailでコンテンツ配信サービス(CDN)を作る</title>
		<link>/2021/04/12/cloudfrontlightsail%e3%81%a7%e3%82%b3%e3%83%b3%e3%83%86%e3%83%b3%e3%83%84%e9%85%8d%e4%bf%a1%e3%82%b5%e3%83%bc%e3%83%93%e3%82%b9cdn%e3%82%92%e4%bd%9c%e3%82%8b/?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=cloudfrontlightsail%25e3%2581%25a7%25e3%2582%25b3%25e3%2583%25b3%25e3%2583%2586%25e3%2583%25b3%25e3%2583%2584%25e9%2585%258d%25e4%25bf%25a1%25e3%2582%25b5%25e3%2583%25bc%25e3%2583%2593%25e3%2582%25b9cdn%25e3%2582%2592%25e4%25bd%259c%25e3%2582%258b</link>
					<comments>/2021/04/12/cloudfrontlightsail%e3%81%a7%e3%82%b3%e3%83%b3%e3%83%86%e3%83%b3%e3%83%84%e9%85%8d%e4%bf%a1%e3%82%b5%e3%83%bc%e3%83%93%e3%82%b9cdn%e3%82%92%e4%bd%9c%e3%82%8b/#respond</comments>
		
		<dc:creator><![CDATA[masaru]]></dc:creator>
		<pubDate>Mon, 12 Apr 2021 10:00:39 +0000</pubDate>
				<category><![CDATA[IT]]></category>
		<category><![CDATA[Webマーケティング]]></category>
		<category><![CDATA[AWS]]></category>
		<category><![CDATA[CDN]]></category>
		<category><![CDATA[Certificate Manager]]></category>
		<category><![CDATA[Cloudfront]]></category>
		<category><![CDATA[Lightsail]]></category>
		<category><![CDATA[nginx]]></category>
		<category><![CDATA[Route 53]]></category>
		<category><![CDATA[コンテンツ配信]]></category>
		<guid isPermaLink="false">/?p=389</guid>

					<description><![CDATA[<p>自前主義なら動画まで 　「自前主義で行こう」と独自ドメインでサイトを再開した私ですが、動画はYouTube先生に依存しています。動画はファイルが大きいので自分のサイトに置くのは正直怖いのですが、自前主義をテーマにしてみた&#8230; <a class="more-link" href="/2021/04/12/cloudfrontlightsail%e3%81%a7%e3%82%b3%e3%83%b3%e3%83%86%e3%83%b3%e3%83%84%e9%85%8d%e4%bf%a1%e3%82%b5%e3%83%bc%e3%83%93%e3%82%b9cdn%e3%82%92%e4%bd%9c%e3%82%8b/">続きを読む <span class="screen-reader-text">Cloudfront+LightSailでコンテンツ配信サービス(CDN)を作る</span></a></p>
<p>The post <a href="/2021/04/12/cloudfrontlightsail%e3%81%a7%e3%82%b3%e3%83%b3%e3%83%86%e3%83%b3%e3%83%84%e9%85%8d%e4%bf%a1%e3%82%b5%e3%83%bc%e3%83%93%e3%82%b9cdn%e3%82%92%e4%bd%9c%e3%82%8b/">Cloudfront+LightSailでコンテンツ配信サービス(CDN)を作る</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></description>
										<content:encoded><![CDATA[<h2>自前主義なら動画まで</h2>



<p>　「自前主義で行こう」と独自ドメインでサイトを再開した私ですが、動画は<a href="https://www.youtube.com/channel/UCd3DAD-J-ThujX9_a22KqSA" target="_blank" rel="noreferrer noopener">YouTube先生に依存</a>しています。動画はファイルが大きいので自分のサイトに置くのは正直怖いのですが、自前主義をテーマにしてみたので動画もサイトに置いてみることにしました。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>LightSailは安いがしょぼい</h2>



<p>　<a href="https://aws.amazon.com/jp/lightsail/" target="_blank" rel="noreferrer noopener">LightSail</a>はAmazonの格安ホスティングサービスで「月額 3.50 USD から」が売りです。お財布に余裕が無い私は迷わず3.5ドルコースを選びましたが、スペックは下記のようなものです。</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="393" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/three_point_five_dollors.png?resize=750%2C393&#038;ssl=1" alt="" class="wp-image-398" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/three_point_five_dollors.png?resize=1024%2C536&amp;ssl=1 1024w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/three_point_five_dollors.png?resize=300%2C157&amp;ssl=1 300w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/three_point_five_dollors.png?resize=768%2C402&amp;ssl=1 768w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/three_point_five_dollors.png?w=1480&amp;ssl=1 1480w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　うちのパソコンよりしょぼいです<img src="https://s.w.org/images/core/emoji/13.0.1/72x72/1f4a6.png" alt="💦" class="wp-smiley" style="height: 1em; max-height: 1em;" />　無名サイトなので余裕ではあるのですが、動画を置くのは怖い。というわけで、Amazonのコンテンツ配信サービス(CDN)　『CloudFront』を入れてみることにしました。</p>



<p>　CloudFrontはWebサーバーのファイルをキャッシュして配信を代行してくれるサービスです。<a href="https://codezine.jp/article/detail/13741" target="_blank" rel="noreferrer noopener">CodeZine</a>によれば「<strong>東京における16のCloudFrontエッジロケーション</strong>および1つのCloudFrontリージョナルエッジキャッシュ、2つのAWS Direct Connectロケーション、<strong>大阪における1つのCloudFrontエッジロケーション</strong>、および1つのDirect Connectロケーション」とあり、2021年3月時点で日本国内に17か所の配信サーバーがあります。</p>



<p>　これならWebサーバーがしょぼいままでも、動画をCloudFrontに置けば、万が一アクセスが増えてもサーバーが落ちる事態は防げそうです。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>で、CloudFrontはナンボなの？</h2>



<p>　「でも、お高いんでしょう？」</p>



<p>　特に仕事でアカマイなどのCDNを入れたことがある方は、とても、とても心配になると思います。実際、企業向けのサービスなので<a href="https://aws.amazon.com/jp/cloudfront/pricing/" target="_blank" rel="noreferrer noopener">多少の出費は覚悟する必要があります</a>。具体的には、</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="750" height="465" src="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/CloudFront-Price.png?resize=750%2C465&#038;ssl=1" alt="" class="wp-image-399" srcset="https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/CloudFront-Price.png?resize=1024%2C635&amp;ssl=1 1024w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/CloudFront-Price.png?resize=300%2C186&amp;ssl=1 300w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/CloudFront-Price.png?resize=768%2C476&amp;ssl=1 768w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/CloudFront-Price.png?resize=1536%2C953&amp;ssl=1 1536w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/CloudFront-Price.png?resize=2048%2C1271&amp;ssl=1 2048w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/CloudFront-Price.png?resize=1568%2C973&amp;ssl=1 1568w, https://i0.wp.com/can.ne.jp/wp-content/uploads/2021/04/CloudFront-Price.png?w=2250&amp;ssl=1 2250w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" /></figure>



<p>　日本向けの料金が1GBあたり0.114ドルです。20MBの動画が月間1万再生されると約200GBになりますので、月22.8ドルになります。</p>



<p>「やはり、お高い……」</p>



<p>　しかしここはぐっと歯を食いしばって「1万再生もあれば22.8ドルくらいの収入は期待出来るだろう」と前向きに考えます。</p>



<div style="height:100px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>CloudFront、なんとか動きました</h2>



<p>　その後試行錯誤した結果、なんとかCloudFrontを動かすことが出来ました。</p>



<div class="hcb_wrap"><pre class="prism line-numbers lang-bash" data-lang="Bash"><code>$ curl -svo /dev/null https://cf.can.ne.jp/v/my-domain-in-2020s.mp
4
*   Trying 54.239.169.55:443...
* Connected to cf.can.ne.jp (54.239.169.55) port 443 (#0)
* ALPN, offering http/1.1
* successfully set certificate verify locations:
*  CAfile: /opt/bitnami/common/openssl/certs/curl-ca-bundle.crt
*  CApath: none
...
&lt; HTTP/1.1 200 OK
&lt; Content-Type: video/mp4
&lt; Content-Length: 13960998
&lt; Connection: keep-alive
&lt; Server: nginx
&lt; Date: Mon, 12 Apr 2021 09:15:50 GMT
&lt; Last-Modified: Mon, 12 Apr 2021 08:33:00 GMT
&lt; ETag: &quot;607405bc-d50726&quot;
&lt; X-Frame-Options: SAMEORIGIN
&lt; X-Cache: Hit from cloudfront</code></pre></div>



<p class="has-white-background-color has-text-color has-background" style="color:#a30000"><strong>X-Cache: Hit from cloudfront</strong></p>



<p> 　次回以降、どのような設定を行ったかをゆっくり書いていきたいと思います。</p>
		<div class="wpulike wpulike-default " ><div class="wp_ulike_general_class wp_ulike_is_not_liked"><button type="button"
					aria-label="いいねボタン"
					data-ulike-id="389"
					data-ulike-nonce="5bed318971"
					data-ulike-type="post"
					data-ulike-template="wpulike-default"
					data-ulike-display-likers=""
					data-ulike-likers-style="popover"
					class="wp_ulike_btn wp_ulike_put_image wp_post_btn_389"></button><span class="count-box wp_ulike_counter_up" data-ulike-counter-value="+1"></span>			</div></div>
	<p><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=%2F2021%2F04%2F12%2Fcloudfrontlightsail%25e3%2581%25a7%25e3%2582%25b3%25e3%2583%25b3%25e3%2583%2586%25e3%2583%25b3%25e3%2583%2584%25e9%2585%258d%25e4%25bf%25a1%25e3%2582%25b5%25e3%2583%25bc%25e3%2583%2593%25e3%2582%25b9cdn%25e3%2582%2592%25e4%25bd%259c%25e3%2582%258b%2F&amp;linkname=Cloudfront%2BLightSail%E3%81%A7%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E9%85%8D%E4%BF%A1%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%28CDN%29%E3%82%92%E4%BD%9C%E3%82%8B" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_line" href="https://www.addtoany.com/add_to/line?linkurl=%2F2021%2F04%2F12%2Fcloudfrontlightsail%25e3%2581%25a7%25e3%2582%25b3%25e3%2583%25b3%25e3%2583%2586%25e3%2583%25b3%25e3%2583%2584%25e9%2585%258d%25e4%25bf%25a1%25e3%2582%25b5%25e3%2583%25bc%25e3%2583%2593%25e3%2582%25b9cdn%25e3%2582%2592%25e4%25bd%259c%25e3%2582%258b%2F&amp;linkname=Cloudfront%2BLightSail%E3%81%A7%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E9%85%8D%E4%BF%A1%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%28CDN%29%E3%82%92%E4%BD%9C%E3%82%8B" title="Line" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=%2F2021%2F04%2F12%2Fcloudfrontlightsail%25e3%2581%25a7%25e3%2582%25b3%25e3%2583%25b3%25e3%2583%2586%25e3%2583%25b3%25e3%2583%2584%25e9%2585%258d%25e4%25bf%25a1%25e3%2582%25b5%25e3%2583%25bc%25e3%2583%2593%25e3%2582%25b9cdn%25e3%2582%2592%25e4%25bd%259c%25e3%2582%258b%2F&amp;linkname=Cloudfront%2BLightSail%E3%81%A7%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E9%85%8D%E4%BF%A1%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%28CDN%29%E3%82%92%E4%BD%9C%E3%82%8B" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_facebook_messenger" href="https://www.addtoany.com/add_to/facebook_messenger?linkurl=%2F2021%2F04%2F12%2Fcloudfrontlightsail%25e3%2581%25a7%25e3%2582%25b3%25e3%2583%25b3%25e3%2583%2586%25e3%2583%25b3%25e3%2583%2584%25e9%2585%258d%25e4%25bf%25a1%25e3%2582%25b5%25e3%2583%25bc%25e3%2583%2593%25e3%2582%25b9cdn%25e3%2582%2592%25e4%25bd%259c%25e3%2582%258b%2F&amp;linkname=Cloudfront%2BLightSail%E3%81%A7%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E9%85%8D%E4%BF%A1%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%28CDN%29%E3%82%92%E4%BD%9C%E3%82%8B" title="Facebook Messenger" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_copy_link" href="https://www.addtoany.com/add_to/copy_link?linkurl=%2F2021%2F04%2F12%2Fcloudfrontlightsail%25e3%2581%25a7%25e3%2582%25b3%25e3%2583%25b3%25e3%2583%2586%25e3%2583%25b3%25e3%2583%2584%25e9%2585%258d%25e4%25bf%25a1%25e3%2582%25b5%25e3%2583%25bc%25e3%2583%2593%25e3%2582%25b9cdn%25e3%2582%2592%25e4%25bd%259c%25e3%2582%258b%2F&amp;linkname=Cloudfront%2BLightSail%E3%81%A7%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E9%85%8D%E4%BF%A1%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%28CDN%29%E3%82%92%E4%BD%9C%E3%82%8B" title="Copy Link" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=%2F2021%2F04%2F12%2Fcloudfrontlightsail%25e3%2581%25a7%25e3%2582%25b3%25e3%2583%25b3%25e3%2583%2586%25e3%2583%25b3%25e3%2583%2584%25e9%2585%258d%25e4%25bf%25a1%25e3%2582%25b5%25e3%2583%25bc%25e3%2583%2593%25e3%2582%25b9cdn%25e3%2582%2592%25e4%25bd%259c%25e3%2582%258b%2F&#038;title=Cloudfront%2BLightSail%E3%81%A7%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E9%85%8D%E4%BF%A1%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%28CDN%29%E3%82%92%E4%BD%9C%E3%82%8B" data-a2a-url="/2021/04/12/cloudfrontlightsail%e3%81%a7%e3%82%b3%e3%83%b3%e3%83%86%e3%83%b3%e3%83%84%e9%85%8d%e4%bf%a1%e3%82%b5%e3%83%bc%e3%83%93%e3%82%b9cdn%e3%82%92%e4%bd%9c%e3%82%8b/" data-a2a-title="Cloudfront+LightSailでコンテンツ配信サービス(CDN)を作る"></a></p><p>The post <a href="/2021/04/12/cloudfrontlightsail%e3%81%a7%e3%82%b3%e3%83%b3%e3%83%86%e3%83%b3%e3%83%84%e9%85%8d%e4%bf%a1%e3%82%b5%e3%83%bc%e3%83%93%e3%82%b9cdn%e3%82%92%e4%bd%9c%e3%82%8b/">Cloudfront+LightSailでコンテンツ配信サービス(CDN)を作る</a> first appeared on <a href="/">MasaruのIT＆マーケティングBLOG  |  Info Tech & Marketing BLOG by Masaru</a>.</p>]]></content:encoded>
					
					<wfw:commentRss>/2021/04/12/cloudfrontlightsail%e3%81%a7%e3%82%b3%e3%83%b3%e3%83%86%e3%83%b3%e3%83%84%e9%85%8d%e4%bf%a1%e3%82%b5%e3%83%bc%e3%83%93%e3%82%b9cdn%e3%82%92%e4%bd%9c%e3%82%8b/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">389</post-id>	</item>
	</channel>
</rss>
